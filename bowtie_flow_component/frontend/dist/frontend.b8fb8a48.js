let e,t,n,r,i,o,a,s;function l(e,t,n,r){Object.defineProperty(e,t,{get:n,set:r,enumerable:!0,configurable:!0})}function u(e){return e&&e.__esModule?e.default:e}var c,d,h,f,p,y,g,m,b,v,w,_,x,S,E,C,k,I,M,N,T,A,O,D,B,P,L,R,z,F,U,V,$,j,H,W,Y,X,q,K,G,Z,Q,J,ee,et,en,er,ei,eo,ea,es,el,eu,ec,ed,eh,ef,ep,ey,eg,em,eb,ev,ew,e_,ex,eS,eE,eC,ek,eI,eM,eN,eT,eA,eO,eD,eB,eP,eL,eR,ez,eF,eU,eV,e$,ej,eH=globalThis,eW={},eY={},eX=eH.parcelRequire94c2;null==eX&&((eX=function(e){if(e in eW)return eW[e].exports;if(e in eY){var t=eY[e];delete eY[e];var n={id:e,exports:{}};return eW[e]=n,t.call(n.exports,n,n.exports),n.exports}var r=Error("Cannot find module '"+e+"'");throw r.code="MODULE_NOT_FOUND",r}).register=function(e,t){eY[e]=t},eH.parcelRequire94c2=eX);var eq=eX.register;eq("1b2ls",function(e,t){l(e.exports,"Fragment",()=>n,e=>n=e),l(e.exports,"jsx",()=>r,e=>r=e),l(e.exports,"jsxs",()=>i,e=>i=e);var n,r,i,o=eX("acw62"),a=Symbol.for("react.element"),s=Symbol.for("react.fragment"),u=Object.prototype.hasOwnProperty,c=o.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,d={key:!0,ref:!0,__self:!0,__source:!0};function h(e,t,n){var r,i={},o=null,s=null;for(r in void 0!==n&&(o=""+n),void 0!==t.key&&(o=""+t.key),void 0!==t.ref&&(s=t.ref),t)u.call(t,r)&&!d.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===i[r]&&(i[r]=t[r]);return{$$typeof:a,type:e,key:o,ref:s,props:i,_owner:c.current}}n=s,r=h,i=h}),eq("acw62",function(e,t){e.exports=eX("2pUnB")}),eq("2pUnB",function(e,t){l(e.exports,"Children",()=>n,e=>n=e),l(e.exports,"Component",()=>r,e=>r=e),l(e.exports,"Fragment",()=>i,e=>i=e),l(e.exports,"Profiler",()=>o,e=>o=e),l(e.exports,"PureComponent",()=>a,e=>a=e),l(e.exports,"StrictMode",()=>s,e=>s=e),l(e.exports,"Suspense",()=>u,e=>u=e),l(e.exports,"__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED",()=>c,e=>c=e),l(e.exports,"act",()=>d,e=>d=e),l(e.exports,"cloneElement",()=>h,e=>h=e),l(e.exports,"createContext",()=>f,e=>f=e),l(e.exports,"createElement",()=>p,e=>p=e),l(e.exports,"createFactory",()=>y,e=>y=e),l(e.exports,"createRef",()=>g,e=>g=e),l(e.exports,"forwardRef",()=>m,e=>m=e),l(e.exports,"isValidElement",()=>b,e=>b=e),l(e.exports,"lazy",()=>v,e=>v=e),l(e.exports,"memo",()=>w,e=>w=e),l(e.exports,"startTransition",()=>_,e=>_=e),l(e.exports,"unstable_act",()=>x,e=>x=e),l(e.exports,"useCallback",()=>S,e=>S=e),l(e.exports,"useContext",()=>E,e=>E=e),l(e.exports,"useDebugValue",()=>C,e=>C=e),l(e.exports,"useDeferredValue",()=>k,e=>k=e),l(e.exports,"useEffect",()=>I,e=>I=e),l(e.exports,"useId",()=>M,e=>M=e),l(e.exports,"useImperativeHandle",()=>N,e=>N=e),l(e.exports,"useInsertionEffect",()=>T,e=>T=e),l(e.exports,"useLayoutEffect",()=>A,e=>A=e),l(e.exports,"useMemo",()=>O,e=>O=e),l(e.exports,"useReducer",()=>D,e=>D=e),l(e.exports,"useRef",()=>B,e=>B=e),l(e.exports,"useState",()=>P,e=>P=e),l(e.exports,"useSyncExternalStore",()=>L,e=>L=e),l(e.exports,"useTransition",()=>R,e=>R=e),l(e.exports,"version",()=>z,e=>z=e);var n,r,i,o,a,s,u,c,d,h,f,p,y,g,m,b,v,w,_,x,S,E,C,k,I,M,N,T,A,O,D,B,P,L,R,z,F=Symbol.for("react.element"),U=Symbol.for("react.portal"),V=Symbol.for("react.fragment"),$=Symbol.for("react.strict_mode"),j=Symbol.for("react.profiler"),H=Symbol.for("react.provider"),W=Symbol.for("react.context"),Y=Symbol.for("react.forward_ref"),X=Symbol.for("react.suspense"),q=Symbol.for("react.memo"),K=Symbol.for("react.lazy"),G=Symbol.iterator,Z={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Q=Object.assign,J={};function ee(e,t,n){this.props=e,this.context=t,this.refs=J,this.updater=n||Z}function et(){}function en(e,t,n){this.props=e,this.context=t,this.refs=J,this.updater=n||Z}ee.prototype.isReactComponent={},ee.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},ee.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},et.prototype=ee.prototype;var er=en.prototype=new et;er.constructor=en,Q(er,ee.prototype),er.isPureReactComponent=!0;var ei=Array.isArray,eo=Object.prototype.hasOwnProperty,ea={current:null},es={key:!0,ref:!0,__self:!0,__source:!0};function el(e,t,n){var r,i={},o=null,a=null;if(null!=t)for(r in void 0!==t.ref&&(a=t.ref),void 0!==t.key&&(o=""+t.key),t)eo.call(t,r)&&!es.hasOwnProperty(r)&&(i[r]=t[r]);var s=arguments.length-2;if(1===s)i.children=n;else if(1<s){for(var l=Array(s),u=0;u<s;u++)l[u]=arguments[u+2];i.children=l}if(e&&e.defaultProps)for(r in s=e.defaultProps)void 0===i[r]&&(i[r]=s[r]);return{$$typeof:F,type:e,key:o,ref:a,props:i,_owner:ea.current}}function eu(e){return"object"==typeof e&&null!==e&&e.$$typeof===F}var ec=/\/+/g;function ed(e,t){var n,r;return"object"==typeof e&&null!==e&&null!=e.key?(n=""+e.key,r={"=":"=0",":":"=2"},"$"+n.replace(/[=:]/g,function(e){return r[e]})):t.toString(36)}function eh(e,t,n){if(null==e)return e;var r=[],i=0;return!function e(t,n,r,i,o){var a,s,l,u=typeof t;("undefined"===u||"boolean"===u)&&(t=null);var c=!1;if(null===t)c=!0;else switch(u){case"string":case"number":c=!0;break;case"object":switch(t.$$typeof){case F:case U:c=!0}}if(c)return o=o(c=t),t=""===i?"."+ed(c,0):i,ei(o)?(r="",null!=t&&(r=t.replace(ec,"$&/")+"/"),e(o,n,r,"",function(e){return e})):null!=o&&(eu(o)&&(a=o,s=r+(!o.key||c&&c.key===o.key?"":(""+o.key).replace(ec,"$&/")+"/")+t,o={$$typeof:F,type:a.type,key:s,ref:a.ref,props:a.props,_owner:a._owner}),n.push(o)),1;if(c=0,i=""===i?".":i+":",ei(t))for(var d=0;d<t.length;d++){var h=i+ed(u=t[d],d);c+=e(u,n,r,h,o)}else if("function"==typeof(h=null===(l=t)||"object"!=typeof l?null:"function"==typeof(l=G&&l[G]||l["@@iterator"])?l:null))for(t=h.call(t),d=0;!(u=t.next()).done;)h=i+ed(u=u.value,d++),c+=e(u,n,r,h,o);else if("object"===u)throw Error("Objects are not valid as a React child (found: "+("[object Object]"===(n=String(t))?"object with keys {"+Object.keys(t).join(", ")+"}":n)+"). If you meant to render a collection of children, use an array instead.");return c}(e,r,"","",function(e){return t.call(n,e,i++)}),r}function ef(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){(0===e._status||-1===e._status)&&(e._status=1,e._result=t)},function(t){(0===e._status||-1===e._status)&&(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var ep={current:null},ey={transition:null};function eg(){throw Error("act(...) is not supported in production builds of React.")}n={map:eh,forEach:function(e,t,n){eh(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return eh(e,function(){t++}),t},toArray:function(e){return eh(e,function(e){return e})||[]},only:function(e){if(!eu(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},r=ee,i=V,o=j,a=en,s=$,u=X,c={ReactCurrentDispatcher:ep,ReactCurrentBatchConfig:ey,ReactCurrentOwner:ea},d=eg,h=function(e,t,n){if(null==e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=Q({},e.props),i=e.key,o=e.ref,a=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,a=ea.current),void 0!==t.key&&(i=""+t.key),e.type&&e.type.defaultProps)var s=e.type.defaultProps;for(l in t)eo.call(t,l)&&!es.hasOwnProperty(l)&&(r[l]=void 0===t[l]&&void 0!==s?s[l]:t[l])}var l=arguments.length-2;if(1===l)r.children=n;else if(1<l){s=Array(l);for(var u=0;u<l;u++)s[u]=arguments[u+2];r.children=s}return{$$typeof:F,type:e.type,key:i,ref:o,props:r,_owner:a}},f=function(e){return(e={$$typeof:W,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:H,_context:e},e.Consumer=e},p=el,y=function(e){var t=el.bind(null,e);return t.type=e,t},g=function(){return{current:null}},m=function(e){return{$$typeof:Y,render:e}},b=eu,v=function(e){return{$$typeof:K,_payload:{_status:-1,_result:e},_init:ef}},w=function(e,t){return{$$typeof:q,type:e,compare:void 0===t?null:t}},_=function(e){var t=ey.transition;ey.transition={};try{e()}finally{ey.transition=t}},x=eg,S=function(e,t){return ep.current.useCallback(e,t)},E=function(e){return ep.current.useContext(e)},C=function(){},k=function(e){return ep.current.useDeferredValue(e)},I=function(e,t){return ep.current.useEffect(e,t)},M=function(){return ep.current.useId()},N=function(e,t,n){return ep.current.useImperativeHandle(e,t,n)},T=function(e,t){return ep.current.useInsertionEffect(e,t)},A=function(e,t){return ep.current.useLayoutEffect(e,t)},O=function(e,t){return ep.current.useMemo(e,t)},D=function(e,t,n){return ep.current.useReducer(e,t,n)},B=function(e){return ep.current.useRef(e)},P=function(e){return ep.current.useState(e)},L=function(e,t,n){return ep.current.useSyncExternalStore(e,t,n)},R=function(){return ep.current.useTransition()},z="18.3.1"}),eq("Xw6Mv",function(e,t){l(e.exports,"__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED",()=>$,e=>$=e),l(e.exports,"createPortal",()=>j,e=>j=e),l(e.exports,"createRoot",()=>H,e=>H=e),l(e.exports,"findDOMNode",()=>W,e=>W=e),l(e.exports,"flushSync",()=>Y,e=>Y=e),l(e.exports,"hydrate",()=>X,e=>X=e),l(e.exports,"hydrateRoot",()=>q,e=>q=e),l(e.exports,"render",()=>K,e=>K=e),l(e.exports,"unmountComponentAtNode",()=>G,e=>G=e),l(e.exports,"unstable_batchedUpdates",()=>Z,e=>Z=e),l(e.exports,"unstable_renderSubtreeIntoContainer",()=>Q,e=>Q=e),l(e.exports,"version",()=>J,e=>J=e);var n,r,i,o,a,s,u=eX("acw62"),c=eX("fO90s");function d(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var h=new Set,f={};function p(e,t){y(e,t),y(e+"Capture",t)}function y(e,t){for(f[e]=t,e=0;e<t.length;e++)h.add(t[e])}var g="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement,m=Object.prototype.hasOwnProperty,b=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,v={},w={};function _(e,t,n,r,i,o,a){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=a}var x={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){x[e]=new _(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];x[t]=new _(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){x[e]=new _(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){x[e]=new _(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){x[e]=new _(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){x[e]=new _(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){x[e]=new _(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){x[e]=new _(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){x[e]=new _(e,5,!1,e.toLowerCase(),null,!1,!1)});var S=/[\-:]([a-z])/g;function E(e){return e[1].toUpperCase()}function C(e,t,n,r){var i,o=x.hasOwnProperty(t)?x[t]:null;(null!==o?0!==o.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null==t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":if(r)return!1;if(null!==n)return!n.acceptsBooleans;return"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e;default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,o,r)&&(n=null),r||null===o?(i=t,(m.call(w,i)||!m.call(v,i)&&(b.test(i)?w[i]=!0:(v[i]=!0,!1)))&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n))):o.mustUseProperty?e[o.propertyName]=null===n?3!==o.type&&"":n:(t=o.attributeName,r=o.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(o=o.type)||4===o&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(S,E);x[t]=new _(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(S,E);x[t]=new _(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(S,E);x[t]=new _(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){x[e]=new _(e,1,!1,e.toLowerCase(),null,!1,!1)}),x.xlinkHref=new _("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){x[e]=new _(e,1,!1,e.toLowerCase(),null,!0,!0)});var k=u.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,I=Symbol.for("react.element"),M=Symbol.for("react.portal"),N=Symbol.for("react.fragment"),T=Symbol.for("react.strict_mode"),A=Symbol.for("react.profiler"),O=Symbol.for("react.provider"),D=Symbol.for("react.context"),B=Symbol.for("react.forward_ref"),P=Symbol.for("react.suspense"),L=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),z=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var F=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var U=Symbol.iterator;function V(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=U&&e[U]||e["@@iterator"])?e:null}var $,j,H,W,Y,X,q,K,G,Z,Q,J,ee,et=Object.assign;function en(e){if(void 0===ee)try{throw Error()}catch(e){var t=e.stack.trim().match(/\n( *(at )?)/);ee=t&&t[1]||""}return"\n"+ee+e}var er=!1;function ei(e,t){if(!e||er)return"";er=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"==typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(e){var r=e}Reflect.construct(e,[],t)}else{try{t.call()}catch(e){r=e}e.call(t.prototype)}else{try{throw Error()}catch(e){r=e}e()}}catch(t){if(t&&r&&"string"==typeof t.stack){for(var i=t.stack.split("\n"),o=r.stack.split("\n"),a=i.length-1,s=o.length-1;1<=a&&0<=s&&i[a]!==o[s];)s--;for(;1<=a&&0<=s;a--,s--)if(i[a]!==o[s]){if(1!==a||1!==s)do if(a--,0>--s||i[a]!==o[s]){var l="\n"+i[a].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=a&&0<=s)break}}}finally{er=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?en(e):""}function eo(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function ea(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function es(e){e._valueTracker||(e._valueTracker=function(e){var t=ea(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&void 0!==n&&"function"==typeof n.get&&"function"==typeof n.set){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function el(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=ea(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function eu(e){if(void 0===(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function ec(e,t){var n=t.checked;return et({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function ed(e,t){var n=null==t.defaultValue?"":t.defaultValue;e._wrapperState={initialChecked:null!=t.checked?t.checked:t.defaultChecked,initialValue:n=eo(null!=t.value?t.value:n),controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function eh(e,t){null!=(t=t.checked)&&C(e,"checked",t,!1)}function ef(e,t){eh(e,t);var n=eo(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ey(e,t.type,n):t.hasOwnProperty("defaultValue")&&ey(e,t.type,eo(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function ep(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(("submit"===r||"reset"===r)&&(void 0===t.value||null===t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ey(e,t,n){("number"!==t||eu(e.ownerDocument)!==e)&&(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var eg=Array.isArray;function em(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(i=0,n=""+eo(n),t=null;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function eb(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(d(91));return et({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ev(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(d(92));if(eg(n)){if(1<n.length)throw Error(d(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:eo(n)}}function ew(e,t){var n=eo(t.value),r=eo(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function e_(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function ex(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function eS(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?ex(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var eE,eC,ek=(eE=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((eC=eC||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=eC.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction(function(){return eE(e,t,n,r)})}:eE);function eI(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType){n.nodeValue=t;return}}e.textContent=t}var eM={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},eN=["Webkit","ms","Moz","O"];function eT(e,t,n){return null==t||"boolean"==typeof t||""===t?"":n||"number"!=typeof t||0===t||eM.hasOwnProperty(e)&&eM[e]?(""+t).trim():t+"px"}function eA(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=eT(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(eM).forEach(function(e){eN.forEach(function(t){eM[t=t+e.charAt(0).toUpperCase()+e.substring(1)]=eM[e]})});var eO=et({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function eD(e,t){if(t){if(eO[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(d(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(d(60));if("object"!=typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(d(61))}if(null!=t.style&&"object"!=typeof t.style)throw Error(d(62))}}function eB(e,t){if(-1===e.indexOf("-"))return"string"==typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var eP=null;function eL(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var eR=null,ez=null,eF=null;function eU(e){if(e=rK(e)){if("function"!=typeof eR)throw Error(d(280));var t=e.stateNode;t&&(t=rZ(t),eR(e.stateNode,e.type,t))}}function eV(e){ez?eF?eF.push(e):eF=[e]:ez=e}function e$(){if(ez){var e=ez,t=eF;if(eF=ez=null,eU(e),t)for(e=0;e<t.length;e++)eU(t[e])}}function ej(e,t){return e(t)}function eH(){}var eW=!1;function eY(e,t,n){if(eW)return e(t,n);eW=!0;try{return ej(e,t,n)}finally{eW=!1,(null!==ez||null!==eF)&&(eH(),e$())}}function eq(e,t){var n=e.stateNode;if(null===n)return null;var r=rZ(n);if(null===r)return null;switch(n=r[t],t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r="button"!==(e=e.type)&&"input"!==e&&"select"!==e&&"textarea"!==e),e=!r;break;default:e=!1}if(e)return null;if(n&&"function"!=typeof n)throw Error(d(231,t,typeof n));return n}var eK=!1;if(g)try{var eG={};Object.defineProperty(eG,"passive",{get:function(){eK=!0}}),window.addEventListener("test",eG,eG),window.removeEventListener("test",eG,eG)}catch(e){eK=!1}function eZ(e,t,n,r,i,o,a,s,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(e){this.onError(e)}}var eQ=!1,eJ=null,e0=!1,e1=null,e2={onError:function(e){eQ=!0,eJ=e}};function e3(e,t,n,r,i,o,a,s,l){eQ=!1,eJ=null,eZ.apply(e2,arguments)}function e4(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do 0!=(4098&(t=e).flags)&&(n=t.return),e=t.return;while(e)}return 3===t.tag?n:null}function e6(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&null!==(e=e.alternate)&&(t=e.memoizedState),null!==t)return t.dehydrated}return null}function e8(e){if(e4(e)!==e)throw Error(d(188))}function e5(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=e4(e)))throw Error(d(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return e8(i),e;if(o===r)return e8(i),t;o=o.sibling}throw Error(d(188))}if(n.return!==r.return)n=i,r=o;else{for(var a=!1,s=i.child;s;){if(s===n){a=!0,n=i,r=o;break}if(s===r){a=!0,r=i,n=o;break}s=s.sibling}if(!a){for(s=o.child;s;){if(s===n){a=!0,n=o,r=i;break}if(s===r){a=!0,r=o,n=i;break}s=s.sibling}if(!a)throw Error(d(189))}}if(n.alternate!==r)throw Error(d(190))}if(3!==n.tag)throw Error(d(188));return n.stateNode.current===n?e:t}(e))?function e(t){if(5===t.tag||6===t.tag)return t;for(t=t.child;null!==t;){var n=e(t);if(null!==n)return n;t=t.sibling}return null}(e):null}var e9=c.unstable_scheduleCallback,e7=c.unstable_cancelCallback,te=c.unstable_shouldYield,tt=c.unstable_requestPaint,tn=c.unstable_now,tr=c.unstable_getCurrentPriorityLevel,ti=c.unstable_ImmediatePriority,to=c.unstable_UserBlockingPriority,ta=c.unstable_NormalPriority,ts=c.unstable_LowPriority,tl=c.unstable_IdlePriority,tu=null,tc=null,td=Math.clz32?Math.clz32:function(e){return 0==(e>>>=0)?32:31-(th(e)/tf|0)|0},th=Math.log,tf=Math.LN2,tp=64,ty=4194304;function tg(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 0x1000000:case 0x2000000:case 0x4000000:return 0x7c00000&e;case 0x8000000:return 0x8000000;case 0x10000000:return 0x10000000;case 0x20000000:return 0x20000000;case 0x40000000:return 0x40000000;default:return e}}function tm(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,o=e.pingedLanes,a=0xfffffff&n;if(0!==a){var s=a&~i;0!==s?r=tg(s):0!=(o&=a)&&(r=tg(o))}else 0!=(a=n&~i)?r=tg(a):0!==o&&(r=tg(o));if(0===r)return 0;if(0!==t&&t!==r&&0==(t&i)&&((i=r&-r)>=(o=t&-t)||16===i&&0!=(4194240&o)))return t;if(0!=(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-td(t)),r|=e[n],t&=~i;return r}function tb(e){return 0!=(e=-0x40000001&e.pendingLanes)?e:0x40000000&e?0x40000000:0}function tv(){var e=tp;return 0==(4194240&(tp<<=1))&&(tp=64),e}function tw(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function t_(e,t,n){e.pendingLanes|=t,0x20000000!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-td(t)]=n}function tx(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-td(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var tS=0;function tE(e){return 1<(e&=-e)?4<e?0!=(0xfffffff&e)?16:0x20000000:4:1}var tC,tk,tI,tM,tN,tT=!1,tA=[],tO=null,tD=null,tB=null,tP=new Map,tL=new Map,tR=[],tz="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function tF(e,t){switch(e){case"focusin":case"focusout":tO=null;break;case"dragenter":case"dragleave":tD=null;break;case"mouseover":case"mouseout":tB=null;break;case"pointerover":case"pointerout":tP.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":tL.delete(t.pointerId)}}function tU(e,t,n,r,i,o){return null===e||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},null!==t&&null!==(t=rK(t))&&tk(t)):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i)),e}function tV(e){var t=rq(e.target);if(null!==t){var n=e4(t);if(null!==n){if(13===(t=n.tag)){if(null!==(t=e6(n))){e.blockedOn=t,tN(e.priority,function(){tI(n)});return}}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=3===n.tag?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function t$(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=tJ(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=rK(n))&&tk(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);eP=r,n.target.dispatchEvent(r),eP=null,t.shift()}return!0}function tj(e,t,n){t$(e)&&n.delete(t)}function tH(){tT=!1,null!==tO&&t$(tO)&&(tO=null),null!==tD&&t$(tD)&&(tD=null),null!==tB&&t$(tB)&&(tB=null),tP.forEach(tj),tL.forEach(tj)}function tW(e,t){e.blockedOn===t&&(e.blockedOn=null,tT||(tT=!0,c.unstable_scheduleCallback(c.unstable_NormalPriority,tH)))}function tY(e){function t(t){return tW(t,e)}if(0<tA.length){tW(tA[0],e);for(var n=1;n<tA.length;n++){var r=tA[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==tO&&tW(tO,e),null!==tD&&tW(tD,e),null!==tB&&tW(tB,e),tP.forEach(t),tL.forEach(t),n=0;n<tR.length;n++)(r=tR[n]).blockedOn===e&&(r.blockedOn=null);for(;0<tR.length&&null===(n=tR[0]).blockedOn;)tV(n),null===n.blockedOn&&tR.shift()}var tX=k.ReactCurrentBatchConfig,tq=!0;function tK(e,t,n,r){var i=tS,o=tX.transition;tX.transition=null;try{tS=1,tZ(e,t,n,r)}finally{tS=i,tX.transition=o}}function tG(e,t,n,r){var i=tS,o=tX.transition;tX.transition=null;try{tS=4,tZ(e,t,n,r)}finally{tS=i,tX.transition=o}}function tZ(e,t,n,r){if(tq){var i=tJ(e,t,n,r);if(null===i)rw(e,t,r,tQ,n),tF(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return tO=tU(tO,e,t,n,r,i),!0;case"dragenter":return tD=tU(tD,e,t,n,r,i),!0;case"mouseover":return tB=tU(tB,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return tP.set(o,tU(tP.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,tL.set(o,tU(tL.get(o)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(tF(e,r),4&t&&-1<tz.indexOf(e)){for(;null!==i;){var o=rK(i);if(null!==o&&tC(o),null===(o=tJ(e,t,n,r))&&rw(e,t,r,tQ,n),o===i)break;i=o}null!==i&&r.stopPropagation()}else rw(e,t,r,null,n)}}var tQ=null;function tJ(e,t,n,r){if(tQ=null,null!==(e=rq(e=eL(r))))if(null===(t=e4(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=e6(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return tQ=e,null}function t0(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(tr()){case ti:return 1;case to:return 4;case ta:case ts:return 16;case tl:return 0x20000000;default:return 16}default:return 16}}var t1=null,t2=null,t3=null;function t4(){if(t3)return t3;var e,t,n=t2,r=n.length,i="value"in t1?t1.value:t1.textContent,o=i.length;for(e=0;e<r&&n[e]===i[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===i[o-t];t++);return t3=i.slice(e,1<t?1-t:void 0)}function t6(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function t8(){return!0}function t5(){return!1}function t9(e){function t(t,n,r,i,o){for(var a in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(i):i[a]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?t8:t5,this.isPropagationStopped=t5,this}return et(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=t8)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=t8)},persist:function(){},isPersistent:t8}),t}var t7,ne,nt,nn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},nr=t9(nn),ni=et({},nn,{view:0,detail:0}),no=t9(ni),na=et({},ni,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:nm,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==nt&&(nt&&"mousemove"===e.type?(t7=e.screenX-nt.screenX,ne=e.screenY-nt.screenY):ne=t7=0,nt=e),t7)},movementY:function(e){return"movementY"in e?e.movementY:ne}}),ns=t9(na),nl=t9(et({},na,{dataTransfer:0})),nu=t9(et({},ni,{relatedTarget:0})),nc=t9(et({},nn,{animationName:0,elapsedTime:0,pseudoElement:0})),nd=t9(et({},nn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}})),nh=t9(et({},nn,{data:0})),nf={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},np={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ny={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ng(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=ny[e])&&!!t[e]}function nm(){return ng}var nb=t9(et({},ni,{key:function(e){if(e.key){var t=nf[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=t6(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?np[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:nm,charCode:function(e){return"keypress"===e.type?t6(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?t6(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),nv=t9(et({},na,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),nw=t9(et({},ni,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:nm})),n_=t9(et({},nn,{propertyName:0,elapsedTime:0,pseudoElement:0})),nx=t9(et({},na,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),nS=[9,13,27,32],nE=g&&"CompositionEvent"in window,nC=null;g&&"documentMode"in document&&(nC=document.documentMode);var nk=g&&"TextEvent"in window&&!nC,nI=g&&(!nE||nC&&8<nC&&11>=nC),nM=!1;function nN(e,t){switch(e){case"keyup":return -1!==nS.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function nT(e){return"object"==typeof(e=e.detail)&&"data"in e?e.data:null}var nA=!1,nO={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function nD(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!nO[e.type]:"textarea"===t}function nB(e,t,n,r){eV(r),0<(t=rx(t,"onChange")).length&&(n=new nr("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var nP=null,nL=null;function nR(e){rp(e,0)}function nz(e){if(el(rG(e)))return e}function nF(e,t){if("change"===e)return t}var nU=!1;if(g){if(g){var nV="oninput"in document;if(!nV){var n$=document.createElement("div");n$.setAttribute("oninput","return;"),nV="function"==typeof n$.oninput}n=nV}else n=!1;nU=n&&(!document.documentMode||9<document.documentMode)}function nj(){nP&&(nP.detachEvent("onpropertychange",nH),nL=nP=null)}function nH(e){if("value"===e.propertyName&&nz(nL)){var t=[];nB(t,nL,e,eL(e)),eY(nR,t)}}function nW(e,t,n){"focusin"===e?(nj(),nP=t,nL=n,nP.attachEvent("onpropertychange",nH)):"focusout"===e&&nj()}function nY(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return nz(nL)}function nX(e,t){if("click"===e)return nz(t)}function nq(e,t){if("input"===e||"change"===e)return nz(t)}var nK="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t};function nG(e,t){if(nK(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!m.call(t,i)||!nK(e[i],t[i]))return!1}return!0}function nZ(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function nQ(e,t){var n,r=nZ(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=nZ(r)}}function nJ(){for(var e=window,t=eu();t instanceof e.HTMLIFrameElement;){try{var n="string"==typeof t.contentWindow.location.href}catch(e){n=!1}if(n)e=t.contentWindow;else break;t=eu(e.document)}return t}function n0(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var n1=g&&"documentMode"in document&&11>=document.documentMode,n2=null,n3=null,n4=null,n6=!1;function n8(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;n6||null==n2||n2!==eu(r)||(r="selectionStart"in(r=n2)&&n0(r)?{start:r.selectionStart,end:r.selectionEnd}:{anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},n4&&nG(n4,r)||(n4=r,0<(r=rx(n3,"onSelect")).length&&(t=new nr("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=n2)))}function n5(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var n9={animationend:n5("Animation","AnimationEnd"),animationiteration:n5("Animation","AnimationIteration"),animationstart:n5("Animation","AnimationStart"),transitionend:n5("Transition","TransitionEnd")},n7={},re={};function rt(e){if(n7[e])return n7[e];if(!n9[e])return e;var t,n=n9[e];for(t in n)if(n.hasOwnProperty(t)&&t in re)return n7[e]=n[t];return e}g&&(re=document.createElement("div").style,"AnimationEvent"in window||(delete n9.animationend.animation,delete n9.animationiteration.animation,delete n9.animationstart.animation),"TransitionEvent"in window||delete n9.transitionend.transition);var rn=rt("animationend"),rr=rt("animationiteration"),ri=rt("animationstart"),ro=rt("transitionend"),ra=new Map,rs="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function rl(e,t){ra.set(e,t),p(t,[e])}for(var ru=0;ru<rs.length;ru++){var rc=rs[ru];rl(rc.toLowerCase(),"on"+(rc[0].toUpperCase()+rc.slice(1)))}rl(rn,"onAnimationEnd"),rl(rr,"onAnimationIteration"),rl(ri,"onAnimationStart"),rl("dblclick","onDoubleClick"),rl("focusin","onFocus"),rl("focusout","onBlur"),rl(ro,"onTransitionEnd"),y("onMouseEnter",["mouseout","mouseover"]),y("onMouseLeave",["mouseout","mouseover"]),y("onPointerEnter",["pointerout","pointerover"]),y("onPointerLeave",["pointerout","pointerover"]),p("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),p("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),p("onBeforeInput",["compositionend","keypress","textInput","paste"]),p("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),p("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),p("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var rd="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),rh=new Set("cancel close invalid load scroll toggle".split(" ").concat(rd));function rf(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,a,s,l){if(e3.apply(this,arguments),eQ){if(eQ){var u=eJ;eQ=!1,eJ=null}else throw Error(d(198));e0||(e0=!0,e1=u)}}(r,t,void 0,e),e.currentTarget=null}function rp(e,t){t=0!=(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var a=r.length-1;0<=a;a--){var s=r[a],l=s.instance,u=s.currentTarget;if(s=s.listener,l!==o&&i.isPropagationStopped())break e;rf(i,s,u),o=l}else for(a=0;a<r.length;a++){if(l=(s=r[a]).instance,u=s.currentTarget,s=s.listener,l!==o&&i.isPropagationStopped())break e;rf(i,s,u),o=l}}}if(e0)throw e=e1,e0=!1,e1=null,e}function ry(e,t){var n=t[rW];void 0===n&&(n=t[rW]=new Set);var r=e+"__bubble";n.has(r)||(rv(t,e,2,!1),n.add(r))}function rg(e,t,n){var r=0;t&&(r|=4),rv(n,e,r,t)}var rm="_reactListening"+Math.random().toString(36).slice(2);function rb(e){if(!e[rm]){e[rm]=!0,h.forEach(function(t){"selectionchange"!==t&&(rh.has(t)||rg(t,!1,e),rg(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[rm]||(t[rm]=!0,rg("selectionchange",!1,t))}}function rv(e,t,n,r){switch(t0(t)){case 1:var i=tK;break;case 4:i=tG;break;default:i=tZ}n=i.bind(null,t,n,e),i=void 0,eK&&("touchstart"===t||"touchmove"===t||"wheel"===t)&&(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function rw(e,t,n,r,i){var o=r;if(0==(1&t)&&0==(2&t)&&null!==r)e:for(;;){if(null===r)return;var a=r.tag;if(3===a||4===a){var s=r.stateNode.containerInfo;if(s===i||8===s.nodeType&&s.parentNode===i)break;if(4===a)for(a=r.return;null!==a;){var l=a.tag;if((3===l||4===l)&&((l=a.stateNode.containerInfo)===i||8===l.nodeType&&l.parentNode===i))return;a=a.return}for(;null!==s;){if(null===(a=rq(s)))return;if(5===(l=a.tag)||6===l){r=o=a;continue e}s=s.parentNode}}r=r.return}eY(function(){var r=o,i=eL(n),a=[];e:{var s=ra.get(e);if(void 0!==s){var l=nr,u=e;switch(e){case"keypress":if(0===t6(n))break e;case"keydown":case"keyup":l=nb;break;case"focusin":u="focus",l=nu;break;case"focusout":u="blur",l=nu;break;case"beforeblur":case"afterblur":l=nu;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=ns;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=nl;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=nw;break;case rn:case rr:case ri:l=nc;break;case ro:l=n_;break;case"scroll":l=no;break;case"wheel":l=nx;break;case"copy":case"cut":case"paste":l=nd;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=nv}var c=0!=(4&t),d=!c&&"scroll"===e,h=c?null!==s?s+"Capture":null:s;c=[];for(var f,p=r;null!==p;){var y=(f=p).stateNode;if(5===f.tag&&null!==y&&(f=y,null!==h&&null!=(y=eq(p,h))&&c.push(r_(p,y,f))),d)break;p=p.return}0<c.length&&(s=new l(s,u,null,n,i),a.push({event:s,listeners:c}))}}if(0==(7&t)){if((s="mouseover"===e||"pointerover"===e,l="mouseout"===e||"pointerout"===e,!(s&&n!==eP&&(u=n.relatedTarget||n.fromElement)&&(rq(u)||u[rH])))&&(l||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,l?(u=n.relatedTarget||n.toElement,l=r,null!==(u=u?rq(u):null)&&(d=e4(u),u!==d||5!==u.tag&&6!==u.tag)&&(u=null)):(l=null,u=r),l!==u)){if(c=ns,y="onMouseLeave",h="onMouseEnter",p="mouse",("pointerout"===e||"pointerover"===e)&&(c=nv,y="onPointerLeave",h="onPointerEnter",p="pointer"),d=null==l?s:rG(l),f=null==u?s:rG(u),(s=new c(y,p+"leave",l,n,i)).target=d,s.relatedTarget=f,y=null,rq(i)===r&&((c=new c(h,p+"enter",u,n,i)).target=f,c.relatedTarget=d,y=c),d=y,l&&u)t:{for(c=l,h=u,p=0,f=c;f;f=rS(f))p++;for(f=0,y=h;y;y=rS(y))f++;for(;0<p-f;)c=rS(c),p--;for(;0<f-p;)h=rS(h),f--;for(;p--;){if(c===h||null!==h&&c===h.alternate)break t;c=rS(c),h=rS(h)}c=null}else c=null;null!==l&&rE(a,s,l,c,!1),null!==u&&null!==d&&rE(a,d,u,c,!0)}e:{if("select"===(l=(s=r?rG(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===l&&"file"===s.type)var g,m=nF;else if(nD(s))if(nU)m=nq;else{m=nY;var b=nW}else(l=s.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(m=nX);if(m&&(m=m(e,r))){nB(a,m,n,i);break e}b&&b(e,s,r),"focusout"===e&&(b=s._wrapperState)&&b.controlled&&"number"===s.type&&ey(s,"number",s.value)}switch(b=r?rG(r):window,e){case"focusin":(nD(b)||"true"===b.contentEditable)&&(n2=b,n3=r,n4=null);break;case"focusout":n4=n3=n2=null;break;case"mousedown":n6=!0;break;case"contextmenu":case"mouseup":case"dragend":n6=!1,n8(a,n,i);break;case"selectionchange":if(n1)break;case"keydown":case"keyup":n8(a,n,i)}if(nE)t:{switch(e){case"compositionstart":var v="onCompositionStart";break t;case"compositionend":v="onCompositionEnd";break t;case"compositionupdate":v="onCompositionUpdate";break t}v=void 0}else nA?nN(e,n)&&(v="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(v="onCompositionStart");v&&(nI&&"ko"!==n.locale&&(nA||"onCompositionStart"!==v?"onCompositionEnd"===v&&nA&&(g=t4()):(t2="value"in(t1=i)?t1.value:t1.textContent,nA=!0)),0<(b=rx(r,v)).length&&(v=new nh(v,e,null,n,i),a.push({event:v,listeners:b}),g?v.data=g:null!==(g=nT(n))&&(v.data=g))),(g=nk?function(e,t){switch(e){case"compositionend":return nT(t);case"keypress":if(32!==t.which)return null;return nM=!0," ";case"textInput":return" "===(e=t.data)&&nM?null:e;default:return null}}(e,n):function(e,t){if(nA)return"compositionend"===e||!nE&&nN(e,t)?(e=t4(),t3=t2=t1=null,nA=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return nI&&"ko"!==t.locale?null:t.data}}(e,n))&&0<(r=rx(r,"onBeforeInput")).length&&(i=new nh("onBeforeInput","beforeinput",null,n,i),a.push({event:i,listeners:r}),i.data=g)}rp(a,t)})}function r_(e,t,n){return{instance:e,listener:t,currentTarget:n}}function rx(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,o=i.stateNode;5===i.tag&&null!==o&&(i=o,null!=(o=eq(e,n))&&r.unshift(r_(e,o,i)),null!=(o=eq(e,t))&&r.push(r_(e,o,i))),e=e.return}return r}function rS(e){if(null===e)return null;do e=e.return;while(e&&5!==e.tag)return e||null}function rE(e,t,n,r,i){for(var o=t._reactName,a=[];null!==n&&n!==r;){var s=n,l=s.alternate,u=s.stateNode;if(null!==l&&l===r)break;5===s.tag&&null!==u&&(s=u,i?null!=(l=eq(n,o))&&a.unshift(r_(n,l,s)):i||null!=(l=eq(n,o))&&a.push(r_(n,l,s))),n=n.return}0!==a.length&&e.push({event:t,listeners:a})}var rC=/\r\n?/g,rk=/\u0000|\uFFFD/g;function rI(e){return("string"==typeof e?e:""+e).replace(rC,"\n").replace(rk,"")}function rM(e,t,n){if(t=rI(t),rI(e)!==t&&n)throw Error(d(425))}function rN(){}var rT=null,rA=null;function rO(e,t){return"textarea"===e||"noscript"===e||"string"==typeof t.children||"number"==typeof t.children||"object"==typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var rD="function"==typeof setTimeout?setTimeout:void 0,rB="function"==typeof clearTimeout?clearTimeout:void 0,rP="function"==typeof Promise?Promise:void 0,rL="function"==typeof queueMicrotask?queueMicrotask:void 0!==rP?function(e){return rP.resolve(null).then(e).catch(rR)}:rD;function rR(e){setTimeout(function(){throw e})}function rz(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r){e.removeChild(i),tY(t);return}r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n)tY(t)}function rF(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function rU(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var rV=Math.random().toString(36).slice(2),r$="__reactFiber$"+rV,rj="__reactProps$"+rV,rH="__reactContainer$"+rV,rW="__reactEvents$"+rV,rY="__reactListeners$"+rV,rX="__reactHandles$"+rV;function rq(e){var t=e[r$];if(t)return t;for(var n=e.parentNode;n;){if(t=n[rH]||n[r$]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=rU(e);null!==e;){if(n=e[r$])return n;e=rU(e)}return t}n=(e=n).parentNode}return null}function rK(e){return(e=e[r$]||e[rH])&&(5===e.tag||6===e.tag||13===e.tag||3===e.tag)?e:null}function rG(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(d(33))}function rZ(e){return e[rj]||null}var rQ=[],rJ=-1;function r0(e){return{current:e}}function r1(e){0>rJ||(e.current=rQ[rJ],rQ[rJ]=null,rJ--)}function r2(e,t){rQ[++rJ]=e.current,e.current=t}var r3={},r4=r0(r3),r6=r0(!1),r8=r3;function r5(e,t){var n=e.type.contextTypes;if(!n)return r3;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in n)o[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function r9(e){return null!=(e=e.childContextTypes)}function r7(){r1(r6),r1(r4)}function ie(e,t,n){if(r4.current!==r3)throw Error(d(168));r2(r4,t),r2(r6,n)}function it(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!=typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(d(108,function(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return function e(t){if(null==t)return null;if("function"==typeof t)return t.displayName||t.name||null;if("string"==typeof t)return t;switch(t){case N:return"Fragment";case M:return"Portal";case A:return"Profiler";case T:return"StrictMode";case P:return"Suspense";case L:return"SuspenseList"}if("object"==typeof t)switch(t.$$typeof){case D:return(t.displayName||"Context")+".Consumer";case O:return(t._context.displayName||"Context")+".Provider";case B:var n=t.render;return(t=t.displayName)||(t=""!==(t=n.displayName||n.name||"")?"ForwardRef("+t+")":"ForwardRef"),t;case R:return null!==(n=t.displayName||null)?n:e(t.type)||"Memo";case z:n=t._payload,t=t._init;try{return e(t(n))}catch(e){}}return null}(t);case 8:return t===T?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"==typeof t)return t.displayName||t.name||null;if("string"==typeof t)return t}return null}(e)||"Unknown",i));return et({},n,r)}function ir(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||r3,r8=r4.current,r2(r4,e),r2(r6,r6.current),!0}function ii(e,t,n){var r=e.stateNode;if(!r)throw Error(d(169));n?(r.__reactInternalMemoizedMergedChildContext=e=it(e,t,r8),r1(r6),r1(r4),r2(r4,e)):r1(r6),r2(r6,n)}var io=null,ia=!1,is=!1;function il(e){null===io?io=[e]:io.push(e)}function iu(){if(!is&&null!==io){is=!0;var e=0,t=tS;try{var n=io;for(tS=1;e<n.length;e++){var r=n[e];do r=r(!0);while(null!==r)}io=null,ia=!1}catch(t){throw null!==io&&(io=io.slice(e+1)),e9(ti,iu),t}finally{tS=t,is=!1}}return null}var ic=[],id=0,ih=null,ip=0,iy=[],ig=0,im=null,ib=1,iv="";function iw(e,t){ic[id++]=ip,ic[id++]=ih,ih=e,ip=t}function i_(e,t,n){iy[ig++]=ib,iy[ig++]=iv,iy[ig++]=im,im=e;var r=ib;e=iv;var i=32-td(r)-1;r&=~(1<<i),n+=1;var o=32-td(t)+i;if(30<o){var a=i-i%5;o=(r&(1<<a)-1).toString(32),r>>=a,i-=a,ib=1<<32-td(t)+i|n<<i|r,iv=o+e}else ib=1<<o|n<<i|r,iv=e}function ix(e){null!==e.return&&(iw(e,1),i_(e,1,0))}function iS(e){for(;e===ih;)ih=ic[--id],ic[id]=null,ip=ic[--id],ic[id]=null;for(;e===im;)im=iy[--ig],iy[ig]=null,iv=iy[--ig],iy[ig]=null,ib=iy[--ig],iy[ig]=null}var iE=null,iC=null,ik=!1,iI=null;function iM(e,t){var n=s5(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function iN(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,iE=e,iC=rF(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,iE=e,iC=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(e.memoizedState={dehydrated:t,treeContext:n=null!==im?{id:ib,overflow:iv}:null,retryLane:0x40000000},(n=s5(18,null,null,0)).stateNode=t,n.return=e,e.child=n,iE=e,iC=null,!0);default:return!1}}function iT(e){return 0!=(1&e.mode)&&0==(128&e.flags)}function iA(e){if(ik){var t=iC;if(t){var n=t;if(!iN(e,t)){if(iT(e))throw Error(d(418));t=rF(n.nextSibling);var r=iE;t&&iN(e,t)?iM(r,n):(e.flags=-4097&e.flags|2,ik=!1,iE=e)}}else{if(iT(e))throw Error(d(418));e.flags=-4097&e.flags|2,ik=!1,iE=e}}}function iO(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;iE=e}function iD(e){if(e!==iE)return!1;if(!ik)return iO(e),ik=!0,!1;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!rO(e.type,e.memoizedProps)),t&&(t=iC)){if(iT(e))throw iB(),Error(d(418));for(;t;)iM(e,t),t=rF(t.nextSibling)}if(iO(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(d(317));e:{for(t=0,e=e.nextSibling;e;){if(8===e.nodeType){var t,n=e.data;if("/$"===n){if(0===t){iC=rF(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}iC=null}}else iC=iE?rF(e.stateNode.nextSibling):null;return!0}function iB(){for(var e=iC;e;)e=rF(e.nextSibling)}function iP(){iC=iE=null,ik=!1}function iL(e){null===iI?iI=[e]:iI.push(e)}var iR=k.ReactCurrentBatchConfig;function iz(e,t,n){if(null!==(e=n.ref)&&"function"!=typeof e&&"object"!=typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(d(309));var r=n.stateNode}if(!r)throw Error(d(147,e));var i=r,o=""+e;return null!==t&&null!==t.ref&&"function"==typeof t.ref&&t.ref._stringRef===o?t.ref:((t=function(e){var t=i.refs;null===e?delete t[o]:t[o]=e})._stringRef=o,t)}if("string"!=typeof e)throw Error(d(284));if(!n._owner)throw Error(d(290,e))}return e}function iF(e,t){throw Error(d(31,"[object Object]"===(e=Object.prototype.toString.call(t))?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function iU(e){return(0,e._init)(e._payload)}function iV(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=s7(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return(t.index=r,e)?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function a(t){return e&&null===t.alternate&&(t.flags|=2),t}function s(e,t,n,r){return null===t||6!==t.tag?(t=lr(n,e.mode,r)).return=e:(t=i(t,n)).return=e,t}function l(e,t,n,r){var o=n.type;return o===N?c(e,t,n.props.children,r,n.key):(null!==t&&(t.elementType===o||"object"==typeof o&&null!==o&&o.$$typeof===z&&iU(o)===t.type)?(r=i(t,n.props)).ref=iz(e,t,n):(r=le(n.type,n.key,n.props,null,e.mode,r)).ref=iz(e,t,n),r.return=e,r)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?(t=li(n,e.mode,r)).return=e:(t=i(t,n.children||[])).return=e,t}function c(e,t,n,r,o){return null===t||7!==t.tag?(t=lt(n,e.mode,r,o)).return=e:(t=i(t,n)).return=e,t}function h(e,t,n){if("string"==typeof t&&""!==t||"number"==typeof t)return(t=lr(""+t,e.mode,n)).return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case I:return(n=le(t.type,t.key,t.props,null,e.mode,n)).ref=iz(e,null,t),n.return=e,n;case M:return(t=li(t,e.mode,n)).return=e,t;case z:return h(e,(0,t._init)(t._payload),n)}if(eg(t)||V(t))return(t=lt(t,e.mode,n,null)).return=e,t;iF(e,t)}return null}function f(e,t,n,r){var i=null!==t?t.key:null;if("string"==typeof n&&""!==n||"number"==typeof n)return null!==i?null:s(e,t,""+n,r);if("object"==typeof n&&null!==n){switch(n.$$typeof){case I:return n.key===i?l(e,t,n,r):null;case M:return n.key===i?u(e,t,n,r):null;case z:return f(e,t,(i=n._init)(n._payload),r)}if(eg(n)||V(n))return null!==i?null:c(e,t,n,r,null);iF(e,n)}return null}function p(e,t,n,r,i){if("string"==typeof r&&""!==r||"number"==typeof r)return s(t,e=e.get(n)||null,""+r,i);if("object"==typeof r&&null!==r){switch(r.$$typeof){case I:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i);case M:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i);case z:return p(e,t,n,(0,r._init)(r._payload),i)}if(eg(r)||V(r))return c(t,e=e.get(n)||null,r,i,null);iF(t,r)}return null}return function s(l,u,c,y){if("object"==typeof c&&null!==c&&c.type===N&&null===c.key&&(c=c.props.children),"object"==typeof c&&null!==c){switch(c.$$typeof){case I:e:{for(var g=c.key,m=u;null!==m;){if(m.key===g){if((g=c.type)===N){if(7===m.tag){n(l,m.sibling),(u=i(m,c.props.children)).return=l,l=u;break e}}else if(m.elementType===g||"object"==typeof g&&null!==g&&g.$$typeof===z&&iU(g)===m.type){n(l,m.sibling),(u=i(m,c.props)).ref=iz(l,m,c),u.return=l,l=u;break e}n(l,m);break}t(l,m),m=m.sibling}c.type===N?((u=lt(c.props.children,l.mode,y,c.key)).return=l,l=u):((y=le(c.type,c.key,c.props,null,l.mode,y)).ref=iz(l,u,c),y.return=l,l=y)}return a(l);case M:e:{for(m=c.key;null!==u;){if(u.key===m)if(4===u.tag&&u.stateNode.containerInfo===c.containerInfo&&u.stateNode.implementation===c.implementation){n(l,u.sibling),(u=i(u,c.children||[])).return=l,l=u;break e}else{n(l,u);break}t(l,u),u=u.sibling}(u=li(c,l.mode,y)).return=l,l=u}return a(l);case z:return s(l,u,(m=c._init)(c._payload),y)}if(eg(c))return function(i,a,s,l){for(var u=null,c=null,d=a,y=a=0,g=null;null!==d&&y<s.length;y++){d.index>y?(g=d,d=null):g=d.sibling;var m=f(i,d,s[y],l);if(null===m){null===d&&(d=g);break}e&&d&&null===m.alternate&&t(i,d),a=o(m,a,y),null===c?u=m:c.sibling=m,c=m,d=g}if(y===s.length)return n(i,d),ik&&iw(i,y),u;if(null===d){for(;y<s.length;y++)null!==(d=h(i,s[y],l))&&(a=o(d,a,y),null===c?u=d:c.sibling=d,c=d);return ik&&iw(i,y),u}for(d=r(i,d);y<s.length;y++)null!==(g=p(d,i,y,s[y],l))&&(e&&null!==g.alternate&&d.delete(null===g.key?y:g.key),a=o(g,a,y),null===c?u=g:c.sibling=g,c=g);return e&&d.forEach(function(e){return t(i,e)}),ik&&iw(i,y),u}(l,u,c,y);if(V(c))return function(i,a,s,l){var u=V(s);if("function"!=typeof u)throw Error(d(150));if(null==(s=u.call(s)))throw Error(d(151));for(var c=u=null,y=a,g=a=0,m=null,b=s.next();null!==y&&!b.done;g++,b=s.next()){y.index>g?(m=y,y=null):m=y.sibling;var v=f(i,y,b.value,l);if(null===v){null===y&&(y=m);break}e&&y&&null===v.alternate&&t(i,y),a=o(v,a,g),null===c?u=v:c.sibling=v,c=v,y=m}if(b.done)return n(i,y),ik&&iw(i,g),u;if(null===y){for(;!b.done;g++,b=s.next())null!==(b=h(i,b.value,l))&&(a=o(b,a,g),null===c?u=b:c.sibling=b,c=b);return ik&&iw(i,g),u}for(y=r(i,y);!b.done;g++,b=s.next())null!==(b=p(y,i,g,b.value,l))&&(e&&null!==b.alternate&&y.delete(null===b.key?g:b.key),a=o(b,a,g),null===c?u=b:c.sibling=b,c=b);return e&&y.forEach(function(e){return t(i,e)}),ik&&iw(i,g),u}(l,u,c,y);iF(l,c)}return"string"==typeof c&&""!==c||"number"==typeof c?(c=""+c,null!==u&&6===u.tag?(n(l,u.sibling),(u=i(u,c)).return=l):(n(l,u),(u=lr(c,l.mode,y)).return=l),a(l=u)):n(l,u)}}var i$=iV(!0),ij=iV(!1),iH=r0(null),iW=null,iY=null,iX=null;function iq(){iX=iY=iW=null}function iK(e){var t=iH.current;r1(iH),e._currentValue=t}function iG(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function iZ(e,t){iW=e,iX=iY=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!=(e.lanes&t)&&(aw=!0),e.firstContext=null)}function iQ(e){var t=e._currentValue;if(iX!==e)if(e={context:e,memoizedValue:t,next:null},null===iY){if(null===iW)throw Error(d(308));iY=e,iW.dependencies={lanes:0,firstContext:e}}else iY=iY.next=e;return t}var iJ=null;function i0(e){null===iJ?iJ=[e]:iJ.push(e)}function i1(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,i0(t)):(n.next=i.next,i.next=n),t.interleaved=n,i2(e,r)}function i2(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var i3=!1;function i4(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function i6(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function i8(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function i5(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!=(2&ss)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,i2(e,n)}return null===(i=r.interleaved)?(t.next=t,i0(r)):(t.next=i.next,i.next=t),r.interleaved=t,i2(e,n)}function i9(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!=(4194240&n))){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,tx(e,n)}}function i7(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===o?i=o=a:o=o.next=a,n=n.next}while(null!==n)null===o?i=o=t:o=o.next=t}else i=o=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},e.updateQueue=n;return}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function oe(e,t,n,r){var i=e.updateQueue;i3=!1;var o=i.firstBaseUpdate,a=i.lastBaseUpdate,s=i.shared.pending;if(null!==s){i.shared.pending=null;var l=s,u=l.next;l.next=null,null===a?o=u:a.next=u,a=l;var c=e.alternate;null!==c&&(s=(c=c.updateQueue).lastBaseUpdate)!==a&&(null===s?c.firstBaseUpdate=u:s.next=u,c.lastBaseUpdate=l)}if(null!==o){var d=i.baseState;for(a=0,c=u=l=null,s=o;;){var h=s.lane,f=s.eventTime;if((r&h)===h){null!==c&&(c=c.next={eventTime:f,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var p=e,y=s;switch(h=t,f=n,y.tag){case 1:if("function"==typeof(p=y.payload)){d=p.call(f,d,h);break e}d=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null==(h="function"==typeof(p=y.payload)?p.call(f,d,h):p))break e;d=et({},d,h);break e;case 2:i3=!0}}null!==s.callback&&0!==s.lane&&(e.flags|=64,null===(h=i.effects)?i.effects=[s]:h.push(s))}else f={eventTime:f,lane:h,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===c?(u=c=f,l=d):c=c.next=f,a|=h;if(null===(s=s.next))if(null===(s=i.shared.pending))break;else s=(h=s).next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}if(null===c&&(l=d),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,null!==(t=i.shared.interleaved)){i=t;do a|=i.lane,i=i.next;while(i!==t)}else null===o&&(i.shared.lanes=0);sy|=a,e.lanes=a,e.memoizedState=d}}function ot(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!=typeof i)throw Error(d(191,i));i.call(r)}}}var on={},or=r0(on),oi=r0(on),oo=r0(on);function oa(e){if(e===on)throw Error(d(174));return e}function os(e,t){switch(r2(oo,t),r2(oi,e),r2(or,on),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:eS(null,"");break;default:t=eS(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}r1(or),r2(or,t)}function ol(){r1(or),r1(oi),r1(oo)}function ou(e){oa(oo.current);var t=oa(or.current),n=eS(t,e.type);t!==n&&(r2(oi,e),r2(or,n))}function oc(e){oi.current===e&&(r1(or),r1(oi))}var od=r0(0);function oh(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!=(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var of=[];function op(){for(var e=0;e<of.length;e++)of[e]._workInProgressVersionPrimary=null;of.length=0}var oy=k.ReactCurrentDispatcher,og=k.ReactCurrentBatchConfig,om=0,ob=null,ov=null,ow=null,o_=!1,ox=!1,oS=0,oE=0;function oC(){throw Error(d(321))}function ok(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!nK(e[n],t[n]))return!1;return!0}function oI(e,t,n,r,i,o){if(om=o,ob=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,oy.current=null===e||null===e.memoizedState?ae:at,e=n(r,i),ox){o=0;do{if(ox=!1,oS=0,25<=o)throw Error(d(301));o+=1,ow=ov=null,t.updateQueue=null,oy.current=an,e=n(r,i)}while(ox)}if(oy.current=o7,t=null!==ov&&null!==ov.next,om=0,ow=ov=ob=null,o_=!1,t)throw Error(d(300));return e}function oM(){var e=0!==oS;return oS=0,e}function oN(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ow?ob.memoizedState=ow=e:ow=ow.next=e,ow}function oT(){if(null===ov){var e=ob.alternate;e=null!==e?e.memoizedState:null}else e=ov.next;var t=null===ow?ob.memoizedState:ow.next;if(null!==t)ow=t,ov=e;else{if(null===e)throw Error(d(310));e={memoizedState:(ov=e).memoizedState,baseState:ov.baseState,baseQueue:ov.baseQueue,queue:ov.queue,next:null},null===ow?ob.memoizedState=ow=e:ow=ow.next=e}return ow}function oA(e,t){return"function"==typeof t?t(e):t}function oO(e){var t=oT(),n=t.queue;if(null===n)throw Error(d(311));n.lastRenderedReducer=e;var r=ov,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var a=i.next;i.next=o.next,o.next=a}r.baseQueue=i=o,n.pending=null}if(null!==i){o=i.next,r=r.baseState;var s=a=null,l=null,u=o;do{var c=u.lane;if((om&c)===c)null!==l&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var h={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};null===l?(s=l=h,a=r):l=l.next=h,ob.lanes|=c,sy|=c}u=u.next}while(null!==u&&u!==o)null===l?a=r:l.next=s,nK(r,t.memoizedState)||(aw=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=l,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do o=i.lane,ob.lanes|=o,sy|=o,i=i.next;while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function oD(e){var t=oT(),n=t.queue;if(null===n)throw Error(d(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var a=i=i.next;do o=e(o,a.action),a=a.next;while(a!==i)nK(o,t.memoizedState)||(aw=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function oB(){}function oP(e,t){var n=ob,r=oT(),i=t(),o=!nK(r.memoizedState,i);if(o&&(r.memoizedState=i,aw=!0),r=r.queue,oX(oz.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||null!==ow&&1&ow.memoizedState.tag){if(n.flags|=2048,o$(9,oR.bind(null,n,r,i,t),void 0,null),null===sl)throw Error(d(349));0!=(30&om)||oL(n,t,i)}return i}function oL(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=ob.updateQueue)?(t={lastEffect:null,stores:null},ob.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function oR(e,t,n,r){t.value=n,t.getSnapshot=r,oF(t)&&oU(e)}function oz(e,t,n){return n(function(){oF(t)&&oU(e)})}function oF(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!nK(e,n)}catch(e){return!0}}function oU(e){var t=i2(e,1);null!==t&&sP(t,e,1,-1)}function oV(e){var t=oN();return"function"==typeof e&&(e=e()),t.memoizedState=t.baseState=e,t.queue=e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:oA,lastRenderedState:e},e=e.dispatch=o6.bind(null,ob,e),[t.memoizedState,e]}function o$(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=ob.updateQueue)?(t={lastEffect:null,stores:null},ob.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function oj(){return oT().memoizedState}function oH(e,t,n,r){var i=oN();ob.flags|=e,i.memoizedState=o$(1|t,n,void 0,void 0===r?null:r)}function oW(e,t,n,r){var i=oT();r=void 0===r?null:r;var o=void 0;if(null!==ov){var a=ov.memoizedState;if(o=a.destroy,null!==r&&ok(r,a.deps)){i.memoizedState=o$(t,n,o,r);return}}ob.flags|=e,i.memoizedState=o$(1|t,n,o,r)}function oY(e,t){return oH(8390656,8,e,t)}function oX(e,t){return oW(2048,8,e,t)}function oq(e,t){return oW(4,2,e,t)}function oK(e,t){return oW(4,4,e,t)}function oG(e,t){return"function"==typeof t?(t(e=e()),function(){t(null)}):null!=t?(t.current=e=e(),function(){t.current=null}):void 0}function oZ(e,t,n){return n=null!=n?n.concat([e]):null,oW(4,4,oG.bind(null,t,e),n)}function oQ(){}function oJ(e,t){var n=oT();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ok(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function o0(e,t){var n=oT();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ok(t,r[1])?r[0]:(n.memoizedState=[e=e(),t],e)}function o1(e,t,n){return 0==(21&om)?(e.baseState&&(e.baseState=!1,aw=!0),e.memoizedState=n):(nK(n,t)||(n=tv(),ob.lanes|=n,sy|=n,e.baseState=!0),t)}function o2(e,t){var n=tS;tS=0!==n&&4>n?n:4,e(!0);var r=og.transition;og.transition={};try{e(!1),t()}finally{tS=n,og.transition=r}}function o3(){return oT().memoizedState}function o4(e,t,n){var r=sB(e);n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},o8(e)?o5(t,n):null!==(n=i1(e,t,n,r))&&(sP(n,e,r,sD()),o9(n,t,r))}function o6(e,t,n){var r=sB(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(o8(e))o5(t,i);else{var o=e.alternate;if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var a=t.lastRenderedState,s=o(a,n);if(i.hasEagerState=!0,i.eagerState=s,nK(s,a)){var l=t.interleaved;null===l?(i.next=i,i0(t)):(i.next=l.next,l.next=i),t.interleaved=i;return}}catch(e){}finally{}null!==(n=i1(e,t,i,r))&&(sP(n,e,r,i=sD()),o9(n,t,r))}}function o8(e){var t=e.alternate;return e===ob||null!==t&&t===ob}function o5(e,t){ox=o_=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function o9(e,t,n){if(0!=(4194240&n)){var r=t.lanes;r&=e.pendingLanes,t.lanes=n|=r,tx(e,n)}}var o7={readContext:iQ,useCallback:oC,useContext:oC,useEffect:oC,useImperativeHandle:oC,useInsertionEffect:oC,useLayoutEffect:oC,useMemo:oC,useReducer:oC,useRef:oC,useState:oC,useDebugValue:oC,useDeferredValue:oC,useTransition:oC,useMutableSource:oC,useSyncExternalStore:oC,useId:oC,unstable_isNewReconciler:!1},ae={readContext:iQ,useCallback:function(e,t){return oN().memoizedState=[e,void 0===t?null:t],e},useContext:iQ,useEffect:oY,useImperativeHandle:function(e,t,n){return n=null!=n?n.concat([e]):null,oH(4194308,4,oG.bind(null,t,e),n)},useLayoutEffect:function(e,t){return oH(4194308,4,e,t)},useInsertionEffect:function(e,t){return oH(4,2,e,t)},useMemo:function(e,t){return t=void 0===t?null:t,oN().memoizedState=[e=e(),t],e},useReducer:function(e,t,n){var r=oN();return r.memoizedState=r.baseState=t=void 0!==n?n(t):t,r.queue=e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},e=e.dispatch=o4.bind(null,ob,e),[r.memoizedState,e]},useRef:function(e){return oN().memoizedState={current:e}},useState:oV,useDebugValue:oQ,useDeferredValue:function(e){return oN().memoizedState=e},useTransition:function(){var e=oV(!1),t=e[0];return e=o2.bind(null,e[1]),oN().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=ob,i=oN();if(ik){if(void 0===n)throw Error(d(407));n=n()}else{if(n=t(),null===sl)throw Error(d(349));0!=(30&om)||oL(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,oY(oz.bind(null,r,o,e),[e]),r.flags|=2048,o$(9,oR.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=oN(),t=sl.identifierPrefix;if(ik){var n=iv,r=ib;t=":"+t+"R"+(n=(r&~(1<<32-td(r)-1)).toString(32)+n),0<(n=oS++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=oE++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},at={readContext:iQ,useCallback:oJ,useContext:iQ,useEffect:oX,useImperativeHandle:oZ,useInsertionEffect:oq,useLayoutEffect:oK,useMemo:o0,useReducer:oO,useRef:oj,useState:function(){return oO(oA)},useDebugValue:oQ,useDeferredValue:function(e){return o1(oT(),ov.memoizedState,e)},useTransition:function(){return[oO(oA)[0],oT().memoizedState]},useMutableSource:oB,useSyncExternalStore:oP,useId:o3,unstable_isNewReconciler:!1},an={readContext:iQ,useCallback:oJ,useContext:iQ,useEffect:oX,useImperativeHandle:oZ,useInsertionEffect:oq,useLayoutEffect:oK,useMemo:o0,useReducer:oD,useRef:oj,useState:function(){return oD(oA)},useDebugValue:oQ,useDeferredValue:function(e){var t=oT();return null===ov?t.memoizedState=e:o1(t,ov.memoizedState,e)},useTransition:function(){return[oD(oA)[0],oT().memoizedState]},useMutableSource:oB,useSyncExternalStore:oP,useId:o3,unstable_isNewReconciler:!1};function ar(e,t){if(e&&e.defaultProps)for(var n in t=et({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}function ai(e,t,n,r){n=null==(n=n(r,t=e.memoizedState))?t:et({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var ao={isMounted:function(e){return!!(e=e._reactInternals)&&e4(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=sD(),i=sB(e),o=i8(r,i);o.payload=t,null!=n&&(o.callback=n),null!==(t=i5(e,o,i))&&(sP(t,e,i,r),i9(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=sD(),i=sB(e),o=i8(r,i);o.tag=1,o.payload=t,null!=n&&(o.callback=n),null!==(t=i5(e,o,i))&&(sP(t,e,i,r),i9(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=sD(),r=sB(e),i=i8(n,r);i.tag=2,null!=t&&(i.callback=t),null!==(t=i5(e,i,r))&&(sP(t,e,r,n),i9(t,e,r))}};function aa(e,t,n,r,i,o,a){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,o,a):!t.prototype||!t.prototype.isPureReactComponent||!nG(n,r)||!nG(i,o)}function as(e,t,n){var r=!1,i=r3,o=t.contextType;return"object"==typeof o&&null!==o?o=iQ(o):(i=r9(t)?r8:r4.current,o=(r=null!=(r=t.contextTypes))?r5(e,i):r3),t=new t(n,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=ao,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function al(e,t,n,r){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ao.enqueueReplaceState(t,t.state,null)}function au(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},i4(e);var o=t.contextType;"object"==typeof o&&null!==o?i.context=iQ(o):i.context=r5(e,o=r9(t)?r8:r4.current),i.state=e.memoizedState,"function"==typeof(o=t.getDerivedStateFromProps)&&(ai(e,t,o,n),i.state=e.memoizedState),"function"==typeof t.getDerivedStateFromProps||"function"==typeof i.getSnapshotBeforeUpdate||"function"!=typeof i.UNSAFE_componentWillMount&&"function"!=typeof i.componentWillMount||(t=i.state,"function"==typeof i.componentWillMount&&i.componentWillMount(),"function"==typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&ao.enqueueReplaceState(i,i.state,null),oe(e,n,i,r),i.state=e.memoizedState),"function"==typeof i.componentDidMount&&(e.flags|=4194308)}function ac(e,t){try{var n="",r=t;do n+=function(e){switch(e.tag){case 5:return en(e.type);case 16:return en("Lazy");case 13:return en("Suspense");case 19:return en("SuspenseList");case 0:case 2:case 15:return ei(e.type,!1);case 11:return ei(e.type.render,!1);case 1:return ei(e.type,!0);default:return""}}(r),r=r.return;while(r)var i=n}catch(e){i="\nError generating stack: "+e.message+"\n"+e.stack}return{value:e,source:t,stack:i,digest:null}}function ad(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function ah(e,t){try{console.error(t.value)}catch(e){setTimeout(function(){throw e})}}var af="function"==typeof WeakMap?WeakMap:Map;function ap(e,t,n){(n=i8(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){sS||(sS=!0,sE=r),ah(e,t)},n}function ay(e,t,n){(n=i8(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"==typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){ah(e,t)}}var o=e.stateNode;return null!==o&&"function"==typeof o.componentDidCatch&&(n.callback=function(){ah(e,t),"function"!=typeof r&&(null===sC?sC=new Set([this]):sC.add(this));var n=t.stack;this.componentDidCatch(t.value,{componentStack:null!==n?n:""})}),n}function ag(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new af;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=s2.bind(null,e,t,n),t.then(e,e))}function am(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e)return null}function ab(e,t,n,r,i){return 0==(1&e.mode)?e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=i8(-1,1)).tag=2,i5(n,t,1))),n.lanes|=1):(e.flags|=65536,e.lanes=i),e}var av=k.ReactCurrentOwner,aw=!1;function a_(e,t,n,r){t.child=null===e?ij(t,null,n,r):i$(t,e.child,n,r)}function ax(e,t,n,r,i){n=n.render;var o=t.ref;return(iZ(t,i),r=oI(e,t,n,r,o,i),n=oM(),null===e||aw)?(ik&&n&&ix(t),t.flags|=1,a_(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,aV(e,t,i))}function aS(e,t,n,r,i){if(null===e){var o=n.type;return"function"!=typeof o||s9(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=le(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,aE(e,t,o,r,i))}if(o=e.child,0==(e.lanes&i)){var a=o.memoizedProps;if((n=null!==(n=n.compare)?n:nG)(a,r)&&e.ref===t.ref)return aV(e,t,i)}return t.flags|=1,(e=s7(o,r)).ref=t.ref,e.return=t,t.child=e}function aE(e,t,n,r,i){if(null!==e){var o=e.memoizedProps;if(nG(o,r)&&e.ref===t.ref)if(aw=!1,t.pendingProps=r=o,0==(e.lanes&i))return t.lanes=e.lanes,aV(e,t,i);else 0!=(131072&e.flags)&&(aw=!0)}return aI(e,t,n,r,i)}function aC(e,t,n){var r=t.pendingProps,i=r.children,o=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0==(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r2(sh,sd),sd|=n;else{if(0==(0x40000000&n))return e=null!==o?o.baseLanes|n:n,t.lanes=t.childLanes=0x40000000,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,r2(sh,sd),sd|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==o?o.baseLanes:n,r2(sh,sd),sd|=r}else null!==o?(r=o.baseLanes|n,t.memoizedState=null):r=n,r2(sh,sd),sd|=r;return a_(e,t,i,n),t.child}function ak(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function aI(e,t,n,r,i){var o=r9(n)?r8:r4.current;return(o=r5(t,o),iZ(t,i),n=oI(e,t,n,r,o,i),r=oM(),null===e||aw)?(ik&&r&&ix(t),t.flags|=1,a_(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,aV(e,t,i))}function aM(e,t,n,r,i){if(r9(n)){var o=!0;ir(t)}else o=!1;if(iZ(t,i),null===t.stateNode)aU(e,t),as(t,n,r),au(t,n,r,i),r=!0;else if(null===e){var a=t.stateNode,s=t.memoizedProps;a.props=s;var l=a.context,u=n.contextType;u="object"==typeof u&&null!==u?iQ(u):r5(t,u=r9(n)?r8:r4.current);var c=n.getDerivedStateFromProps,d="function"==typeof c||"function"==typeof a.getSnapshotBeforeUpdate;d||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(s!==r||l!==u)&&al(t,a,r,u),i3=!1;var h=t.memoizedState;a.state=h,oe(t,r,a,i),l=t.memoizedState,s!==r||h!==l||r6.current||i3?("function"==typeof c&&(ai(t,n,c,r),l=t.memoizedState),(s=i3||aa(t,n,s,r,h,l,u))?(d||"function"!=typeof a.UNSAFE_componentWillMount&&"function"!=typeof a.componentWillMount||("function"==typeof a.componentWillMount&&a.componentWillMount(),"function"==typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"==typeof a.componentDidMount&&(t.flags|=4194308)):("function"==typeof a.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),a.props=r,a.state=l,a.context=u,r=s):("function"==typeof a.componentDidMount&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,i6(e,t),s=t.memoizedProps,u=t.type===t.elementType?s:ar(t.type,s),a.props=u,d=t.pendingProps,h=a.context,l="object"==typeof(l=n.contextType)&&null!==l?iQ(l):r5(t,l=r9(n)?r8:r4.current);var f=n.getDerivedStateFromProps;(c="function"==typeof f||"function"==typeof a.getSnapshotBeforeUpdate)||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(s!==d||h!==l)&&al(t,a,r,l),i3=!1,h=t.memoizedState,a.state=h,oe(t,r,a,i);var p=t.memoizedState;s!==d||h!==p||r6.current||i3?("function"==typeof f&&(ai(t,n,f,r),p=t.memoizedState),(u=i3||aa(t,n,u,r,h,p,l)||!1)?(c||"function"!=typeof a.UNSAFE_componentWillUpdate&&"function"!=typeof a.componentWillUpdate||("function"==typeof a.componentWillUpdate&&a.componentWillUpdate(r,p,l),"function"==typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,p,l)),"function"==typeof a.componentDidUpdate&&(t.flags|=4),"function"==typeof a.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!=typeof a.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!=typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),a.props=r,a.state=p,a.context=l,r=u):("function"!=typeof a.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!=typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return aN(e,t,n,r,o,i)}function aN(e,t,n,r,i,o){ak(e,t);var a=0!=(128&t.flags);if(!r&&!a)return i&&ii(t,n,!1),aV(e,t,o);r=t.stateNode,av.current=t;var s=a&&"function"!=typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&a?(t.child=i$(t,e.child,null,o),t.child=i$(t,null,s,o)):a_(e,t,s,o),t.memoizedState=r.state,i&&ii(t,n,!0),t.child}function aT(e){var t=e.stateNode;t.pendingContext?ie(e,t.pendingContext,t.pendingContext!==t.context):t.context&&ie(e,t.context,!1),os(e,t.containerInfo)}function aA(e,t,n,r,i){return iP(),iL(i),t.flags|=256,a_(e,t,n,r),t.child}var aO={dehydrated:null,treeContext:null,retryLane:0};function aD(e){return{baseLanes:e,cachePool:null,transitions:null}}function aB(e,t,n){var r,i=t.pendingProps,o=od.current,a=!1,s=0!=(128&t.flags);if((r=s)||(r=(null===e||null!==e.memoizedState)&&0!=(2&o)),r?(a=!0,t.flags&=-129):(null===e||null!==e.memoizedState)&&(o|=1),r2(od,1&o),null===e)return(iA(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated))?(0==(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=0x40000000,null):(s=i.children,e=i.fallback,a?(i=t.mode,a=t.child,s={mode:"hidden",children:s},0==(1&i)&&null!==a?(a.childLanes=0,a.pendingProps=s):a=ln(s,i,0,null),e=lt(e,i,n,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=aD(n),t.memoizedState=aO,e):aP(t,s));if(null!==(o=e.memoizedState)&&null!==(r=o.dehydrated)){var l=e,u=t,c=s,h=i,f=r,p=o,y=n;if(c)return 256&u.flags?(u.flags&=-257,aL(l,u,y,h=ad(Error(d(422))))):null!==u.memoizedState?(u.child=l.child,u.flags|=128,null):(p=h.fallback,f=u.mode,h=ln({mode:"visible",children:h.children},f,0,null),p=lt(p,f,y,null),p.flags|=2,h.return=u,p.return=u,h.sibling=p,u.child=h,0!=(1&u.mode)&&i$(u,l.child,null,y),u.child.memoizedState=aD(y),u.memoizedState=aO,p);if(0==(1&u.mode))return aL(l,u,y,null);if("$!"===f.data){if(h=f.nextSibling&&f.nextSibling.dataset)var g=h.dgst;return h=g,aL(l,u,y,h=ad(p=Error(d(419)),h,void 0))}if(g=0!=(y&l.childLanes),aw||g){if(null!==(h=sl)){switch(y&-y){case 4:f=2;break;case 16:f=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 0x1000000:case 0x2000000:case 0x4000000:f=32;break;case 0x20000000:f=0x10000000;break;default:f=0}0!==(f=0!=(f&(h.suspendedLanes|y))?0:f)&&f!==p.retryLane&&(p.retryLane=f,i2(l,f),sP(h,l,f,-1))}return sq(),aL(l,u,y,h=ad(Error(d(421))))}return"$?"===f.data?(u.flags|=128,u.child=l.child,u=s4.bind(null,l),f._reactRetry=u,null):(l=p.treeContext,iC=rF(f.nextSibling),iE=u,ik=!0,iI=null,null!==l&&(iy[ig++]=ib,iy[ig++]=iv,iy[ig++]=im,ib=l.id,iv=l.overflow,im=u),u=aP(u,h.children),u.flags|=4096,u)}if(a){a=i.fallback,s=t.mode,r=(o=e.child).sibling;var m={mode:"hidden",children:i.children};return 0==(1&s)&&t.child!==o?((i=t.child).childLanes=0,i.pendingProps=m,t.deletions=null):(i=s7(o,m)).subtreeFlags=0xe00000&o.subtreeFlags,null!==r?a=s7(r,a):(a=lt(a,s,n,null),a.flags|=2),a.return=t,i.return=t,i.sibling=a,t.child=i,i=a,a=t.child,s=null===(s=e.child.memoizedState)?aD(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},a.memoizedState=s,a.childLanes=e.childLanes&~n,t.memoizedState=aO,i}return e=(a=e.child).sibling,i=s7(a,{mode:"visible",children:i.children}),0==(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function aP(e,t){return(t=ln({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function aL(e,t,n,r){return null!==r&&iL(r),i$(t,e.child,null,n),e=aP(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function aR(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),iG(e.return,t,n)}function az(e,t,n,r,i){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function aF(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(a_(e,t,r.children,n),0!=(2&(r=od.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!=(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&aR(e,n,t);else if(19===e.tag)aR(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(r2(od,r),0==(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(i=null,n=t.child;null!==n;)null!==(e=n.alternate)&&null===oh(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),az(t,!1,i,n,o);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===oh(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}az(t,!0,n,null,o);break;case"together":az(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function aU(e,t){0==(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function aV(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),sy|=t.lanes,0==(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(d(153));if(null!==t.child){for(n=s7(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=s7(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function a$(e,t){if(!ik)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function aj(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=0xe00000&i.subtreeFlags,r|=0xe00000&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}r=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},i=function(){},o=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,oa(or.current);var o,a=null;switch(n){case"input":i=ec(e,i),r=ec(e,r),a=[];break;case"select":i=et({},i,{value:void 0}),r=et({},r,{value:void 0}),a=[];break;case"textarea":i=eb(e,i),r=eb(e,r),a=[];break;default:"function"!=typeof i.onClick&&"function"==typeof r.onClick&&(e.onclick=rN)}for(u in eD(n,r),n=null,i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&null!=i[u])if("style"===u){var s=i[u];for(o in s)s.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(f.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in r){var l=r[u];if(s=null!=i?i[u]:void 0,r.hasOwnProperty(u)&&l!==s&&(null!=l||null!=s))if("style"===u)if(s){for(o in s)!s.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&s[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(a||(a=[]),a.push(u,n)),n=l;else"dangerouslySetInnerHTML"===u?(l=l?l.__html:void 0,s=s?s.__html:void 0,null!=l&&s!==l&&(a=a||[]).push(u,l)):"children"===u?"string"!=typeof l&&"number"!=typeof l||(a=a||[]).push(u,""+l):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(f.hasOwnProperty(u)?(null!=l&&"onScroll"===u&&ry("scroll",e),a||s===l||(a=[])):(a=a||[]).push(u,l))}n&&(a=a||[]).push("style",n);var u=a;(t.updateQueue=u)&&(t.flags|=4)}},a=function(e,t,n,r){n!==r&&(t.flags|=4)};var aH=!1,aW=!1,aY="function"==typeof WeakSet?WeakSet:Set,aX=null;function aq(e,t){var n=e.ref;if(null!==n)if("function"==typeof n)try{n(null)}catch(n){s1(e,t,n)}else n.current=null}function aK(e,t,n){try{n()}catch(n){s1(e,t,n)}}var aG=!1;function aZ(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var o=i.destroy;i.destroy=void 0,void 0!==o&&aK(t,n,o)}i=i.next}while(i!==r)}}function aQ(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function aJ(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"==typeof t?t(e):t.current=e}}function a0(e){return 5===e.tag||3===e.tag||4===e.tag}function a1(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||a0(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags||null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}var a2=null,a3=!1;function a4(e,t,n){for(n=n.child;null!==n;)a6(e,t,n),n=n.sibling}function a6(e,t,n){if(tc&&"function"==typeof tc.onCommitFiberUnmount)try{tc.onCommitFiberUnmount(tu,n)}catch(e){}switch(n.tag){case 5:aW||aq(n,t);case 6:var r=a2,i=a3;a2=null,a4(e,t,n),a2=r,a3=i,null!==a2&&(a3?(e=a2,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):a2.removeChild(n.stateNode));break;case 18:null!==a2&&(a3?(e=a2,n=n.stateNode,8===e.nodeType?rz(e.parentNode,n):1===e.nodeType&&rz(e,n),tY(e)):rz(a2,n.stateNode));break;case 4:r=a2,i=a3,a2=n.stateNode.containerInfo,a3=!0,a4(e,t,n),a2=r,a3=i;break;case 0:case 11:case 14:case 15:if(!aW&&null!==(r=n.updateQueue)&&null!==(r=r.lastEffect)){i=r=r.next;do{var o=i,a=o.destroy;o=o.tag,void 0!==a&&(0!=(2&o)?aK(n,t,a):0!=(4&o)&&aK(n,t,a)),i=i.next}while(i!==r)}a4(e,t,n);break;case 1:if(!aW&&(aq(n,t),"function"==typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(e){s1(n,t,e)}a4(e,t,n);break;case 21:default:a4(e,t,n);break;case 22:1&n.mode?(aW=(r=aW)||null!==n.memoizedState,a4(e,t,n),aW=r):a4(e,t,n)}}function a8(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new aY),t.forEach(function(t){var r=s6.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))})}}function a5(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var o=t,a=o;e:for(;null!==a;){switch(a.tag){case 5:a2=a.stateNode,a3=!1;break e;case 3:case 4:a2=a.stateNode.containerInfo,a3=!0;break e}a=a.return}if(null===a2)throw Error(d(160));a6(e,o,i),a2=null,a3=!1;var s=i.alternate;null!==s&&(s.return=null),i.return=null}catch(e){s1(i,t,e)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)a9(t,e),t=t.sibling}function a9(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(a5(t,e),a7(e),4&r){try{aZ(3,e,e.return),aQ(3,e)}catch(t){s1(e,e.return,t)}try{aZ(5,e,e.return)}catch(t){s1(e,e.return,t)}}break;case 1:a5(t,e),a7(e),512&r&&null!==n&&aq(n,n.return);break;case 5:if(a5(t,e),a7(e),512&r&&null!==n&&aq(n,n.return),32&e.flags){var i=e.stateNode;try{eI(i,"")}catch(t){s1(e,e.return,t)}}if(4&r&&null!=(i=e.stateNode)){var o=e.memoizedProps,a=null!==n?n.memoizedProps:o,s=e.type,l=e.updateQueue;if(e.updateQueue=null,null!==l)try{"input"===s&&"radio"===o.type&&null!=o.name&&eh(i,o),eB(s,a);var u=eB(s,o);for(a=0;a<l.length;a+=2){var c=l[a],h=l[a+1];"style"===c?eA(i,h):"dangerouslySetInnerHTML"===c?ek(i,h):"children"===c?eI(i,h):C(i,c,h,u)}switch(s){case"input":ef(i,o);break;case"textarea":ew(i,o);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var p=o.value;null!=p?em(i,!!o.multiple,p,!1):!!o.multiple!==f&&(null!=o.defaultValue?em(i,!!o.multiple,o.defaultValue,!0):em(i,!!o.multiple,o.multiple?[]:"",!1))}i[rj]=o}catch(t){s1(e,e.return,t)}}break;case 6:if(a5(t,e),a7(e),4&r){if(null===e.stateNode)throw Error(d(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(t){s1(e,e.return,t)}}break;case 3:if(a5(t,e),a7(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{tY(t.containerInfo)}catch(t){s1(e,e.return,t)}break;case 4:default:a5(t,e),a7(e);break;case 13:a5(t,e),a7(e),8192&(i=e.child).flags&&(o=null!==i.memoizedState,i.stateNode.isHidden=o,o&&(null===i.alternate||null===i.alternate.memoizedState)&&(sw=tn())),4&r&&a8(e);break;case 22:if(c=null!==n&&null!==n.memoizedState,1&e.mode?(aW=(u=aW)||c,a5(t,e),aW=u):a5(t,e),a7(e),8192&r){if(u=null!==e.memoizedState,(e.stateNode.isHidden=u)&&!c&&0!=(1&e.mode))for(aX=e,c=e.child;null!==c;){for(h=aX=c;null!==aX;){switch(p=(f=aX).child,f.tag){case 0:case 11:case 14:case 15:aZ(4,f,f.return);break;case 1:aq(f,f.return);var y=f.stateNode;if("function"==typeof y.componentWillUnmount){r=f,n=f.return;try{y.props=(t=r).memoizedProps,y.state=t.memoizedState,y.componentWillUnmount()}catch(e){s1(r,n,e)}}break;case 5:aq(f,f.return);break;case 22:if(null!==f.memoizedState){st(h);continue}}null!==p?(p.return=f,aX=p):st(h)}c=c.sibling}e:for(c=null,h=e;;){if(5===h.tag){if(null===c){c=h;try{i=h.stateNode,u?(o=i.style,"function"==typeof o.setProperty?o.setProperty("display","none","important"):o.display="none"):(s=h.stateNode,a=null!=(l=h.memoizedProps.style)&&l.hasOwnProperty("display")?l.display:null,s.style.display=eT("display",a))}catch(t){s1(e,e.return,t)}}}else if(6===h.tag){if(null===c)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(t){s1(e,e.return,t)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;c===h&&(c=null),h=h.return}c===h&&(c=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:a5(t,e),a7(e),4&r&&a8(e);case 21:}}function a7(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(a0(n)){var r=n;break e}n=n.return}throw Error(d(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(eI(i,""),r.flags&=-33);var o=a1(e);!function e(t,n,r){var i=t.tag;if(5===i||6===i)t=t.stateNode,n?r.insertBefore(t,n):r.appendChild(t);else if(4!==i&&null!==(t=t.child))for(e(t,n,r),t=t.sibling;null!==t;)e(t,n,r),t=t.sibling}(e,o,i);break;case 3:case 4:var a=r.stateNode.containerInfo,s=a1(e);!function e(t,n,r){var i=t.tag;if(5===i||6===i)t=t.stateNode,n?8===r.nodeType?r.parentNode.insertBefore(t,n):r.insertBefore(t,n):(8===r.nodeType?(n=r.parentNode).insertBefore(t,r):(n=r).appendChild(t),null!=(r=r._reactRootContainer)||null!==n.onclick||(n.onclick=rN));else if(4!==i&&null!==(t=t.child))for(e(t,n,r),t=t.sibling;null!==t;)e(t,n,r),t=t.sibling}(e,s,a);break;default:throw Error(d(161))}}catch(t){s1(e,e.return,t)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function se(e){for(;null!==aX;){var t=aX;if(0!=(8772&t.flags)){var n=t.alternate;try{if(0!=(8772&t.flags))switch(t.tag){case 0:case 11:case 15:aW||aQ(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!aW)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:ar(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&ot(t,o,r);break;case 3:var a=t.updateQueue;if(null!==a){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}ot(t,a,n)}break;case 5:var s=t.stateNode;if(null===n&&4&t.flags){n=s;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var u=t.alternate;if(null!==u){var c=u.memoizedState;if(null!==c){var h=c.dehydrated;null!==h&&tY(h)}}}break;default:throw Error(d(163))}aW||512&t.flags&&aJ(t)}catch(e){s1(t,t.return,e)}}if(t===e){aX=null;break}if(null!==(n=t.sibling)){n.return=t.return,aX=n;break}aX=t.return}}function st(e){for(;null!==aX;){var t=aX;if(t===e){aX=null;break}var n=t.sibling;if(null!==n){n.return=t.return,aX=n;break}aX=t.return}}function sn(e){for(;null!==aX;){var t=aX;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{aQ(4,t)}catch(e){s1(t,n,e)}break;case 1:var r=t.stateNode;if("function"==typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(e){s1(t,i,e)}}var o=t.return;try{aJ(t)}catch(e){s1(t,o,e)}break;case 5:var a=t.return;try{aJ(t)}catch(e){s1(t,a,e)}}}catch(e){s1(t,t.return,e)}if(t===e){aX=null;break}var s=t.sibling;if(null!==s){s.return=t.return,aX=s;break}aX=t.return}}var sr=Math.ceil,si=k.ReactCurrentDispatcher,so=k.ReactCurrentOwner,sa=k.ReactCurrentBatchConfig,ss=0,sl=null,su=null,sc=0,sd=0,sh=r0(0),sf=0,sp=null,sy=0,sg=0,sm=0,sb=null,sv=null,sw=0,s_=1/0,sx=null,sS=!1,sE=null,sC=null,sk=!1,sI=null,sM=0,sN=0,sT=null,sA=-1,sO=0;function sD(){return 0!=(6&ss)?tn():-1!==sA?sA:sA=tn()}function sB(e){return 0==(1&e.mode)?1:0!=(2&ss)&&0!==sc?sc&-sc:null!==iR.transition?(0===sO&&(sO=tv()),sO):0!==(e=tS)?e:e=void 0===(e=window.event)?16:t0(e.type)}function sP(e,t,n,r){if(50<sN)throw sN=0,sT=null,Error(d(185));t_(e,n,r),(0==(2&ss)||e!==sl)&&(e===sl&&(0==(2&ss)&&(sg|=n),4===sf&&sU(e,sc)),sL(e,r),1===n&&0===ss&&0==(1&t.mode)&&(s_=tn()+500,ia&&iu()))}function sL(e,t){var n,r=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,o=e.pendingLanes;0<o;){var a=31-td(o),s=1<<a,l=i[a];-1===l?(0==(s&n)||0!=(s&r))&&(i[a]=function(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return -1}}(s,t)):l<=t&&(e.expiredLanes|=s),o&=~s}}(e,t);var i=tm(e,e===sl?sc:0);if(0===i)null!==r&&e7(r),e.callbackNode=null,e.callbackPriority=0;else if(t=i&-i,e.callbackPriority!==t){if(null!=r&&e7(r),1===t)0===e.tag?(n=sV.bind(null,e),ia=!0,il(n)):il(sV.bind(null,e)),rL(function(){0==(6&ss)&&iu()}),r=null;else{switch(tE(i)){case 1:r=ti;break;case 4:r=to;break;case 16:default:r=ta;break;case 0x20000000:r=tl}r=e9(r,sR.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function sR(e,t){if(sA=-1,sO=0,0!=(6&ss))throw Error(d(327));var n=e.callbackNode;if(sJ()&&e.callbackNode!==n)return null;var r=tm(e,e===sl?sc:0);if(0===r)return null;if(0!=(30&r)||0!=(r&e.expiredLanes)||t)t=sK(e,r);else{t=r;var i=ss;ss|=2;var o=sX();for((sl!==e||sc!==t)&&(sx=null,s_=tn()+500,sW(e,t));;)try{for(;null!==su&&!te();)sG(su);break}catch(t){sY(e,t)}iq(),si.current=o,ss=i,null!==su?t=0:(sl=null,sc=0,t=sf)}if(0!==t){if(2===t&&0!==(i=tb(e))&&(r=i,t=sz(e,i)),1===t)throw n=sp,sW(e,0),sU(e,r),sL(e,tn()),n;if(6===t)sU(e,r);else{if(i=e.current.alternate,0==(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!nK(o(),i))return!1}catch(e){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=sK(e,r))&&0!==(o=tb(e))&&(r=o,t=sz(e,o)),1===t))throw n=sp,sW(e,0),sU(e,r),sL(e,tn()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(d(345));case 2:case 5:sQ(e,sv,sx);break;case 3:if(sU(e,r),(0x7c00000&r)===r&&10<(t=sw+500-tn())){if(0!==tm(e,0))break;if(((i=e.suspendedLanes)&r)!==r){sD(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=rD(sQ.bind(null,e,sv,sx),t);break}sQ(e,sv,sx);break;case 4:if(sU(e,r),(4194240&r)===r)break;for(i=-1,t=e.eventTimes;0<r;){var a=31-td(r);o=1<<a,(a=t[a])>i&&(i=a),r&=~o}if(r=i,10<(r=(120>(r=tn()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*sr(r/1960))-r)){e.timeoutHandle=rD(sQ.bind(null,e,sv,sx),r);break}sQ(e,sv,sx);break;default:throw Error(d(329))}}}return sL(e,tn()),e.callbackNode===n?sR.bind(null,e):null}function sz(e,t){var n=sb;return e.current.memoizedState.isDehydrated&&(sW(e,t).flags|=256),2!==(e=sK(e,t))&&(t=sv,sv=n,null!==t&&sF(t)),e}function sF(e){null===sv?sv=e:sv.push.apply(sv,e)}function sU(e,t){for(t&=~sm,t&=~sg,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-td(t),r=1<<n;e[n]=-1,t&=~r}}function sV(e){if(0!=(6&ss))throw Error(d(327));sJ();var t=tm(e,0);if(0==(1&t))return sL(e,tn()),null;var n=sK(e,t);if(0!==e.tag&&2===n){var r=tb(e);0!==r&&(t=r,n=sz(e,r))}if(1===n)throw n=sp,sW(e,0),sU(e,t),sL(e,tn()),n;if(6===n)throw Error(d(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,sQ(e,sv,sx),sL(e,tn()),null}function s$(e,t){var n=ss;ss|=1;try{return e(t)}finally{0===(ss=n)&&(s_=tn()+500,ia&&iu())}}function sj(e){null!==sI&&0===sI.tag&&0==(6&ss)&&sJ();var t=ss;ss|=1;var n=sa.transition,r=tS;try{if(sa.transition=null,tS=1,e)return e()}finally{tS=r,sa.transition=n,0==(6&(ss=t))&&iu()}}function sH(){sd=sh.current,r1(sh)}function sW(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,rB(n)),null!==su)for(n=su.return;null!==n;){var r=n;switch(iS(r),r.tag){case 1:null!=(r=r.type.childContextTypes)&&r7();break;case 3:ol(),r1(r6),r1(r4),op();break;case 5:oc(r);break;case 4:ol();break;case 13:case 19:r1(od);break;case 10:iK(r.type._context);break;case 22:case 23:sH()}n=n.return}if(sl=e,su=e=s7(e.current,null),sc=sd=t,sf=0,sp=null,sm=sg=sy=0,sv=sb=null,null!==iJ){for(t=0;t<iJ.length;t++)if(null!==(r=(n=iJ[t]).interleaved)){n.interleaved=null;var i=r.next,o=n.pending;if(null!==o){var a=o.next;o.next=i,r.next=a}n.pending=r}iJ=null}return e}function sY(e,t){for(;;){var n=su;try{if(iq(),oy.current=o7,o_){for(var r=ob.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}o_=!1}if(om=0,ow=ov=ob=null,ox=!1,oS=0,so.current=null,null===n||null===n.return){sf=1,sp=t,su=null;break}e:{var o=e,a=n.return,s=n,l=t;if(t=sc,s.flags|=32768,null!==l&&"object"==typeof l&&"function"==typeof l.then){var u=l,c=s,h=c.tag;if(0==(1&c.mode)&&(0===h||11===h||15===h)){var f=c.alternate;f?(c.updateQueue=f.updateQueue,c.memoizedState=f.memoizedState,c.lanes=f.lanes):(c.updateQueue=null,c.memoizedState=null)}var p=am(a);if(null!==p){p.flags&=-257,ab(p,a,s,o,t),1&p.mode&&ag(o,u,t),t=p,l=u;var y=t.updateQueue;if(null===y){var g=new Set;g.add(l),t.updateQueue=g}else y.add(l);break e}if(0==(1&t)){ag(o,u,t),sq();break e}l=Error(d(426))}else if(ik&&1&s.mode){var m=am(a);if(null!==m){0==(65536&m.flags)&&(m.flags|=256),ab(m,a,s,o,t),iL(ac(l,s));break e}}o=l=ac(l,s),4!==sf&&(sf=2),null===sb?sb=[o]:sb.push(o),o=a;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var b=ap(o,l,t);i7(o,b);break e;case 1:s=l;var v=o.type,w=o.stateNode;if(0==(128&o.flags)&&("function"==typeof v.getDerivedStateFromError||null!==w&&"function"==typeof w.componentDidCatch&&(null===sC||!sC.has(w)))){o.flags|=65536,t&=-t,o.lanes|=t;var _=ay(o,s,t);i7(o,_);break e}}o=o.return}while(null!==o)}sZ(n)}catch(e){t=e,su===n&&null!==n&&(su=n=n.return);continue}break}}function sX(){var e=si.current;return si.current=o7,null===e?o7:e}function sq(){(0===sf||3===sf||2===sf)&&(sf=4),null===sl||0==(0xfffffff&sy)&&0==(0xfffffff&sg)||sU(sl,sc)}function sK(e,t){var n=ss;ss|=2;var r=sX();for((sl!==e||sc!==t)&&(sx=null,sW(e,t));;)try{for(;null!==su;)sG(su);break}catch(t){sY(e,t)}if(iq(),ss=n,si.current=r,null!==su)throw Error(d(261));return sl=null,sc=0,sf}function sG(e){var t=s(e.alternate,e,sd);e.memoizedProps=e.pendingProps,null===t?sZ(e):su=t,so.current=null}function sZ(e){var t=e;do{var n=t.alternate;if(e=t.return,0==(32768&t.flags)){if(null!==(n=function(e,t,n){var s=t.pendingProps;switch(iS(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return aj(t),null;case 1:case 17:return r9(t.type)&&r7(),aj(t),null;case 3:return s=t.stateNode,ol(),r1(r6),r1(r4),op(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(null===e||null===e.child)&&(iD(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0==(256&t.flags)||(t.flags|=1024,null!==iI&&(sF(iI),iI=null))),i(e,t),aj(t),null;case 5:oc(t);var l=oa(oo.current);if(n=t.type,null!==e&&null!=t.stateNode)o(e,t,n,s,l),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!s){if(null===t.stateNode)throw Error(d(166));return aj(t),null}if(e=oa(or.current),iD(t)){s=t.stateNode,n=t.type;var u=t.memoizedProps;switch(s[r$]=t,s[rj]=u,e=0!=(1&t.mode),n){case"dialog":ry("cancel",s),ry("close",s);break;case"iframe":case"object":case"embed":ry("load",s);break;case"video":case"audio":for(l=0;l<rd.length;l++)ry(rd[l],s);break;case"source":ry("error",s);break;case"img":case"image":case"link":ry("error",s),ry("load",s);break;case"details":ry("toggle",s);break;case"input":ed(s,u),ry("invalid",s);break;case"select":s._wrapperState={wasMultiple:!!u.multiple},ry("invalid",s);break;case"textarea":ev(s,u),ry("invalid",s)}for(var c in eD(n,u),l=null,u)if(u.hasOwnProperty(c)){var h=u[c];"children"===c?"string"==typeof h?s.textContent!==h&&(!0!==u.suppressHydrationWarning&&rM(s.textContent,h,e),l=["children",h]):"number"==typeof h&&s.textContent!==""+h&&(!0!==u.suppressHydrationWarning&&rM(s.textContent,h,e),l=["children",""+h]):f.hasOwnProperty(c)&&null!=h&&"onScroll"===c&&ry("scroll",s)}switch(n){case"input":es(s),ep(s,u,!0);break;case"textarea":es(s),e_(s);break;case"select":case"option":break;default:"function"==typeof u.onClick&&(s.onclick=rN)}s=l,t.updateQueue=s,null!==s&&(t.flags|=4)}else{c=9===l.nodeType?l:l.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=ex(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=c.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"==typeof s.is?e=c.createElement(n,{is:s.is}):(e=c.createElement(n),"select"===n&&(c=e,s.multiple?c.multiple=!0:s.size&&(c.size=s.size))):e=c.createElementNS(e,n),e[r$]=t,e[rj]=s,r(e,t,!1,!1),t.stateNode=e;e:{switch(c=eB(n,s),n){case"dialog":ry("cancel",e),ry("close",e),l=s;break;case"iframe":case"object":case"embed":ry("load",e),l=s;break;case"video":case"audio":for(l=0;l<rd.length;l++)ry(rd[l],e);l=s;break;case"source":ry("error",e),l=s;break;case"img":case"image":case"link":ry("error",e),ry("load",e),l=s;break;case"details":ry("toggle",e),l=s;break;case"input":ed(e,s),l=ec(e,s),ry("invalid",e);break;case"option":default:l=s;break;case"select":e._wrapperState={wasMultiple:!!s.multiple},l=et({},s,{value:void 0}),ry("invalid",e);break;case"textarea":ev(e,s),l=eb(e,s),ry("invalid",e)}for(u in eD(n,l),h=l)if(h.hasOwnProperty(u)){var p=h[u];"style"===u?eA(e,p):"dangerouslySetInnerHTML"===u?null!=(p=p?p.__html:void 0)&&ek(e,p):"children"===u?"string"==typeof p?("textarea"!==n||""!==p)&&eI(e,p):"number"==typeof p&&eI(e,""+p):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(f.hasOwnProperty(u)?null!=p&&"onScroll"===u&&ry("scroll",e):null!=p&&C(e,u,p,c))}switch(n){case"input":es(e),ep(e,s,!1);break;case"textarea":es(e),e_(e);break;case"option":null!=s.value&&e.setAttribute("value",""+eo(s.value));break;case"select":e.multiple=!!s.multiple,null!=(u=s.value)?em(e,!!s.multiple,u,!1):null!=s.defaultValue&&em(e,!!s.multiple,s.defaultValue,!0);break;default:"function"==typeof l.onClick&&(e.onclick=rN)}switch(n){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}}s&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return aj(t),null;case 6:if(e&&null!=t.stateNode)a(e,t,e.memoizedProps,s);else{if("string"!=typeof s&&null===t.stateNode)throw Error(d(166));if(n=oa(oo.current),oa(or.current),iD(t)){if(s=t.stateNode,n=t.memoizedProps,s[r$]=t,(u=s.nodeValue!==n)&&null!==(e=iE))switch(e.tag){case 3:rM(s.nodeValue,n,0!=(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&rM(s.nodeValue,n,0!=(1&e.mode))}u&&(t.flags|=4)}else(s=(9===n.nodeType?n:n.ownerDocument).createTextNode(s))[r$]=t,t.stateNode=s}return aj(t),null;case 13:if(r1(od),s=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ik&&null!==iC&&0!=(1&t.mode)&&0==(128&t.flags))iB(),iP(),t.flags|=98560,u=!1;else if(u=iD(t),null!==s&&null!==s.dehydrated){if(null===e){if(!u)throw Error(d(318));if(!(u=null!==(u=t.memoizedState)?u.dehydrated:null))throw Error(d(317));u[r$]=t}else iP(),0==(128&t.flags)&&(t.memoizedState=null),t.flags|=4;aj(t),u=!1}else null!==iI&&(sF(iI),iI=null),u=!0;if(!u)return 65536&t.flags?t:null}if(0!=(128&t.flags))return t.lanes=n,t;return(s=null!==s)!=(null!==e&&null!==e.memoizedState)&&s&&(t.child.flags|=8192,0!=(1&t.mode)&&(null===e||0!=(1&od.current)?0===sf&&(sf=3):sq())),null!==t.updateQueue&&(t.flags|=4),aj(t),null;case 4:return ol(),i(e,t),null===e&&rb(t.stateNode.containerInfo),aj(t),null;case 10:return iK(t.type._context),aj(t),null;case 19:if(r1(od),null===(u=t.memoizedState))return aj(t),null;if(s=0!=(128&t.flags),null===(c=u.rendering))if(s)a$(u,!1);else{if(0!==sf||null!==e&&0!=(128&e.flags))for(e=t.child;null!==e;){if(null!==(c=oh(e))){for(t.flags|=128,a$(u,!1),null!==(s=c.updateQueue)&&(t.updateQueue=s,t.flags|=4),t.subtreeFlags=0,s=n,n=t.child;null!==n;)u=n,e=s,u.flags&=0xe00002,null===(c=u.alternate)?(u.childLanes=0,u.lanes=e,u.child=null,u.subtreeFlags=0,u.memoizedProps=null,u.memoizedState=null,u.updateQueue=null,u.dependencies=null,u.stateNode=null):(u.childLanes=c.childLanes,u.lanes=c.lanes,u.child=c.child,u.subtreeFlags=0,u.deletions=null,u.memoizedProps=c.memoizedProps,u.memoizedState=c.memoizedState,u.updateQueue=c.updateQueue,u.type=c.type,e=c.dependencies,u.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return r2(od,1&od.current|2),t.child}e=e.sibling}null!==u.tail&&tn()>s_&&(t.flags|=128,s=!0,a$(u,!1),t.lanes=4194304)}else{if(!s)if(null!==(e=oh(c))){if(t.flags|=128,s=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),a$(u,!0),null===u.tail&&"hidden"===u.tailMode&&!c.alternate&&!ik)return aj(t),null}else 2*tn()-u.renderingStartTime>s_&&0x40000000!==n&&(t.flags|=128,s=!0,a$(u,!1),t.lanes=4194304);u.isBackwards?(c.sibling=t.child,t.child=c):(null!==(n=u.last)?n.sibling=c:t.child=c,u.last=c)}if(null!==u.tail)return t=u.tail,u.rendering=t,u.tail=t.sibling,u.renderingStartTime=tn(),t.sibling=null,n=od.current,r2(od,s?1&n|2:1&n),t;return aj(t),null;case 22:case 23:return sH(),s=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==s&&(t.flags|=8192),s&&0!=(1&t.mode)?0!=(0x40000000&sd)&&(aj(t),6&t.subtreeFlags&&(t.flags|=8192)):aj(t),null;case 24:case 25:return null}throw Error(d(156,t.tag))}(n,t,sd))){su=n;return}}else{if(null!==(n=function(e,t){switch(iS(t),t.tag){case 1:return r9(t.type)&&r7(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return ol(),r1(r6),r1(r4),op(),0!=(65536&(e=t.flags))&&0==(128&e)?(t.flags=-65537&e|128,t):null;case 5:return oc(t),null;case 13:if(r1(od),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(d(340));iP()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return r1(od),null;case 4:return ol(),null;case 10:return iK(t.type._context),null;case 22:case 23:return sH(),null;default:return null}}(n,t))){n.flags&=32767,su=n;return}if(null!==e)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{sf=6,su=null;return}}if(null!==(t=t.sibling)){su=t;return}su=t=e}while(null!==t)0===sf&&(sf=5)}function sQ(e,t,n){var r=tS,i=sa.transition;try{sa.transition=null,tS=1,function(e,t,n,r){do sJ();while(null!==sI)if(0!=(6&ss))throw Error(d(327));n=e.finishedWork;var i=e.finishedLanes;if(null!==n){if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(d(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes,a=e,s=o,l=a.pendingLanes&~s;a.pendingLanes=s,a.suspendedLanes=0,a.pingedLanes=0,a.expiredLanes&=s,a.mutableReadLanes&=s,a.entangledLanes&=s,s=a.entanglements;var u=a.eventTimes;for(a=a.expirationTimes;0<l;){var c=31-td(l),h=1<<c;s[c]=0,u[c]=-1,a[c]=-1,l&=~h}if(e===sl&&(su=sl=null,sc=0),0==(2064&n.subtreeFlags)&&0==(2064&n.flags)||sk||(sk=!0,function(e,t){e9(e,t)}(ta,function(){return sJ(),null})),o=0!=(15990&n.flags),0!=(15990&n.subtreeFlags)||o){o=sa.transition,sa.transition=null;var f,p,y,g=tS;tS=1;var m=ss;ss|=4,so.current=null,function(e,t){if(rT=tq,n0(e=nJ())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i,o=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch(e){n=null;break e}var s=0,l=-1,u=-1,c=0,h=0,f=e,p=null;t:for(;;){for(;f!==n||0!==o&&3!==f.nodeType||(l=s+o),f!==a||0!==r&&3!==f.nodeType||(u=s+r),3===f.nodeType&&(s+=f.nodeValue.length),null!==(i=f.firstChild);)p=f,f=i;for(;;){if(f===e)break t;if(p===n&&++c===o&&(l=s),p===a&&++h===r&&(u=s),null!==(i=f.nextSibling))break;p=(f=p).parentNode}f=i}n=-1===l||-1===u?null:{start:l,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(rA={focusedElem:e,selectionRange:n},tq=!1,aX=t;null!==aX;)if(e=(t=aX).child,0!=(1028&t.subtreeFlags)&&null!==e)e.return=t,aX=e;else for(;null!==aX;){t=aX;try{var y=t.alternate;if(0!=(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==y){var g=y.memoizedProps,m=y.memoizedState,b=t.stateNode,v=b.getSnapshotBeforeUpdate(t.elementType===t.type?g:ar(t.type,g),m);b.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var w=t.stateNode.containerInfo;1===w.nodeType?w.textContent="":9===w.nodeType&&w.documentElement&&w.removeChild(w.documentElement);break;default:throw Error(d(163))}}catch(e){s1(t,t.return,e)}if(null!==(e=t.sibling)){e.return=t.return,aX=e;break}aX=t.return}y=aG,aG=!1}(e,n),a9(n,e),function(e){var t=nJ(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&function e(t,n){return!!t&&!!n&&(t===n||(!t||3!==t.nodeType)&&(n&&3===n.nodeType?e(t,n.parentNode):"contains"in t?t.contains(n):!!t.compareDocumentPosition&&!!(16&t.compareDocumentPosition(n))))}(n.ownerDocument.documentElement,n)){if(null!==r&&n0(n)){if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=void 0===r.end?o:Math.min(r.end,i),!e.extend&&o>r&&(i=r,r=o,o=i),i=nQ(n,o);var a=nQ(n,r);i&&a&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"==typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}(rA),tq=!!rT,rA=rT=null,e.current=n,f=n,p=e,y=i,aX=f,function e(t,n,r){for(var i=0!=(1&t.mode);null!==aX;){var o=aX,a=o.child;if(22===o.tag&&i){var s=null!==o.memoizedState||aH;if(!s){var l=o.alternate,u=null!==l&&null!==l.memoizedState||aW;l=aH;var c=aW;if(aH=s,(aW=u)&&!c)for(aX=o;null!==aX;)u=(s=aX).child,22===s.tag&&null!==s.memoizedState?sn(o):null!==u?(u.return=s,aX=u):sn(o);for(;null!==a;)aX=a,e(a,n,r),a=a.sibling;aX=o,aH=l,aW=c}se(t,n,r)}else 0!=(8772&o.subtreeFlags)&&null!==a?(a.return=o,aX=a):se(t,n,r)}}(f,p,y),tt(),ss=m,tS=g,sa.transition=o}else e.current=n;sk&&(sk=!1,sI=e,sM=i),0===(o=e.pendingLanes)&&(sC=null);var b=n.stateNode;if(tc&&"function"==typeof tc.onCommitFiberRoot)try{tc.onCommitFiberRoot(tu,b,void 0,128==(128&b.current.flags))}catch(e){}if(sL(e,tn()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)r((i=t[n]).value,{componentStack:i.stack,digest:i.digest});if(sS)throw sS=!1,e=sE,sE=null,e;0!=(1&sM)&&0!==e.tag&&sJ(),0!=(1&(o=e.pendingLanes))?e===sT?sN++:(sN=0,sT=e):sN=0,iu()}}(e,t,n,r)}finally{sa.transition=i,tS=r}return null}function sJ(){if(null!==sI){var e=tE(sM),t=sa.transition,n=tS;try{if(sa.transition=null,tS=16>e?16:e,null===sI)var r=!1;else{if(e=sI,sI=null,sM=0,0!=(6&ss))throw Error(d(331));var i=ss;for(ss|=4,aX=e.current;null!==aX;){var o=aX,a=o.child;if(0!=(16&aX.flags)){var s=o.deletions;if(null!==s){for(var l=0;l<s.length;l++){var u=s[l];for(aX=u;null!==aX;){var c=aX;switch(c.tag){case 0:case 11:case 15:aZ(8,c,o)}var h=c.child;if(null!==h)h.return=c,aX=h;else for(;null!==aX;){var f=(c=aX).sibling,p=c.return;if(!function e(t){var n=t.alternate;null!==n&&(t.alternate=null,e(n)),t.child=null,t.deletions=null,t.sibling=null,5===t.tag&&null!==(n=t.stateNode)&&(delete n[r$],delete n[rj],delete n[rW],delete n[rY],delete n[rX]),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}(c),c===u){aX=null;break}if(null!==f){f.return=p,aX=f;break}aX=p}}}var y=o.alternate;if(null!==y){var g=y.child;if(null!==g){y.child=null;do{var m=g.sibling;g.sibling=null,g=m}while(null!==g)}}aX=o}}if(0!=(2064&o.subtreeFlags)&&null!==a)a.return=o,aX=a;else for(;null!==aX;){if(o=aX,0!=(2048&o.flags))switch(o.tag){case 0:case 11:case 15:aZ(9,o,o.return)}var b=o.sibling;if(null!==b){b.return=o.return,aX=b;break}aX=o.return}}var v=e.current;for(aX=v;null!==aX;){var w=(a=aX).child;if(0!=(2064&a.subtreeFlags)&&null!==w)w.return=a,aX=w;else for(a=v;null!==aX;){if(s=aX,0!=(2048&s.flags))try{switch(s.tag){case 0:case 11:case 15:aQ(9,s)}}catch(e){s1(s,s.return,e)}if(s===a){aX=null;break}var _=s.sibling;if(null!==_){_.return=s.return,aX=_;break}aX=s.return}}if(ss=i,iu(),tc&&"function"==typeof tc.onPostCommitFiberRoot)try{tc.onPostCommitFiberRoot(tu,e)}catch(e){}r=!0}return r}finally{tS=n,sa.transition=t}}return!1}function s0(e,t,n){t=ap(e,t=ac(n,t),1),e=i5(e,t,1),t=sD(),null!==e&&(t_(e,1,t),sL(e,t))}function s1(e,t,n){if(3===e.tag)s0(e,e,n);else for(;null!==t;){if(3===t.tag){s0(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"==typeof t.type.getDerivedStateFromError||"function"==typeof r.componentDidCatch&&(null===sC||!sC.has(r))){e=ay(t,e=ac(n,e),1),t=i5(t,e,1),e=sD(),null!==t&&(t_(t,1,e),sL(t,e));break}}t=t.return}}function s2(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=sD(),e.pingedLanes|=e.suspendedLanes&n,sl===e&&(sc&n)===n&&(4===sf||3===sf&&(0x7c00000&sc)===sc&&500>tn()-sw?sW(e,0):sm|=n),sL(e,t)}function s3(e,t){0===t&&(0==(1&e.mode)?t=1:(t=ty,0==(0x7c00000&(ty<<=1))&&(ty=4194304)));var n=sD();null!==(e=i2(e,t))&&(t_(e,t,n),sL(e,n))}function s4(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),s3(e,n)}function s6(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(d(314))}null!==r&&r.delete(t),s3(e,n)}function s8(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function s5(e,t,n,r){return new s8(e,t,n,r)}function s9(e){return!(!(e=e.prototype)||!e.isReactComponent)}function s7(e,t){var n=e.alternate;return null===n?((n=s5(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=0xe00000&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function le(e,t,n,r,i,o){var a=2;if(r=e,"function"==typeof e)s9(e)&&(a=1);else if("string"==typeof e)a=5;else e:switch(e){case N:return lt(n.children,i,o,t);case T:a=8,i|=8;break;case A:return(e=s5(12,n,t,2|i)).elementType=A,e.lanes=o,e;case P:return(e=s5(13,n,t,i)).elementType=P,e.lanes=o,e;case L:return(e=s5(19,n,t,i)).elementType=L,e.lanes=o,e;case F:return ln(n,i,o,t);default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case O:a=10;break e;case D:a=9;break e;case B:a=11;break e;case R:a=14;break e;case z:a=16,r=null;break e}throw Error(d(130,null==e?e:typeof e,""))}return(t=s5(a,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function lt(e,t,n,r){return(e=s5(7,e,r,t)).lanes=n,e}function ln(e,t,n,r){return(e=s5(22,e,r,t)).elementType=F,e.lanes=n,e.stateNode={isHidden:!1},e}function lr(e,t,n){return(e=s5(6,e,null,t)).lanes=n,e}function li(e,t,n){return(t=s5(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function lo(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=tw(0),this.expirationTimes=tw(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=tw(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function la(e,t,n,r,i,o,a,s,l){return e=new lo(e,t,n,s,l),1===t?(t=1,!0===o&&(t|=8)):t=0,o=s5(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},i4(o),e}function ls(e){if(!e)return r3;e=e._reactInternals;e:{if(e4(e)!==e||1!==e.tag)throw Error(d(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(r9(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t)throw Error(d(171))}if(1===e.tag){var n=e.type;if(r9(n))return it(e,n,t)}return t}function ll(e,t,n,r,i,o,a,s,l){return(e=la(n,r,!0,e,i,o,a,s,l)).context=ls(null),n=e.current,(o=i8(r=sD(),i=sB(n))).callback=null!=t?t:null,i5(n,o,i),e.current.lanes=i,t_(e,i,r),sL(e,r),e}function lu(e,t,n,r){var i=t.current,o=sD(),a=sB(i);return n=ls(n),null===t.context?t.context=n:t.pendingContext=n,(t=i8(o,a)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=i5(i,t,a))&&(sP(e,i,a,o),i9(e,i,a)),a}function lc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function ld(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function lh(e,t){ld(e,t),(e=e.alternate)&&ld(e,t)}s=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||r6.current)aw=!0;else{if(0==(e.lanes&n)&&0==(128&t.flags))return aw=!1,function(e,t,n){switch(t.tag){case 3:aT(t),iP();break;case 5:ou(t);break;case 1:r9(t.type)&&ir(t);break;case 4:os(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;r2(iH,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState)){if(null!==r.dehydrated)return r2(od,1&od.current),t.flags|=128,null;if(0!=(n&t.child.childLanes))return aB(e,t,n);return r2(od,1&od.current),null!==(e=aV(e,t,n))?e.sibling:null}r2(od,1&od.current);break;case 19:if(r=0!=(n&t.childLanes),0!=(128&e.flags)){if(r)return aF(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),r2(od,od.current),!r)return null;break;case 22:case 23:return t.lanes=0,aC(e,t,n)}return aV(e,t,n)}(e,t,n);aw=0!=(131072&e.flags)}else aw=!1,ik&&0!=(1048576&t.flags)&&i_(t,ip,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;aU(e,t),e=t.pendingProps;var i=r5(t,r4.current);iZ(t,n),i=oI(null,t,r,e,i,n);var o=oM();return t.flags|=1,"object"==typeof i&&null!==i&&"function"==typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,r9(r)?(o=!0,ir(t)):o=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,i4(t),i.updater=ao,t.stateNode=i,i._reactInternals=t,au(t,r,e,n),t=aN(null,t,r,!0,o,n)):(t.tag=0,ik&&o&&ix(t),a_(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(aU(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"==typeof e)return+!!s9(e);if(null!=e){if((e=e.$$typeof)===B)return 11;if(e===R)return 14}return 2}(r),e=ar(r,e),i){case 0:t=aI(null,t,r,e,n);break e;case 1:t=aM(null,t,r,e,n);break e;case 11:t=ax(null,t,r,e,n);break e;case 14:t=aS(null,t,r,ar(r.type,e),n);break e}throw Error(d(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ar(r,i),aI(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ar(r,i),aM(e,t,r,i,n);case 3:e:{if(aT(t),null===e)throw Error(d(387));r=t.pendingProps,i=(o=t.memoizedState).element,i6(e,t),oe(t,r,null,n);var a=t.memoizedState;if(r=a.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){i=ac(Error(d(423)),t),t=aA(e,t,r,n,i);break e}else if(r!==i){i=ac(Error(d(424)),t),t=aA(e,t,r,n,i);break e}else for(iC=rF(t.stateNode.containerInfo.firstChild),iE=t,ik=!0,iI=null,n=ij(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling;else{if(iP(),r===i){t=aV(e,t,n);break e}a_(e,t,r,n)}t=t.child}return t;case 5:return ou(t),null===e&&iA(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,a=i.children,rO(r,i)?a=null:null!==o&&rO(r,o)&&(t.flags|=32),ak(e,t),a_(e,t,a,n),t.child;case 6:return null===e&&iA(t),null;case 13:return aB(e,t,n);case 4:return os(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=i$(t,null,r,n):a_(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ar(r,i),ax(e,t,r,i,n);case 7:return a_(e,t,t.pendingProps,n),t.child;case 8:case 12:return a_(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,a=i.value,r2(iH,r._currentValue),r._currentValue=a,null!==o)if(nK(o.value,a)){if(o.children===i.children&&!r6.current){t=aV(e,t,n);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var s=o.dependencies;if(null!==s){a=o.child;for(var l=s.firstContext;null!==l;){if(l.context===r){if(1===o.tag){(l=i8(-1,n&-n)).tag=2;var u=o.updateQueue;if(null!==u){var c=(u=u.shared).pending;null===c?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}o.lanes|=n,null!==(l=o.alternate)&&(l.lanes|=n),iG(o.return,n,t),s.lanes|=n;break}l=l.next}}else if(10===o.tag)a=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(a=o.return))throw Error(d(341));a.lanes|=n,null!==(s=a.alternate)&&(s.lanes|=n),iG(a,n,t),a=o.sibling}else a=o.child;if(null!==a)a.return=o;else for(a=o;null!==a;){if(a===t){a=null;break}if(null!==(o=a.sibling)){o.return=a.return,a=o;break}a=a.return}o=a}a_(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,iZ(t,n),r=r(i=iQ(i)),t.flags|=1,a_(e,t,r,n),t.child;case 14:return i=ar(r=t.type,t.pendingProps),i=ar(r.type,i),aS(e,t,r,i,n);case 15:return aE(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ar(r,i),aU(e,t),t.tag=1,r9(r)?(e=!0,ir(t)):e=!1,iZ(t,n),as(t,r,i),au(t,r,i,n),aN(null,t,r,!0,e,n);case 19:return aF(e,t,n);case 22:return aC(e,t,n)}throw Error(d(156,t.tag))};var lf="function"==typeof reportError?reportError:function(e){console.error(e)};function lp(e){this._internalRoot=e}function ly(e){this._internalRoot=e}function lg(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function lm(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function lb(){}function lv(e,t,n,r,i){var o=n._reactRootContainer;if(o){var a=o;if("function"==typeof i){var s=i;i=function(){var e=lc(a);s.call(e)}}lu(t,a,e,i)}else a=function(e,t,n,r,i){if(i){if("function"==typeof r){var o=r;r=function(){var e=lc(a);o.call(e)}}var a=ll(t,r,e,0,null,!1,!1,"",lb);return e._reactRootContainer=a,e[rH]=a.current,rb(8===e.nodeType?e.parentNode:e),sj(),a}for(;i=e.lastChild;)e.removeChild(i);if("function"==typeof r){var s=r;r=function(){var e=lc(l);s.call(e)}}var l=la(e,0,!1,null,null,!1,!1,"",lb);return e._reactRootContainer=l,e[rH]=l.current,rb(8===e.nodeType?e.parentNode:e),sj(function(){lu(t,l,n,r)}),l}(n,t,e,i,r);return lc(a)}ly.prototype.render=lp.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(d(409));lu(e,t,null,null)},ly.prototype.unmount=lp.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;sj(function(){lu(null,e,null,null)}),t[rH]=null}},ly.prototype.unstable_scheduleHydration=function(e){if(e){var t=tM();e={blockedOn:null,target:e,priority:t};for(var n=0;n<tR.length&&0!==t&&t<tR[n].priority;n++);tR.splice(n,0,e),0===n&&tV(e)}},tC=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=tg(t.pendingLanes);0!==n&&(tx(t,1|n),sL(t,tn()),0==(6&ss)&&(s_=tn()+500,iu()))}break;case 13:sj(function(){var t=i2(e,1);null!==t&&sP(t,e,1,sD())}),lh(e,1)}},tk=function(e){if(13===e.tag){var t=i2(e,0x8000000);null!==t&&sP(t,e,0x8000000,sD()),lh(e,0x8000000)}},tI=function(e){if(13===e.tag){var t=sB(e),n=i2(e,t);null!==n&&sP(n,e,t,sD()),lh(e,t)}},tM=function(){return tS},tN=function(e,t){var n=tS;try{return tS=e,t()}finally{tS=n}},eR=function(e,t,n){switch(t){case"input":if(ef(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=rZ(r);if(!i)throw Error(d(90));el(r),ef(r,i)}}}break;case"textarea":ew(e,n);break;case"select":null!=(t=n.value)&&em(e,!!n.multiple,t,!1)}},ej=s$,eH=sj;var lw={findFiberByHostInstance:rq,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},l_={bundleType:lw.bundleType,version:lw.version,rendererPackageName:lw.rendererPackageName,rendererConfig:lw.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:k.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=e5(e))?null:e.stateNode},findFiberByHostInstance:lw.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var lx=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!lx.isDisabled&&lx.supportsFiber)try{tu=lx.inject(l_),tc=lx}catch(e){}}$={usingClientEntryPoint:!1,Events:[rK,rG,rZ,eV,e$,s$]},j=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!lg(t))throw Error(d(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:M,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},H=function(e,t){if(!lg(e))throw Error(d(299));var n=!1,r="",i=lf;return null!=t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=la(e,1,!1,null,null,n,!1,r,i),e[rH]=t.current,rb(8===e.nodeType?e.parentNode:e),new lp(t)},W=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"==typeof e.render)throw Error(d(188));throw Error(d(268,e=Object.keys(e).join(",")))}return null===(e=e5(t))?null:e.stateNode},Y=function(e){return sj(e)},X=function(e,t,n){if(!lm(t))throw Error(d(200));return lv(null,e,t,!0,n)},q=function(e,t,n){if(!lg(e))throw Error(d(405));var r=null!=n&&n.hydratedSources||null,i=!1,o="",a=lf;if(null!=n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onRecoverableError&&(a=n.onRecoverableError)),t=ll(t,null,e,1,null!=n?n:null,i,!1,o,a),e[rH]=t.current,rb(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new ly(t)},K=function(e,t,n){if(!lm(t))throw Error(d(200));return lv(null,e,t,!1,n)},G=function(e){if(!lm(e))throw Error(d(40));return!!e._reactRootContainer&&(sj(function(){lv(null,null,e,!1,function(){e._reactRootContainer=null,e[rH]=null})}),!0)},Z=s$,Q=function(e,t,n,r){if(!lm(n))throw Error(d(200));if(null==e||void 0===e._reactInternals)throw Error(d(38));return lv(e,t,n,!1,r)},J="18.3.1-next-f1338f8080-20240426"}),eq("fO90s",function(e,t){e.exports=eX("gcnCG")}),eq("gcnCG",function(e,t){function n(e,t){var n=e.length;for(e.push(t);0<n;){var r=n-1>>>1,i=e[r];if(0<o(i,t))e[r]=t,e[n]=i,n=r;else break}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;for(var r=0,i=e.length,a=i>>>1;r<a;){var s=2*(r+1)-1,l=e[s],u=s+1,c=e[u];if(0>o(l,n))u<i&&0>o(c,l)?(e[r]=c,e[u]=n,r=u):(e[r]=l,e[s]=n,r=s);else if(u<i&&0>o(c,n))e[r]=c,e[u]=n,r=u;else break}}return t}function o(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if(l(e.exports,"unstable_now",()=>a,e=>a=e),l(e.exports,"unstable_IdlePriority",()=>s,e=>s=e),l(e.exports,"unstable_ImmediatePriority",()=>u,e=>u=e),l(e.exports,"unstable_LowPriority",()=>c,e=>c=e),l(e.exports,"unstable_NormalPriority",()=>d,e=>d=e),l(e.exports,"unstable_Profiling",()=>h,e=>h=e),l(e.exports,"unstable_UserBlockingPriority",()=>f,e=>f=e),l(e.exports,"unstable_cancelCallback",()=>p,e=>p=e),l(e.exports,"unstable_continueExecution",()=>y,e=>y=e),l(e.exports,"unstable_forceFrameRate",()=>g,e=>g=e),l(e.exports,"unstable_getCurrentPriorityLevel",()=>m,e=>m=e),l(e.exports,"unstable_getFirstCallbackNode",()=>b,e=>b=e),l(e.exports,"unstable_next",()=>v,e=>v=e),l(e.exports,"unstable_pauseExecution",()=>w,e=>w=e),l(e.exports,"unstable_requestPaint",()=>_,e=>_=e),l(e.exports,"unstable_runWithPriority",()=>x,e=>x=e),l(e.exports,"unstable_scheduleCallback",()=>S,e=>S=e),l(e.exports,"unstable_shouldYield",()=>E,e=>E=e),l(e.exports,"unstable_wrapCallback",()=>C,e=>C=e),"object"==typeof performance&&"function"==typeof performance.now){var a,s,u,c,d,h,f,p,y,g,m,b,v,w,_,x,S,E,C,k,I=performance;a=function(){return I.now()}}else{var M=Date,N=M.now();a=function(){return M.now()-N}}var T=[],A=[],O=1,D=null,B=3,P=!1,L=!1,R=!1,z="function"==typeof setTimeout?setTimeout:null,F="function"==typeof clearTimeout?clearTimeout:null,U="undefined"!=typeof setImmediate?setImmediate:null;function V(e){for(var t=r(A);null!==t;){if(null===t.callback)i(A);else if(t.startTime<=e)i(A),t.sortIndex=t.expirationTime,n(T,t);else break;t=r(A)}}function $(e){if(R=!1,V(e),!L)if(null!==r(T))L=!0,J(j);else{var t=r(A);null!==t&&ee($,t.startTime-e)}}function j(e,t){L=!1,R&&(R=!1,F(Y),Y=-1),P=!0;var n=B;try{for(V(t),D=r(T);null!==D&&(!(D.expirationTime>t)||e&&!K());){var o=D.callback;if("function"==typeof o){D.callback=null,B=D.priorityLevel;var s=o(D.expirationTime<=t);t=a(),"function"==typeof s?D.callback=s:D===r(T)&&i(T),V(t)}else i(T);D=r(T)}if(null!==D)var l=!0;else{var u=r(A);null!==u&&ee($,u.startTime-t),l=!1}return l}finally{D=null,B=n,P=!1}}"undefined"!=typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var H=!1,W=null,Y=-1,X=5,q=-1;function K(){return!(a()-q<X)}function G(){if(null!==W){var e=a();q=e;var t=!0;try{t=W(!0,e)}finally{t?k():(H=!1,W=null)}}else H=!1}if("function"==typeof U)k=function(){U(G)};else if("undefined"!=typeof MessageChannel){var Z=new MessageChannel,Q=Z.port2;Z.port1.onmessage=G,k=function(){Q.postMessage(null)}}else k=function(){z(G,0)};function J(e){W=e,H||(H=!0,k())}function ee(e,t){Y=z(function(){e(a())},t)}s=5,u=1,c=4,d=3,h=null,f=2,p=function(e){e.callback=null},y=function(){L||P||(L=!0,J(j))},g=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):X=0<e?Math.floor(1e3/e):5},m=function(){return B},b=function(){return r(T)},v=function(e){switch(B){case 1:case 2:case 3:var t=3;break;default:t=B}var n=B;B=t;try{return e()}finally{B=n}},w=function(){},_=function(){},x=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=B;B=e;try{return t()}finally{B=n}},S=function(e,t,i){var o=a();switch(i="object"==typeof i&&null!==i&&"number"==typeof(i=i.delay)&&0<i?o+i:o,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=0x3fffffff;break;case 4:s=1e4;break;default:s=5e3}return s=i+s,e={id:O++,callback:t,priorityLevel:e,startTime:i,expirationTime:s,sortIndex:-1},i>o?(e.sortIndex=i,n(A,e),null===r(T)&&e===r(A)&&(R?(F(Y),Y=-1):R=!0,ee($,i-o))):(e.sortIndex=s,n(T,e),L||P||(L=!0,J(j))),e},E=K,C=function(e){var t=B;return function(){var n=B;B=t;try{return e.apply(this,arguments)}finally{B=n}}}}),eq("i5mAx",function(e,t){l(e.exports,"useSyncExternalStoreWithSelector",()=>n,e=>n=e);var n,r=eX("acw62"),i=eX("hfliI"),o="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},a=i.useSyncExternalStore,s=r.useRef,u=r.useEffect,c=r.useMemo,d=r.useDebugValue;n=function(e,t,n,r,i){var l=s(null);if(null===l.current){var h={hasValue:!1,value:null};l.current=h}else h=l.current;var f=a(e,(l=c(function(){function e(e){if(!l){if(l=!0,a=e,e=r(e),void 0!==i&&h.hasValue){var t=h.value;if(i(t,e))return s=t}return s=e}if(t=s,o(a,e))return t;var n=r(e);return void 0!==i&&i(t,n)?(a=e,t):(a=e,s=n)}var a,s,l=!1,u=void 0===n?null:n;return[function(){return e(t())},null===u?void 0:function(){return e(u())}]},[t,n,r,i]))[0],l[1]);return u(function(){h.hasValue=!0,h.value=f},[f]),d(f),f}}),eq("hfliI",function(e,t){e.exports=eX("hkKGc")}),eq("hkKGc",function(e,t){l(e.exports,"useSyncExternalStore",()=>n,e=>n=e);var n,r=eX("acw62"),i="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},o=r.useState,a=r.useEffect,s=r.useLayoutEffect,u=r.useDebugValue;function c(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!i(e,n)}catch(e){return!0}}var d="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?function(e,t){return t()}:function(e,t){var n=t(),r=o({inst:{value:n,getSnapshot:t}}),i=r[0].inst,l=r[1];return s(function(){i.value=n,i.getSnapshot=t,c(i)&&l({inst:i})},[e,n,t]),a(function(){return c(i)&&l({inst:i}),e(function(){c(i)&&l({inst:i})})},[e]),u(n),n};n=void 0!==r.useSyncExternalStore?r.useSyncExternalStore:d}),eq("bYoiY",function(e,t){l(e.exports,"Color",()=>r),l(e.exports,"darker",()=>i),l(e.exports,"brighter",()=>o),l(e.exports,"default",()=>w),l(e.exports,"hslConvert",()=>O),l(e.exports,"Rgb",()=>C),l(e.exports,"rgbConvert",()=>S),l(e.exports,"rgb",()=>E),l(e.exports,"hsl",()=>D);var n=eX("bfWFq");function r(){}var i=.7,o=1.4285714285714286,a="\\s*([+-]?\\d+)\\s*",s="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",u="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",c=/^#([0-9a-f]{3,8})$/,d=RegExp(`^rgb\\(${a},${a},${a}\\)$`),h=RegExp(`^rgb\\(${u},${u},${u}\\)$`),f=RegExp(`^rgba\\(${a},${a},${a},${s}\\)$`),p=RegExp(`^rgba\\(${u},${u},${u},${s}\\)$`),y=RegExp(`^hsl\\(${s},${u},${u}\\)$`),g=RegExp(`^hsla\\(${s},${u},${u},${s}\\)$`),m={aliceblue:0xf0f8ff,antiquewhite:0xfaebd7,aqua:65535,aquamarine:8388564,azure:0xf0ffff,beige:0xf5f5dc,bisque:0xffe4c4,black:0,blanchedalmond:0xffebcd,blue:255,blueviolet:9055202,brown:0xa52a2a,burlywood:0xdeb887,cadetblue:6266528,chartreuse:8388352,chocolate:0xd2691e,coral:0xff7f50,cornflowerblue:6591981,cornsilk:0xfff8dc,crimson:0xdc143c,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:0xb8860b,darkgray:0xa9a9a9,darkgreen:25600,darkgrey:0xa9a9a9,darkkhaki:0xbdb76b,darkmagenta:9109643,darkolivegreen:5597999,darkorange:0xff8c00,darkorchid:0x9932cc,darkred:9109504,darksalmon:0xe9967a,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:0xff1493,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:0xb22222,floralwhite:0xfffaf0,forestgreen:2263842,fuchsia:0xff00ff,gainsboro:0xdcdcdc,ghostwhite:0xf8f8ff,gold:0xffd700,goldenrod:0xdaa520,gray:8421504,green:32768,greenyellow:0xadff2f,grey:8421504,honeydew:0xf0fff0,hotpink:0xff69b4,indianred:0xcd5c5c,indigo:4915330,ivory:0xfffff0,khaki:0xf0e68c,lavender:0xe6e6fa,lavenderblush:0xfff0f5,lawngreen:8190976,lemonchiffon:0xfffacd,lightblue:0xadd8e6,lightcoral:0xf08080,lightcyan:0xe0ffff,lightgoldenrodyellow:0xfafad2,lightgray:0xd3d3d3,lightgreen:9498256,lightgrey:0xd3d3d3,lightpink:0xffb6c1,lightsalmon:0xffa07a,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:0xb0c4de,lightyellow:0xffffe0,lime:65280,limegreen:3329330,linen:0xfaf0e6,magenta:0xff00ff,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:0xba55d3,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:0xc71585,midnightblue:1644912,mintcream:0xf5fffa,mistyrose:0xffe4e1,moccasin:0xffe4b5,navajowhite:0xffdead,navy:128,oldlace:0xfdf5e6,olive:8421376,olivedrab:7048739,orange:0xffa500,orangered:0xff4500,orchid:0xda70d6,palegoldenrod:0xeee8aa,palegreen:0x98fb98,paleturquoise:0xafeeee,palevioletred:0xdb7093,papayawhip:0xffefd5,peachpuff:0xffdab9,peru:0xcd853f,pink:0xffc0cb,plum:0xdda0dd,powderblue:0xb0e0e6,purple:8388736,rebeccapurple:6697881,red:0xff0000,rosybrown:0xbc8f8f,royalblue:4286945,saddlebrown:9127187,salmon:0xfa8072,sandybrown:0xf4a460,seagreen:3050327,seashell:0xfff5ee,sienna:0xa0522d,silver:0xc0c0c0,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:0xfffafa,springgreen:65407,steelblue:4620980,tan:0xd2b48c,teal:32896,thistle:0xd8bfd8,tomato:0xff6347,turquoise:4251856,violet:0xee82ee,wheat:0xf5deb3,white:0xffffff,whitesmoke:0xf5f5f5,yellow:0xffff00,yellowgreen:0x9acd32};function b(){return this.rgb().formatHex()}function v(){return this.rgb().formatRgb()}function w(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=c.exec(e))?(n=t[1].length,t=parseInt(t[1],16),6===n?_(t):3===n?new C(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):8===n?x(t>>24&255,t>>16&255,t>>8&255,(255&t)/255):4===n?x(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|240&t,((15&t)<<4|15&t)/255):null):(t=d.exec(e))?new C(t[1],t[2],t[3],1):(t=h.exec(e))?new C(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=f.exec(e))?x(t[1],t[2],t[3],t[4]):(t=p.exec(e))?x(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=y.exec(e))?A(t[1],t[2]/100,t[3]/100,1):(t=g.exec(e))?A(t[1],t[2]/100,t[3]/100,t[4]):m.hasOwnProperty(e)?_(m[e]):"transparent"===e?new C(NaN,NaN,NaN,0):null}function _(e){return new C(e>>16&255,e>>8&255,255&e,1)}function x(e,t,n,r){return r<=0&&(e=t=n=NaN),new C(e,t,n,r)}function S(e){return(e instanceof r||(e=w(e)),e)?new C((e=e.rgb()).r,e.g,e.b,e.opacity):new C}function E(e,t,n,r){return 1==arguments.length?S(e):new C(e,t,n,null==r?1:r)}function C(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}function k(){return`#${T(this.r)}${T(this.g)}${T(this.b)}`}function I(){let e=M(this.opacity);return`${1===e?"rgb(":"rgba("}${N(this.r)}, ${N(this.g)}, ${N(this.b)}${1===e?")":`, ${e})`}`}function M(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function N(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function T(e){return((e=N(e))<16?"0":"")+e.toString(16)}function A(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new B(e,t,n,r)}function O(e){if(e instanceof B)return new B(e.h,e.s,e.l,e.opacity);if(e instanceof r||(e=w(e)),!e)return new B;if(e instanceof B)return e;var t=(e=e.rgb()).r/255,n=e.g/255,i=e.b/255,o=Math.min(t,n,i),a=Math.max(t,n,i),s=NaN,l=a-o,u=(a+o)/2;return l?(s=t===a?(n-i)/l+(n<i)*6:n===a?(i-t)/l+2:(t-n)/l+4,l/=u<.5?a+o:2-a-o,s*=60):l=u>0&&u<1?0:s,new B(s,l,u,e.opacity)}function D(e,t,n,r){return 1==arguments.length?O(e):new B(e,t,n,null==r?1:r)}function B(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}function P(e){return(e=(e||0)%360)<0?e+360:e}function L(e){return Math.max(0,Math.min(1,e||0))}function R(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}(0,n.default)(r,w,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:b,formatHex:b,formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return O(this).formatHsl()},formatRgb:v,toString:v}),(0,n.default)(C,E,(0,n.extend)(r,{brighter(e){return e=null==e?o:Math.pow(o,e),new C(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=null==e?i:Math.pow(i,e),new C(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new C(N(this.r),N(this.g),N(this.b),M(this.opacity))},displayable(){return -.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:k,formatHex:k,formatHex8:function(){return`#${T(this.r)}${T(this.g)}${T(this.b)}${T((isNaN(this.opacity)?1:this.opacity)*255)}`},formatRgb:I,toString:I})),(0,n.default)(B,D,(0,n.extend)(r,{brighter(e){return e=null==e?o:Math.pow(o,e),new B(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=null==e?i:Math.pow(i,e),new B(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new C(R(e>=240?e-240:e+120,i,r),R(e,i,r),R(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new B(P(this.h),L(this.s),L(this.l),M(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){let e=M(this.opacity);return`${1===e?"hsl(":"hsla("}${P(this.h)}, ${100*L(this.s)}%, ${100*L(this.l)}%${1===e?")":`, ${e})`}`}}))}),eq("bfWFq",function(e,t){function n(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function r(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}l(e.exports,"default",()=>n),l(e.exports,"extend",()=>r)}),eq("9cCWX",function(e,t){l(e.exports,"AsyncMode",()=>n,e=>n=e),l(e.exports,"ConcurrentMode",()=>r,e=>r=e),l(e.exports,"ContextConsumer",()=>i,e=>i=e),l(e.exports,"ContextProvider",()=>o,e=>o=e),l(e.exports,"Element",()=>a,e=>a=e),l(e.exports,"ForwardRef",()=>s,e=>s=e),l(e.exports,"Fragment",()=>u,e=>u=e),l(e.exports,"Lazy",()=>c,e=>c=e),l(e.exports,"Memo",()=>d,e=>d=e),l(e.exports,"Portal",()=>h,e=>h=e),l(e.exports,"Profiler",()=>f,e=>f=e),l(e.exports,"StrictMode",()=>p,e=>p=e),l(e.exports,"Suspense",()=>y,e=>y=e),l(e.exports,"isAsyncMode",()=>g,e=>g=e),l(e.exports,"isConcurrentMode",()=>m,e=>m=e),l(e.exports,"isContextConsumer",()=>b,e=>b=e),l(e.exports,"isContextProvider",()=>v,e=>v=e),l(e.exports,"isElement",()=>w,e=>w=e),l(e.exports,"isForwardRef",()=>_,e=>_=e),l(e.exports,"isFragment",()=>x,e=>x=e),l(e.exports,"isLazy",()=>S,e=>S=e),l(e.exports,"isMemo",()=>E,e=>E=e),l(e.exports,"isPortal",()=>C,e=>C=e),l(e.exports,"isProfiler",()=>k,e=>k=e),l(e.exports,"isStrictMode",()=>I,e=>I=e),l(e.exports,"isSuspense",()=>M,e=>M=e),l(e.exports,"isValidElementType",()=>N,e=>N=e),l(e.exports,"typeOf",()=>T,e=>T=e);var n,r,i,o,a,s,u,c,d,h,f,p,y,g,m,b,v,w,_,x,S,E,C,k,I,M,N,T,A="function"==typeof Symbol&&Symbol.for,O=A?Symbol.for("react.element"):60103,D=A?Symbol.for("react.portal"):60106,B=A?Symbol.for("react.fragment"):60107,P=A?Symbol.for("react.strict_mode"):60108,L=A?Symbol.for("react.profiler"):60114,R=A?Symbol.for("react.provider"):60109,z=A?Symbol.for("react.context"):60110,F=A?Symbol.for("react.async_mode"):60111,U=A?Symbol.for("react.concurrent_mode"):60111,V=A?Symbol.for("react.forward_ref"):60112,$=A?Symbol.for("react.suspense"):60113,j=A?Symbol.for("react.suspense_list"):60120,H=A?Symbol.for("react.memo"):60115,W=A?Symbol.for("react.lazy"):60116,Y=A?Symbol.for("react.block"):60121,X=A?Symbol.for("react.fundamental"):60117,q=A?Symbol.for("react.responder"):60118,K=A?Symbol.for("react.scope"):60119;function G(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case O:switch(e=e.type){case F:case U:case B:case L:case P:case $:return e;default:switch(e=e&&e.$$typeof){case z:case V:case W:case H:case R:return e;default:return t}}case D:return t}}}function Z(e){return G(e)===U}n=F,r=U,i=z,o=R,a=O,s=V,u=B,c=W,d=H,h=D,f=L,p=P,y=$,g=function(e){return Z(e)||G(e)===F},m=Z,b=function(e){return G(e)===z},v=function(e){return G(e)===R},w=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===O},_=function(e){return G(e)===V},x=function(e){return G(e)===B},S=function(e){return G(e)===W},E=function(e){return G(e)===H},C=function(e){return G(e)===D},k=function(e){return G(e)===L},I=function(e){return G(e)===P},M=function(e){return G(e)===$},N=function(e){return"string"==typeof e||"function"==typeof e||e===B||e===U||e===L||e===P||e===$||e===j||"object"==typeof e&&null!==e&&(e.$$typeof===W||e.$$typeof===H||e.$$typeof===R||e.$$typeof===z||e.$$typeof===V||e.$$typeof===X||e.$$typeof===q||e.$$typeof===K||e.$$typeof===Y)},T=G}),eq("cU6Hr",function(e,t){l(e.exports,"Children",()=>n,e=>n=e),l(e.exports,"Component",()=>r,e=>r=e),l(e.exports,"Fragment",()=>i,e=>i=e),l(e.exports,"Profiler",()=>o,e=>o=e),l(e.exports,"PureComponent",()=>a,e=>a=e),l(e.exports,"StrictMode",()=>s,e=>s=e),l(e.exports,"Suspense",()=>u,e=>u=e),l(e.exports,"__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED",()=>c,e=>c=e),l(e.exports,"cloneElement",()=>d,e=>d=e),l(e.exports,"createContext",()=>h,e=>h=e),l(e.exports,"createElement",()=>f,e=>f=e),l(e.exports,"createFactory",()=>p,e=>p=e),l(e.exports,"createRef",()=>y,e=>y=e),l(e.exports,"forwardRef",()=>g,e=>g=e),l(e.exports,"isValidElement",()=>m,e=>m=e),l(e.exports,"lazy",()=>b,e=>b=e),l(e.exports,"memo",()=>v,e=>v=e),l(e.exports,"useCallback",()=>w,e=>w=e),l(e.exports,"useContext",()=>_,e=>_=e),l(e.exports,"useDebugValue",()=>x,e=>x=e),l(e.exports,"useEffect",()=>S,e=>S=e),l(e.exports,"useImperativeHandle",()=>E,e=>E=e),l(e.exports,"useLayoutEffect",()=>C,e=>C=e),l(e.exports,"useMemo",()=>k,e=>k=e),l(e.exports,"useReducer",()=>I,e=>I=e),l(e.exports,"useRef",()=>M,e=>M=e),l(e.exports,"useState",()=>N,e=>N=e),l(e.exports,"version",()=>T,e=>T=e);var n,r,i,o,a,s,u,c,d,h,f,p,y,g,m,b,v,w,_,x,S,E,C,k,I,M,N,T,A=eX("8coUR"),O="function"==typeof Symbol&&Symbol.for,D=O?Symbol.for("react.element"):60103,B=O?Symbol.for("react.portal"):60106,P=O?Symbol.for("react.fragment"):60107,L=O?Symbol.for("react.strict_mode"):60108,R=O?Symbol.for("react.profiler"):60114,z=O?Symbol.for("react.provider"):60109,F=O?Symbol.for("react.context"):60110,U=O?Symbol.for("react.forward_ref"):60112,V=O?Symbol.for("react.suspense"):60113,$=O?Symbol.for("react.memo"):60115,j=O?Symbol.for("react.lazy"):60116,H="function"==typeof Symbol&&Symbol.iterator;function W(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Y={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},X={};function q(e,t,n){this.props=e,this.context=t,this.refs=X,this.updater=n||Y}function K(){}function G(e,t,n){this.props=e,this.context=t,this.refs=X,this.updater=n||Y}q.prototype.isReactComponent={},q.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error(W(85));this.updater.enqueueSetState(this,e,t,"setState")},q.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},K.prototype=q.prototype;var Z=G.prototype=new K;Z.constructor=G,A(Z,q.prototype),Z.isPureReactComponent=!0;var Q={current:null},J=Object.prototype.hasOwnProperty,ee={key:!0,ref:!0,__self:!0,__source:!0};function et(e,t,n){var r,i={},o=null,a=null;if(null!=t)for(r in void 0!==t.ref&&(a=t.ref),void 0!==t.key&&(o=""+t.key),t)J.call(t,r)&&!ee.hasOwnProperty(r)&&(i[r]=t[r]);var s=arguments.length-2;if(1===s)i.children=n;else if(1<s){for(var l=Array(s),u=0;u<s;u++)l[u]=arguments[u+2];i.children=l}if(e&&e.defaultProps)for(r in s=e.defaultProps)void 0===i[r]&&(i[r]=s[r]);return{$$typeof:D,type:e,key:o,ref:a,props:i,_owner:Q.current}}function en(e){return"object"==typeof e&&null!==e&&e.$$typeof===D}var er=/\/+/g,ei=[];function eo(e,t,n,r){if(ei.length){var i=ei.pop();return i.result=e,i.keyPrefix=t,i.func=n,i.context=r,i.count=0,i}return{result:e,keyPrefix:t,func:n,context:r,count:0}}function ea(e){e.result=null,e.keyPrefix=null,e.func=null,e.context=null,e.count=0,10>ei.length&&ei.push(e)}function es(e,t,n){return null==e?0:function e(t,n,r,i){var o=typeof t;("undefined"===o||"boolean"===o)&&(t=null);var a=!1;if(null===t)a=!0;else switch(o){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case D:case B:a=!0}}if(a)return r(i,t,""===n?"."+el(t,0):n),1;if(a=0,n=""===n?".":n+":",Array.isArray(t))for(var s=0;s<t.length;s++){var l=n+el(o=t[s],s);a+=e(o,l,r,i)}else if("function"==typeof(l=null===t||"object"!=typeof t?null:"function"==typeof(l=H&&t[H]||t["@@iterator"])?l:null))for(t=l.call(t),s=0;!(o=t.next()).done;)l=n+el(o=o.value,s++),a+=e(o,l,r,i);else if("object"===o)throw Error(W(31,"[object Object]"==(r=""+t)?"object with keys {"+Object.keys(t).join(", ")+"}":r,""));return a}(e,"",t,n)}function el(e,t){var n,r;return"object"==typeof e&&null!==e&&null!=e.key?(n=e.key,r={"=":"=0",":":"=2"},"$"+(""+n).replace(/[=:]/g,function(e){return r[e]})):t.toString(36)}function eu(e,t){e.func.call(e.context,t,e.count++)}function ec(e,t,n){var r,i,o=e.result,a=e.keyPrefix;Array.isArray(e=e.func.call(e.context,t,e.count++))?ed(e,o,n,function(e){return e}):null!=e&&(en(e)&&(r=e,i=a+(!e.key||t&&t.key===e.key?"":(""+e.key).replace(er,"$&/")+"/")+n,e={$$typeof:D,type:r.type,key:i,ref:r.ref,props:r.props,_owner:r._owner}),o.push(e))}function ed(e,t,n,r,i){var o="";null!=n&&(o=(""+n).replace(er,"$&/")+"/"),es(e,ec,t=eo(t,o,r,i)),ea(t)}var eh={current:null};function ef(){var e=eh.current;if(null===e)throw Error(W(321));return e}n={map:function(e,t,n){if(null==e)return e;var r=[];return ed(e,r,null,t,n),r},forEach:function(e,t,n){if(null==e)return e;es(e,eu,t=eo(null,null,t,n)),ea(t)},count:function(e){return es(e,function(){return null},null)},toArray:function(e){var t=[];return ed(e,t,null,function(e){return e}),t},only:function(e){if(!en(e))throw Error(W(143));return e}},r=q,i=P,o=R,a=G,s=L,u=V,c={ReactCurrentDispatcher:eh,ReactCurrentBatchConfig:{suspense:null},ReactCurrentOwner:Q,IsSomeRendererActing:{current:!1},assign:A},d=function(e,t,n){if(null==e)throw Error(W(267,e));var r=A({},e.props),i=e.key,o=e.ref,a=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,a=Q.current),void 0!==t.key&&(i=""+t.key),e.type&&e.type.defaultProps)var s=e.type.defaultProps;for(l in t)J.call(t,l)&&!ee.hasOwnProperty(l)&&(r[l]=void 0===t[l]&&void 0!==s?s[l]:t[l])}var l=arguments.length-2;if(1===l)r.children=n;else if(1<l){s=Array(l);for(var u=0;u<l;u++)s[u]=arguments[u+2];r.children=s}return{$$typeof:D,type:e.type,key:i,ref:o,props:r,_owner:a}},h=function(e,t){return void 0===t&&(t=null),(e={$$typeof:F,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:z,_context:e},e.Consumer=e},f=et,p=function(e){var t=et.bind(null,e);return t.type=e,t},y=function(){return{current:null}},g=function(e){return{$$typeof:U,render:e}},m=en,b=function(e){return{$$typeof:j,_ctor:e,_status:-1,_result:null}},v=function(e,t){return{$$typeof:$,type:e,compare:void 0===t?null:t}},w=function(e,t){return ef().useCallback(e,t)},_=function(e,t){return ef().useContext(e,t)},x=function(){},S=function(e,t){return ef().useEffect(e,t)},E=function(e,t,n){return ef().useImperativeHandle(e,t,n)},C=function(e,t){return ef().useLayoutEffect(e,t)},k=function(e,t){return ef().useMemo(e,t)},I=function(e,t,n){return ef().useReducer(e,t,n)},M=function(e){return ef().useRef(e)},N=function(e){return ef().useState(e)},T="16.14.0"}),eq("8coUR",function(e,t){var n=Object.getOwnPropertySymbols,r=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable;e.exports=!function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;var r=Object.getOwnPropertyNames(t).map(function(e){return t[e]});if("0123456789"!==r.join(""))return!1;var i={};if("abcdefghijklmnopqrst".split("").forEach(function(e){i[e]=e}),"abcdefghijklmnopqrst"!==Object.keys(Object.assign({},i)).join(""))return!1;return!0}catch(e){return!1}}()?function(e,t){for(var o,a,s=function(e){if(null==e)throw TypeError("Object.assign cannot be called with null or undefined");return Object(e)}(e),l=1;l<arguments.length;l++){for(var u in o=Object(arguments[l]))r.call(o,u)&&(s[u]=o[u]);if(n){a=n(o);for(var c=0;c<a.length;c++)i.call(o,a[c])&&(s[a[c]]=o[a[c]])}}return s}:Object.assign});var eK={};eK=eX("1b2ls");var eG=eX("acw62"),eZ={};l(eZ,"createRoot",()=>n6,e=>n6=e),l(eZ,"hydrateRoot",()=>n8,e=>n8=e);var eQ={};!function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(e){console.error(e)}}(),n6=(eQ=eX("Xw6Mv")).createRoot,n8=eQ.hydrateRoot;var eJ={},e0=eJ={};function e1(){throw Error("setTimeout has not been defined")}function e2(){throw Error("clearTimeout has not been defined")}try{n5="function"==typeof setTimeout?setTimeout:e1}catch(e){n5=e1}try{n9="function"==typeof clearTimeout?clearTimeout:e2}catch(e){n9=e2}function e3(e){if(n5===setTimeout)return setTimeout(e,0);if((n5===e1||!n5)&&setTimeout)return n5=setTimeout,setTimeout(e,0);try{return n5(e,0)}catch(t){try{return n5.call(null,e,0)}catch(t){return n5.call(this,e,0)}}}var e4=[],e6=!1,e8=-1;function e5(){e6&&n7&&(e6=!1,n7.length?e4=n7.concat(e4):e8=-1,e4.length&&e9())}function e9(){if(!e6){var e=e3(e5);e6=!0;for(var t=e4.length;t;){for(n7=e4,e4=[];++e8<t;)n7&&n7[e8].run();e8=-1,t=e4.length}n7=null,e6=!1,function(e){if(n9===clearTimeout)return clearTimeout(e);if((n9===e2||!n9)&&clearTimeout)return n9=clearTimeout,clearTimeout(e);try{n9(e)}catch(t){try{return n9.call(null,e)}catch(t){return n9.call(this,e)}}}(e)}}function e7(e,t){this.fun=e,this.array=t}function te(){}e0.nextTick=function(e){var t=Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];e4.push(new e7(e,t)),1!==e4.length||e6||e3(e9)},e7.prototype.run=function(){this.fun.apply(null,this.array)},e0.title="browser",e0.browser=!0,e0.env={},e0.argv=[],e0.version="",e0.versions={},e0.on=te,e0.addListener=te,e0.once=te,e0.off=te,e0.removeListener=te,e0.removeAllListeners=te,e0.emit=te,e0.prependListener=te,e0.prependOnceListener=te,e0.listeners=function(e){return[]},e0.binding=function(e){throw Error("process.binding is not supported")},e0.cwd=function(){return"/"},e0.chdir=function(e){throw Error("process.chdir is not supported")},e0.umask=function(){return 0};let tt=(r=0,()=>(r+=1,`u${`0000${(1679616*Math.random()|0).toString(36)}`.slice(-4)}${r}`));function tn(e){let t=[];for(let n=0,r=e.length;n<r;n++)t.push(e[n]);return t}let tr=null;function ti(e={}){return tr||(tr=e.includeStyleProperties?e.includeStyleProperties:tn(window.getComputedStyle(document.documentElement)))}function to(e,t){let n=(e.ownerDocument.defaultView||window).getComputedStyle(e).getPropertyValue(t);return n?parseFloat(n.replace("px","")):0}function ta(e,t={}){let n,r,i,o;return{width:t.width||(n=to(e,"border-left-width"),r=to(e,"border-right-width"),e.clientWidth+n+r),height:t.height||(i=to(e,"border-top-width"),o=to(e,"border-bottom-width"),e.clientHeight+i+o)}}function ts(e){return new Promise((t,n)=>{let r=new Image;r.onload=()=>{r.decode().then(()=>{requestAnimationFrame(()=>t(r))})},r.onerror=n,r.crossOrigin="anonymous",r.decoding="async",r.src=e})}async function tl(e){return Promise.resolve().then(()=>new XMLSerializer().serializeToString(e)).then(encodeURIComponent).then(e=>`data:image/svg+xml;charset=utf-8,${e}`)}async function tu(e,t,n){let r="http://www.w3.org/2000/svg",i=document.createElementNS(r,"svg"),o=document.createElementNS(r,"foreignObject");return i.setAttribute("width",`${t}`),i.setAttribute("height",`${n}`),i.setAttribute("viewBox",`0 0 ${t} ${n}`),o.setAttribute("width","100%"),o.setAttribute("height","100%"),o.setAttribute("x","0"),o.setAttribute("y","0"),o.setAttribute("externalResourcesRequired","true"),i.appendChild(o),o.appendChild(e),tl(i)}let tc=(e,t)=>{if(e instanceof t)return!0;let n=Object.getPrototypeOf(e);return null!==n&&(n.constructor.name===t.name||tc(n,t))};function td(e,t,n,r){let i,o,a,s=window.getComputedStyle(e,n),l=s.getPropertyValue("content");if(""===l||"none"===l)return;let u=tt();try{t.className=`${t.className} ${u}`}catch(e){return}let c=document.createElement("style");c.appendChild((i=`.${u}:${n}`,a=s.cssText?(o=s.getPropertyValue("content"),`${s.cssText} content: '${o.replace(/'|"/g,"")}';`):ti(r).map(e=>{let t=s.getPropertyValue(e),n=s.getPropertyPriority(e);return`${e}: ${t}${n?" !important":""};`}).join(" "),document.createTextNode(`${i}{${a}}`))),t.appendChild(c)}let th="application/font-woff",tf="image/jpeg",tp={woff:th,woff2:th,ttf:"application/font-truetype",eot:"application/vnd.ms-fontobject",png:"image/png",jpg:tf,jpeg:tf,gif:"image/gif",tiff:"image/tiff",svg:"image/svg+xml",webp:"image/webp"};function ty(e){let t;return tp[((t=/\.([^./]*?)$/g.exec(e))?t[1]:"").toLowerCase()]||""}function tg(e){return -1!==e.search(/^(data:)/)}function tm(e,t){return`data:${t};base64,${e}`}async function tb(e,t,n){let r=await fetch(e,t);if(404===r.status)throw Error(`Resource "${r.url}" not found`);let i=await r.blob();return new Promise((e,t)=>{let o=new FileReader;o.onerror=t,o.onloadend=()=>{try{e(n({res:r,result:o.result}))}catch(e){t(e)}},o.readAsDataURL(i)})}let tv={};async function tw(e,t,n){var r,i,o;let a,s,l=(r=e,i=t,o=n.includeQueryParams,s=r.replace(/\?.*/,""),o&&(s=r),/ttf|otf|eot|woff2?/i.test(s)&&(s=s.replace(/.*\//,"")),i?`[${i}]${s}`:s);if(null!=tv[l])return tv[l];n.cacheBust&&(e+=(/\?/.test(e)?"&":"?")+new Date().getTime());try{let r=await tb(e,n.fetchRequestInit,({res:e,result:n})=>(t||(t=e.headers.get("Content-Type")||""),n.split(/,/)[1]));a=tm(r,t)}catch(r){a=n.imagePlaceholder||"";let t=`Failed to fetch resource: ${e}`;r&&(t="string"==typeof r?r:r.message),t&&console.warn(t)}return tv[l]=a,a}async function t_(e){let t=e.toDataURL();return"data:,"===t?e.cloneNode(!1):ts(t)}async function tx(e,t){if(e.currentSrc){let t=document.createElement("canvas"),n=t.getContext("2d");return t.width=e.clientWidth,t.height=e.clientHeight,null==n||n.drawImage(e,0,0,t.width,t.height),ts(t.toDataURL())}let n=e.poster,r=ty(n);return ts(await tw(n,r,t))}async function tS(e,t){var n;try{if(null==(n=null==e?void 0:e.contentDocument)?void 0:n.body)return await tM(e.contentDocument.body,t,!0)}catch(e){}return e.cloneNode(!1)}async function tE(e,t){return tc(e,HTMLCanvasElement)?t_(e):tc(e,HTMLVideoElement)?tx(e,t):tc(e,HTMLIFrameElement)?tS(e,t):e.cloneNode(tC(e))}let tC=e=>null!=e.tagName&&"SVG"===e.tagName.toUpperCase();async function tk(e,t,n){var r,i;if(tC(t))return t;let o=[];return 0===(o=null!=e.tagName&&"SLOT"===e.tagName.toUpperCase()&&e.assignedNodes?tn(e.assignedNodes()):tc(e,HTMLIFrameElement)&&(null==(r=e.contentDocument)?void 0:r.body)?tn(e.contentDocument.body.childNodes):tn((null!=(i=e.shadowRoot)?i:e).childNodes)).length||tc(e,HTMLVideoElement)||await o.reduce((e,r)=>e.then(()=>tM(r,n)).then(e=>{e&&t.appendChild(e)}),Promise.resolve()),t}async function tI(e,t){let n=e.querySelectorAll?e.querySelectorAll("use"):[];if(0===n.length)return e;let r={};for(let i=0;i<n.length;i++){let o=n[i].getAttribute("xlink:href");if(o){let n=e.querySelector(o),i=document.querySelector(o);n||!i||r[o]||(r[o]=await tM(i,t,!0))}}let i=Object.values(r);if(i.length){let t="http://www.w3.org/1999/xhtml",n=document.createElementNS(t,"svg");n.setAttribute("xmlns",t),n.style.position="absolute",n.style.width="0",n.style.height="0",n.style.overflow="hidden",n.style.display="none";let r=document.createElementNS(t,"defs");n.appendChild(r);for(let e=0;e<i.length;e++)r.appendChild(i[e]);e.appendChild(n)}return e}async function tM(e,t,n){return n||!t.filter||t.filter(e)?Promise.resolve(e).then(e=>tE(e,t)).then(n=>tk(e,n,t)).then(n=>(function(e,t,n){if(tc(t,Element)&&(!function(e,t,n){let r=t.style;if(!r)return;let i=window.getComputedStyle(e);i.cssText?(r.cssText=i.cssText,r.transformOrigin=i.transformOrigin):ti(n).forEach(n=>{let o=i.getPropertyValue(n);if("font-size"===n&&o.endsWith("px")){let e=Math.floor(parseFloat(o.substring(0,o.length-2)))-.1;o=`${e}px`}tc(e,HTMLIFrameElement)&&"display"===n&&"inline"===o&&(o="block"),"d"===n&&t.getAttribute("d")&&(o=`path(${t.getAttribute("d")})`),r.setProperty(n,o,i.getPropertyPriority(n))})}(e,t,n),td(e,t,":before",n),td(e,t,":after",n),tc(e,HTMLTextAreaElement)&&(t.innerHTML=e.value),tc(e,HTMLInputElement)&&t.setAttribute("value",e.value),tc(e,HTMLSelectElement))){let n=Array.from(t.children).find(t=>e.value===t.getAttribute("value"));n&&n.setAttribute("selected","")}return t})(e,n,t)).then(e=>tI(e,t)):null}let tN=/url\((['"]?)([^'"]+?)\1\)/g,tT=/url\([^)]+\)\s*format\((["']?)([^"']+)\1\)/g,tA=/src:\s*(?:url\([^)]+\)\s*format\([^)]+\)[,;]\s*)+/g;async function tO(e,t,n,r,i){try{let o,a,s=n?function(e,t){if(e.match(/^[a-z]+:\/\//i))return e;if(e.match(/^\/\//))return window.location.protocol+e;if(e.match(/^[a-z]+:/i))return e;let n=document.implementation.createHTMLDocument(),r=n.createElement("base"),i=n.createElement("a");return n.head.appendChild(r),n.body.appendChild(i),t&&(r.href=t),i.href=e,i.href}(t,n):t,l=ty(t);if(i){let e=await i(s);o=tm(e,l)}else o=await tw(s,l,r);return e.replace((a=t.replace(/([.*+?^${}()|\[\]\/\\])/g,"\\$1"),RegExp(`(url\\(['"]?)(${a})(['"]?\\))`,"g")),`$1${o}$3`)}catch(e){}return e}function tD(e){return -1!==e.search(tN)}async function tB(e,t,n){let r;if(!tD(e))return e;let i=function(e,{preferredFontFormat:t}){return t?e.replace(tA,e=>{for(;;){let[n,,r]=tT.exec(e)||[];if(!r)return"";if(r===t)return`src: ${n};`}}):e}(e,n);return(r=[],i.replace(tN,(e,t,n)=>(r.push(n),e)),r.filter(e=>!tg(e))).reduce((e,r)=>e.then(e=>tO(e,r,t,n)),Promise.resolve(i))}async function tP(e,t,n){var r;let i=null==(r=t.style)?void 0:r.getPropertyValue(e);if(i){let r=await tB(i,null,n);return t.style.setProperty(e,r,t.style.getPropertyPriority(e)),!0}return!1}async function tL(e,t){await tP("background",e,t)||await tP("background-image",e,t),await tP("mask",e,t)||await tP("-webkit-mask",e,t)||await tP("mask-image",e,t)||await tP("-webkit-mask-image",e,t)}async function tR(e,t){let n=tc(e,HTMLImageElement);if(!(n&&!tg(e.src))&&!(tc(e,SVGImageElement)&&!tg(e.href.baseVal)))return;let r=n?e.src:e.href.baseVal,i=await tw(r,ty(r),t);await new Promise((r,o)=>{e.onload=r,e.onerror=t.onImageErrorHandler?(...e)=>{try{r(t.onImageErrorHandler(...e))}catch(e){o(e)}}:o,e.decode&&(e.decode=r),"lazy"===e.loading&&(e.loading="eager"),n?(e.srcset="",e.src=i):e.href.baseVal=i})}async function tz(e,t){let n=tn(e.childNodes).map(e=>tF(e,t));await Promise.all(n).then(()=>e)}async function tF(e,t){tc(e,Element)&&(await tL(e,t),await tR(e,t),await tz(e,t))}let tU={};async function tV(e){let t=tU[e];if(null!=t)return t;let n=await fetch(e);return t={url:e,cssText:await n.text()},tU[e]=t,t}async function t$(e,t){let n=e.cssText,r=/url\(["']?([^"')]+)["']?\)/g;return Promise.all((n.match(/url\([^)]+\)/g)||[]).map(async i=>{let o=i.replace(r,"$1");return o.startsWith("https://")||(o=new URL(o,e.url).href),tb(o,t.fetchRequestInit,({result:e})=>(n=n.replace(i,`url(${e})`),[i,e]))})).then(()=>n)}function tj(e){if(null==e)return[];let t=[],n=e.replace(/(\/\*[\s\S]*?\*\/)/gi,""),r=RegExp("((@.*?keyframes [\\s\\S]*?){([\\s\\S]*?}\\s*?)})","gi");for(;;){let e=r.exec(n);if(null===e)break;t.push(e[0])}n=n.replace(r,"");let i=/@import[\s\S]*?url\([^)]*\)[\s\S]*?;/gi,o=RegExp("((\\s*?(?:\\/\\*[\\s\\S]*?\\*\\/)?\\s*?@media[\\s\\S]*?){([\\s\\S]*?)}\\s*?})|(([\\s\\S]*?){([\\s\\S]*?)})","gi");for(;;){let e=i.exec(n);if(null===e){if(null===(e=o.exec(n)))break;i.lastIndex=o.lastIndex}else o.lastIndex=i.lastIndex;t.push(e[0])}return t}async function tH(e,t){let n=[],r=[];return e.forEach(n=>{if("cssRules"in n)try{tn(n.cssRules||[]).forEach((e,i)=>{if(e.type===CSSRule.IMPORT_RULE){let o=i+1,a=e.href,s=tV(a).then(e=>t$(e,t)).then(e=>tj(e).forEach(e=>{try{n.insertRule(e,e.startsWith("@import")?o+=1:n.cssRules.length)}catch(t){console.error("Error inserting rule from remote css",{rule:e,error:t})}})).catch(e=>{console.error("Error loading remote css",e.toString())});r.push(s)}})}catch(o){let i=e.find(e=>null==e.href)||document.styleSheets[0];null!=n.href&&r.push(tV(n.href).then(e=>t$(e,t)).then(e=>tj(e).forEach(e=>{i.insertRule(e,i.cssRules.length)})).catch(e=>{console.error("Error loading remote stylesheet",e)})),console.error("Error inlining remote css file",o)}}),Promise.all(r).then(()=>(e.forEach(e=>{if("cssRules"in e)try{tn(e.cssRules||[]).forEach(e=>{n.push(e)})}catch(t){console.error(`Error while reading CSS rules from ${e.href}`,t)}}),n))}async function tW(e,t){if(null==e.ownerDocument)throw Error("Provided element is not within a Document");let n=tn(e.ownerDocument.styleSheets);return(await tH(n,t)).filter(e=>e.type===CSSRule.FONT_FACE_RULE).filter(e=>tD(e.style.getPropertyValue("src")))}function tY(e){return e.trim().replace(/["']/g,"")}async function tX(e,t){let n,r=await tW(e,t),i=(n=new Set,!function e(t){(t.style.fontFamily||getComputedStyle(t).fontFamily).split(",").forEach(e=>{n.add(tY(e))}),Array.from(t.children).forEach(t=>{t instanceof HTMLElement&&e(t)})}(e),n);return(await Promise.all(r.filter(e=>i.has(tY(e.style.fontFamily))).map(e=>{let n=e.parentStyleSheet?e.parentStyleSheet.href:null;return tB(e.cssText,n,t)}))).join("\n")}async function tq(e,t){let n=null!=t.fontEmbedCSS?t.fontEmbedCSS:t.skipFonts?null:await tX(e,t);if(n){let t=document.createElement("style"),r=document.createTextNode(n);t.appendChild(r),e.firstChild?e.insertBefore(t,e.firstChild):e.appendChild(t)}}async function tK(e,t={}){let{width:n,height:r}=ta(e,t),i=await tM(e,t,!0);return await tq(i,t),await tF(i,t),!function(e,t){let{style:n}=e;t.backgroundColor&&(n.backgroundColor=t.backgroundColor),t.width&&(n.width=`${t.width}px`),t.height&&(n.height=`${t.height}px`);let r=t.style;null!=r&&Object.keys(r).forEach(e=>{n[e]=r[e]})}(i,t),await tu(i,n,r)}async function tG(e,t={}){let{width:n,height:r}=ta(e,t),i=await tK(e,t),o=await ts(i),a=document.createElement("canvas"),s=a.getContext("2d"),l=t.pixelRatio||function(){let e,t;try{t=eJ}catch(e){}let n=t&&t.env?t.env.devicePixelRatio:null;return n&&Number.isNaN(e=parseInt(n,10))&&(e=1),e||window.devicePixelRatio||1}(),u=t.canvasWidth||n,c=t.canvasHeight||r;return a.width=u*l,a.height=c*l,!t.skipAutoScale&&(a.width>16384||a.height>16384)&&(a.width>16384&&a.height>16384?a.width>a.height?(a.height*=16384/a.width,a.width=16384):(a.width*=16384/a.height,a.height=16384):a.width>16384?(a.height*=16384/a.width,a.width=16384):(a.width*=16384/a.height,a.height=16384)),a.style.width=`${u}`,a.style.height=`${c}`,t.backgroundColor&&(s.fillStyle=t.backgroundColor,s.fillRect(0,0,a.width,a.height)),s.drawImage(o,0,0,a.width,a.height),a}async function tZ(e,t={}){return(await tG(e,t)).toDataURL()}function tQ(e){if("string"==typeof e||"number"==typeof e)return""+e;let t="";if(Array.isArray(e))for(let n=0,r;n<e.length;n++)""!==(r=tQ(e[n]))&&(t+=(t&&" ")+r);else for(let n in e)e[n]&&(t+=(t&&" ")+n);return t}var eG=(eX("acw62"),eX("acw62")),tJ={};tJ=eX("i5mAx");var t0={},t1=function(e){var t,n=new Set,r=function(e,r){var i="function"==typeof e?e(t):e;if(!Object.is(i,t)){var o=t;t=(null!=r?r:"object"!=typeof i||null===i)?i:Object.assign({},t,i),n.forEach(function(e){return e(t,o)})}},i=function(){return t},o={setState:r,getState:i,getInitialState:function(){return a},subscribe:function(e){return n.add(e),function(){return n.delete(e)}},destroy:function(){n.clear()}},a=t=e(r,i,o);return o},t2=function(e){return e?t1(e):t1},t3=function(e){return t2(e)};t0.createStore=t2,t0.default=t3,(t0=t3).createStore=t2,t0.default=t0;var t4=eG.useDebugValue,t6=tJ.useSyncExternalStoreWithSelector,t8=function(e){return e};function t5(e,t,n){void 0===t&&(t=t8);var r=t6(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return t4(r),r}var t9=function(e,t){var n=t0.createStore(e),r=function(e,r){return void 0===r&&(r=t),t5(n,e,r)};return Object.assign(r,n),r},t7={};function ne(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function nt(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return ne(e,void 0);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ne(e,void 0):void 0}}(e))||t){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function nn(e,t){if(Object.is(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(var n,r=nt(e);!(n=r()).done;){var i=n.value,o=i[0];if(!Object.is(i[1],t.get(o)))return!1}return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(var a,s=nt(e);!(a=s()).done;){var l=a.value;if(!t.has(l))return!1}return!0}var u=Object.keys(e);if(u.length!==Object.keys(t).length)return!1;for(var c=0;c<u.length;c++){var d=u[c];if(!Object.prototype.hasOwnProperty.call(t,d)||!Object.is(e[d],t[d]))return!1}return!0}var nr=function(e,t){return nn(e,t)};t7.default=nr,t7.shallow=nn,(t7=nr).shallow=nn,t7.default=t7;var ni={value:()=>{}};function no(){for(var e,t=0,n=arguments.length,r={};t<n;++t){if(!(e=arguments[t]+"")||e in r||/[\s.]/.test(e))throw Error("illegal type: "+e);r[e]=[]}return new na(r)}function na(e){this._=e}function ns(e,t,n){for(var r=0,i=e.length;r<i;++r)if(e[r].name===t){e[r]=ni,e=e.slice(0,r).concat(e.slice(r+1));break}return null!=n&&e.push({name:t,value:n}),e}function nl(){}function nu(e){return null==e?nl:function(){return this.querySelector(e)}}function nc(){return[]}function nd(e){return null==e?nc:function(){return this.querySelectorAll(e)}}function nh(e){return function(){return this.matches(e)}}function nf(e){return function(t){return t.matches(e)}}na.prototype=no.prototype={constructor:na,on:function(e,t){var n,r=this._,i=(e+"").trim().split(/^|\s+/).map(function(e){var t="",n=e.indexOf(".");if(n>=0&&(t=e.slice(n+1),e=e.slice(0,n)),e&&!r.hasOwnProperty(e))throw Error("unknown type: "+e);return{type:e,name:t}}),o=-1,a=i.length;if(arguments.length<2){for(;++o<a;)if((n=(e=i[o]).type)&&(n=function(e,t){for(var n,r=0,i=e.length;r<i;++r)if((n=e[r]).name===t)return n.value}(r[n],e.name)))return n;return}if(null!=t&&"function"!=typeof t)throw Error("invalid callback: "+t);for(;++o<a;)if(n=(e=i[o]).type)r[n]=ns(r[n],e.name,t);else if(null==t)for(n in r)r[n]=ns(r[n],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new na(e)},call:function(e,t){if((n=arguments.length-2)>0)for(var n,r,i=Array(n),o=0;o<n;++o)i[o]=arguments[o+2];if(!this._.hasOwnProperty(e))throw Error("unknown type: "+e);for(r=this._[e],o=0,n=r.length;o<n;++o)r[o].value.apply(t,i)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw Error("unknown type: "+e);for(var r=this._[e],i=0,o=r.length;i<o;++i)r[i].value.apply(t,n)}};var np=Array.prototype.find;function ny(){return this.firstElementChild}var ng=Array.prototype.filter;function nm(){return Array.from(this.children)}function nb(e){return Array(e.length)}function nv(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}function nw(e,t,n,r,i,o){for(var a,s=0,l=t.length,u=o.length;s<u;++s)(a=t[s])?(a.__data__=o[s],r[s]=a):n[s]=new nv(e,o[s]);for(;s<l;++s)(a=t[s])&&(i[s]=a)}function n_(e,t,n,r,i,o,a){var s,l,u,c=new Map,d=t.length,h=o.length,f=Array(d);for(s=0;s<d;++s)(l=t[s])&&(f[s]=u=a.call(l,l.__data__,s,t)+"",c.has(u)?i[s]=l:c.set(u,l));for(s=0;s<h;++s)u=a.call(e,o[s],s,o)+"",(l=c.get(u))?(r[s]=l,l.__data__=o[s],c.delete(u)):n[s]=new nv(e,o[s]);for(s=0;s<d;++s)(l=t[s])&&c.get(f[s])===l&&(i[s]=l)}function nx(e){return e.__data__}function nS(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}nv.prototype={constructor:nv,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};var nE="http://www.w3.org/1999/xhtml",nC={svg:"http://www.w3.org/2000/svg",xhtml:nE,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function nk(e){var t=e+="",n=t.indexOf(":");return n>=0&&"xmlns"!==(t=e.slice(0,n))&&(e=e.slice(n+1)),nC.hasOwnProperty(t)?{space:nC[t],local:e}:e}function nI(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function nM(e,t){return e.style.getPropertyValue(t)||nI(e).getComputedStyle(e,null).getPropertyValue(t)}function nN(e){return e.trim().split(/^|\s+/)}function nT(e){return e.classList||new nA(e)}function nA(e){this._node=e,this._names=nN(e.getAttribute("class")||"")}function nO(e,t){for(var n=nT(e),r=-1,i=t.length;++r<i;)n.add(t[r])}function nD(e,t){for(var n=nT(e),r=-1,i=t.length;++r<i;)n.remove(t[r])}function nB(){this.textContent=""}function nP(){this.innerHTML=""}function nL(){this.nextSibling&&this.parentNode.appendChild(this)}function nR(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function nz(e){var t=nk(e);return(t.local?function(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}:function(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===nE&&t.documentElement.namespaceURI===nE?t.createElement(e):t.createElementNS(n,e)}})(t)}function nF(){return null}function nU(){var e=this.parentNode;e&&e.removeChild(this)}function nV(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function n$(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function nj(e){return function(){var t=this.__on;if(t){for(var n,r=0,i=-1,o=t.length;r<o;++r)(n=t[r],e.type&&n.type!==e.type||n.name!==e.name)?t[++i]=n:this.removeEventListener(n.type,n.listener,n.options);++i?t.length=i:delete this.__on}}}function nH(e,t,n){return function(){var r,i=this.__on,o=function(e){t.call(this,e,this.__data__)};if(i){for(var a=0,s=i.length;a<s;++a)if((r=i[a]).type===e.type&&r.name===e.name){this.removeEventListener(r.type,r.listener,r.options),this.addEventListener(r.type,r.listener=o,r.options=n),r.value=t;return}}this.addEventListener(e.type,o,n),r={type:e.type,name:e.name,value:t,listener:o,options:n},i?i.push(r):this.__on=[r]}}function nW(e,t,n){var r=nI(e),i=r.CustomEvent;"function"==typeof i?i=new i(t,n):(i=r.document.createEvent("Event"),n?(i.initEvent(t,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(t,!1,!1)),e.dispatchEvent(i)}nA.prototype={add:function(e){0>this._names.indexOf(e)&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};var nY=[null];function nX(e,t){this._groups=e,this._parents=t}function nq(){return new nX([[document.documentElement]],nY)}function nK(e){return"string"==typeof e?new nX([[document.querySelector(e)]],[document.documentElement]):new nX([[e]],nY)}nX.prototype=nq.prototype={constructor:nX,select:function(e){"function"!=typeof e&&(e=nu(e));for(var t=this._groups,n=t.length,r=Array(n),i=0;i<n;++i)for(var o,a,s=t[i],l=s.length,u=r[i]=Array(l),c=0;c<l;++c)(o=s[c])&&(a=e.call(o,o.__data__,c,s))&&("__data__"in o&&(a.__data__=o.__data__),u[c]=a);return new nX(r,this._parents)},selectAll:function(e){if("function"==typeof e){var t;t=e,e=function(){var e;return e=t.apply(this,arguments),null==e?[]:Array.isArray(e)?e:Array.from(e)}}else e=nd(e);for(var n=this._groups,r=n.length,i=[],o=[],a=0;a<r;++a)for(var s,l=n[a],u=l.length,c=0;c<u;++c)(s=l[c])&&(i.push(e.call(s,s.__data__,c,l)),o.push(s));return new nX(i,o)},selectChild:function(e){var t;return this.select(null==e?ny:(t="function"==typeof e?e:nf(e),function(){return np.call(this.children,t)}))},selectChildren:function(e){var t;return this.selectAll(null==e?nm:(t="function"==typeof e?e:nf(e),function(){return ng.call(this.children,t)}))},filter:function(e){"function"!=typeof e&&(e=nh(e));for(var t=this._groups,n=t.length,r=Array(n),i=0;i<n;++i)for(var o,a=t[i],s=a.length,l=r[i]=[],u=0;u<s;++u)(o=a[u])&&e.call(o,o.__data__,u,a)&&l.push(o);return new nX(r,this._parents)},data:function(e,t){if(!arguments.length)return Array.from(this,nx);var n=t?n_:nw,r=this._parents,i=this._groups;"function"!=typeof e&&(b=e,e=function(){return b});for(var o=i.length,a=Array(o),s=Array(o),l=Array(o),u=0;u<o;++u){var c=r[u],d=i[u],h=d.length,f="object"==typeof(m=e.call(c,c&&c.__data__,u,r))&&"length"in m?m:Array.from(m),p=f.length,y=s[u]=Array(p),g=a[u]=Array(p);n(c,d,y,g,l[u]=Array(h),f,t);for(var m,b,v,w,_=0,x=0;_<p;++_)if(v=y[_]){for(_>=x&&(x=_+1);!(w=g[x])&&++x<p;);v._next=w||null}}return(a=new nX(a,r))._enter=s,a._exit=l,a},enter:function(){return new nX(this._enter||this._groups.map(nb),this._parents)},exit:function(){return new nX(this._exit||this._groups.map(nb),this._parents)},join:function(e,t,n){var r=this.enter(),i=this,o=this.exit();return"function"==typeof e?(r=e(r))&&(r=r.selection()):r=r.append(e+""),null!=t&&(i=t(i))&&(i=i.selection()),null==n?o.remove():n(o),r&&i?r.merge(i).order():i},merge:function(e){for(var t=e.selection?e.selection():e,n=this._groups,r=t._groups,i=n.length,o=r.length,a=Math.min(i,o),s=Array(i),l=0;l<a;++l)for(var u,c=n[l],d=r[l],h=c.length,f=s[l]=Array(h),p=0;p<h;++p)(u=c[p]||d[p])&&(f[p]=u);for(;l<i;++l)s[l]=n[l];return new nX(s,this._parents)},selection:function(){return this},order:function(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r,i=e[t],o=i.length-1,a=i[o];--o>=0;)(r=i[o])&&(a&&4^r.compareDocumentPosition(a)&&a.parentNode.insertBefore(r,a),a=r);return this},sort:function(e){function t(t,n){return t&&n?e(t.__data__,n.__data__):!t-!n}e||(e=nS);for(var n=this._groups,r=n.length,i=Array(r),o=0;o<r;++o){for(var a,s=n[o],l=s.length,u=i[o]=Array(l),c=0;c<l;++c)(a=s[c])&&(u[c]=a);u.sort(t)}return new nX(i,this._parents).order()},call:function(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this},nodes:function(){return Array.from(this)},node:function(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,o=r.length;i<o;++i){var a=r[i];if(a)return a}return null},size:function(){let e=0;for(let t of this)++e;return e},empty:function(){return!this.node()},each:function(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var i,o=t[n],a=0,s=o.length;a<s;++a)(i=o[a])&&e.call(i,i.__data__,a,o);return this},attr:function(e,t){var n=nk(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((null==t?n.local?function(e){return function(){this.removeAttributeNS(e.space,e.local)}}:function(e){return function(){this.removeAttribute(e)}}:"function"==typeof t?n.local?function(e,t){return function(){var n=t.apply(this,arguments);null==n?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}:function(e,t){return function(){var n=t.apply(this,arguments);null==n?this.removeAttribute(e):this.setAttribute(e,n)}}:n.local?function(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}:function(e,t){return function(){this.setAttribute(e,t)}})(n,t))},style:function(e,t,n){return arguments.length>1?this.each((null==t?function(e){return function(){this.style.removeProperty(e)}}:"function"==typeof t?function(e,t,n){return function(){var r=t.apply(this,arguments);null==r?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}:function(e,t,n){return function(){this.style.setProperty(e,t,n)}})(e,t,null==n?"":n)):nM(this.node(),e)},property:function(e,t){return arguments.length>1?this.each((null==t?function(e){return function(){delete this[e]}}:"function"==typeof t?function(e,t){return function(){var n=t.apply(this,arguments);null==n?delete this[e]:this[e]=n}}:function(e,t){return function(){this[e]=t}})(e,t)):this.node()[e]},classed:function(e,t){var n=nN(e+"");if(arguments.length<2){for(var r=nT(this.node()),i=-1,o=n.length;++i<o;)if(!r.contains(n[i]))return!1;return!0}return this.each(("function"==typeof t?function(e,t){return function(){(t.apply(this,arguments)?nO:nD)(this,e)}}:t?function(e){return function(){nO(this,e)}}:function(e){return function(){nD(this,e)}})(n,t))},text:function(e){return arguments.length?this.each(null==e?nB:("function"==typeof e?function(e){return function(){var t=e.apply(this,arguments);this.textContent=null==t?"":t}}:function(e){return function(){this.textContent=e}})(e)):this.node().textContent},html:function(e){return arguments.length?this.each(null==e?nP:("function"==typeof e?function(e){return function(){var t=e.apply(this,arguments);this.innerHTML=null==t?"":t}}:function(e){return function(){this.innerHTML=e}})(e)):this.node().innerHTML},raise:function(){return this.each(nL)},lower:function(){return this.each(nR)},append:function(e){var t="function"==typeof e?e:nz(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})},insert:function(e,t){var n="function"==typeof e?e:nz(e),r=null==t?nF:"function"==typeof t?t:nu(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})},remove:function(){return this.each(nU)},clone:function(e){return this.select(e?n$:nV)},datum:function(e){return arguments.length?this.property("__data__",e):this.node().__data__},on:function(e,t,n){var r,i,o=(e+"").trim().split(/^|\s+/).map(function(e){var t="",n=e.indexOf(".");return n>=0&&(t=e.slice(n+1),e=e.slice(0,n)),{type:e,name:t}}),a=o.length;if(arguments.length<2){var s=this.node().__on;if(s){for(var l,u=0,c=s.length;u<c;++u)for(r=0,l=s[u];r<a;++r)if((i=o[r]).type===l.type&&i.name===l.name)return l.value}return}for(r=0,s=t?nH:nj;r<a;++r)this.each(s(o[r],t,n));return this},dispatch:function(e,t){return this.each(("function"==typeof t?function(e,t){return function(){return nW(this,e,t.apply(this,arguments))}}:function(e,t){return function(){return nW(this,e,t)}})(e,t))},[Symbol.iterator]:function*(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r,i=e[t],o=0,a=i.length;o<a;++o)(r=i[o])&&(yield r)}};let nG={passive:!1},nZ={capture:!0,passive:!1};function nQ(e){e.stopImmediatePropagation()}function nJ(e){e.preventDefault(),e.stopImmediatePropagation()}function n0(e){var t=e.document.documentElement,n=nK(e).on("dragstart.drag",nJ,nZ);"onselectstart"in t?n.on("selectstart.drag",nJ,nZ):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function n1(e,t){var n=e.document.documentElement,r=nK(e).on("dragstart.drag",null);t&&(r.on("click.drag",nJ,nZ),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}function n2(e){return((e=Math.exp(e))+1/e)/2}var n3=function e(t,n,r){function i(e,i){var o,a,s=e[0],l=e[1],u=e[2],c=i[0],d=i[1],h=i[2],f=c-s,p=d-l,y=f*f+p*p;if(y<1e-12)a=Math.log(h/u)/t,o=function(e){return[s+e*f,l+e*p,u*Math.exp(t*e*a)]};else{var g=Math.sqrt(y),m=(h*h-u*u+r*y)/(2*u*n*g),b=(h*h-u*u-r*y)/(2*h*n*g),v=Math.log(Math.sqrt(m*m+1)-m);a=(Math.log(Math.sqrt(b*b+1)-b)-v)/t,o=function(e){var r,i,o=e*a,c=n2(v),d=u/(n*g)*(c*(((r=Math.exp(2*(r=t*o+v)))-1)/(r+1))-((i=Math.exp(i=v))-1/i)/2);return[s+d*f,l+d*p,u*c/n2(t*o+v)]}}return o.duration=1e3*a*t/Math.SQRT2,o}return i.rho=function(t){var n=Math.max(.001,+t),r=n*n;return e(n,r,r*r)},i}(Math.SQRT2,2,4);function n4(e,t){if(e=function(e){let t;for(;t=e.sourceEvent;)e=t;return e}(e),void 0===t&&(t=e.currentTarget),t){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,[(r=r.matrixTransform(t.getScreenCTM().inverse())).x,r.y]}if(t.getBoundingClientRect){var i=t.getBoundingClientRect();return[e.clientX-i.left-t.clientLeft,e.clientY-i.top-t.clientTop]}}return[e.pageX,e.pageY]}var n6,n8,n5,n9,n7,re,rt,rn=0,rr=0,ri=0,ro=0,ra=0,rs=0,rl="object"==typeof performance&&performance.now?performance:Date,ru="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function rc(){return ra||(ru(rd),ra=rl.now()+rs)}function rd(){ra=0}function rh(){this._call=this._time=this._next=null}function rf(e,t,n){var r=new rh;return r.restart(e,t,n),r}function rp(){ra=(ro=rl.now())+rs,rn=rr=0;try{rc(),++rn;for(var e,t=re;t;)(e=ra-t._time)>=0&&t._call.call(void 0,e),t=t._next;--rn}finally{rn=0,function(){for(var e,t,n=re,r=1/0;n;)n._call?(r>n._time&&(r=n._time),e=n,n=n._next):(t=n._next,n._next=null,n=e?e._next=t:re=t);rt=e,rg(r)}(),ra=0}}function ry(){var e=rl.now(),t=e-ro;t>1e3&&(rs-=t,ro=e)}function rg(e){!rn&&(rr&&(rr=clearTimeout(rr)),e-ra>24?(e<1/0&&(rr=setTimeout(rp,e-rl.now()-rs)),ri&&(ri=clearInterval(ri))):(ri||(ro=rl.now(),ri=setInterval(ry,1e3)),rn=1,ru(rp)))}function rm(e,t,n){var r=new rh;return t=null==t?0:+t,r.restart(n=>{r.stop(),e(n+t)},t,n),r}rh.prototype=rf.prototype={constructor:rh,restart:function(e,t,n){if("function"!=typeof e)throw TypeError("callback is not a function");n=(null==n?rc():+n)+(null==t?0:+t),this._next||rt===this||(rt?rt._next=this:re=this,rt=this),this._call=e,this._time=n,rg()},stop:function(){this._call&&(this._call=null,this._time=1/0,rg())}};var rb=no("start","end","cancel","interrupt"),rv=[];function rw(e,t,n,r,i,o){var a=e.__transition;if(a){if(n in a)return}else e.__transition={};!function(e,t,n){var r,i=e.__transition;function o(l){var u,c,d,h;if(1!==n.state)return s();for(u in i)if((h=i[u]).name===n.name){if(3===h.state)return rm(o);4===h.state?(h.state=6,h.timer.stop(),h.on.call("interrupt",e,e.__data__,h.index,h.group),delete i[u]):+u<t&&(h.state=6,h.timer.stop(),h.on.call("cancel",e,e.__data__,h.index,h.group),delete i[u])}if(rm(function(){3===n.state&&(n.state=4,n.timer.restart(a,n.delay,n.time),a(l))}),n.state=2,n.on.call("start",e,e.__data__,n.index,n.group),2===n.state){for(u=0,n.state=3,r=Array(d=n.tween.length),c=-1;u<d;++u)(h=n.tween[u].value.call(e,e.__data__,n.index,n.group))&&(r[++c]=h);r.length=c+1}}function a(t){for(var i=t<n.duration?n.ease.call(null,t/n.duration):(n.timer.restart(s),n.state=5,1),o=-1,a=r.length;++o<a;)r[o].call(e,i);5===n.state&&(n.on.call("end",e,e.__data__,n.index,n.group),s())}function s(){for(var r in n.state=6,n.timer.stop(),delete i[t],i)return;delete e.__transition}i[t]=n,n.timer=rf(function(e){n.state=1,n.timer.restart(o,n.delay,n.time),n.delay<=e&&o(e-n.delay)},0,n.time)}(e,n,{name:t,index:r,group:i,on:rb,tween:rv,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:0})}function r_(e,t){var n=rS(e,t);if(n.state>0)throw Error("too late; already scheduled");return n}function rx(e,t){var n=rS(e,t);if(n.state>3)throw Error("too late; already running");return n}function rS(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw Error("transition not found");return n}function rE(e,t){var n,r,i,o=e.__transition,a=!0;if(o){for(i in t=null==t?null:t+"",o){if((n=o[i]).name!==t){a=!1;continue}r=n.state>2&&n.state<5,n.state=6,n.timer.stop(),n.on.call(r?"interrupt":"cancel",e,e.__data__,n.index,n.group),delete o[i]}a&&delete e.__transition}}function rC(e,t){return e*=1,t*=1,function(n){return e*(1-n)+t*n}}var rk=180/Math.PI,rI={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function rM(e,t,n,r,i,o){var a,s,l;return(a=Math.sqrt(e*e+t*t))&&(e/=a,t/=a),(l=e*n+t*r)&&(n-=e*l,r-=t*l),(s=Math.sqrt(n*n+r*r))&&(n/=s,r/=s,l/=s),e*r<t*n&&(e=-e,t=-t,l=-l,a=-a),{translateX:i,translateY:o,rotate:Math.atan2(t,e)*rk,skewX:Math.atan(l)*rk,scaleX:a,scaleY:s}}function rN(e,t,n,r){function i(e){return e.length?e.pop()+" ":""}return function(o,a){var s,l,u,c,d=[],h=[];return o=e(o),a=e(a),!function(e,r,i,o,a,s){if(e!==i||r!==o){var l=a.push("translate(",null,t,null,n);s.push({i:l-4,x:rC(e,i)},{i:l-2,x:rC(r,o)})}else(i||o)&&a.push("translate("+i+t+o+n)}(o.translateX,o.translateY,a.translateX,a.translateY,d,h),s=o.rotate,l=a.rotate,s!==l?(s-l>180?l+=360:l-s>180&&(s+=360),h.push({i:d.push(i(d)+"rotate(",null,r)-2,x:rC(s,l)})):l&&d.push(i(d)+"rotate("+l+r),u=o.skewX,c=a.skewX,u!==c?h.push({i:d.push(i(d)+"skewX(",null,r)-2,x:rC(u,c)}):c&&d.push(i(d)+"skewX("+c+r),!function(e,t,n,r,o,a){if(e!==n||t!==r){var s=o.push(i(o)+"scale(",null,",",null,")");a.push({i:s-4,x:rC(e,n)},{i:s-2,x:rC(t,r)})}else(1!==n||1!==r)&&o.push(i(o)+"scale("+n+","+r+")")}(o.scaleX,o.scaleY,a.scaleX,a.scaleY,d,h),o=a=null,function(e){for(var t,n=-1,r=h.length;++n<r;)d[(t=h[n]).i]=t.x(e);return d.join("")}}}var rT=rN(function(e){let t=new("function"==typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?rI:rM(t.a,t.b,t.c,t.d,t.e,t.f)},"px, ","px)","deg)"),rA=rN(function(e){return null==e?rI:(ed||(ed=document.createElementNS("http://www.w3.org/2000/svg","g")),ed.setAttribute("transform",e),e=ed.transform.baseVal.consolidate())?rM((e=e.matrix).a,e.b,e.c,e.d,e.e,e.f):rI},", ",")",")");function rO(e,t,n){var r=e._id;return e.each(function(){var e=rx(this,r);(e.value||(e.value={}))[t]=n.apply(this,arguments)}),function(e){return rS(e,r).value[t]}}var rD=(eX("bYoiY"),eX("bYoiY"));function rB(e,t,n,r,i){var o=e*e,a=o*e;return((1-3*e+3*o-a)*t+(4-6*o+3*a)*n+(1+3*e+3*o-3*a)*r+a*i)/6}var rP=e=>()=>e;function rL(e,t){var n=t-e;return n?function(t){return e+t*n}:rP(isNaN(e)?t:e)}var rR=function e(t){var n,r=1==(n=+t)?rL:function(e,t){var r,i,o;return t-e?(r=e,i=t,r=Math.pow(r,o=n),i=Math.pow(i,o)-r,o=1/o,function(e){return Math.pow(r+e*i,o)}):rP(isNaN(e)?t:e)};function i(e,t){var n=r((e=(0,rD.rgb)(e)).r,(t=(0,rD.rgb)(t)).r),i=r(e.g,t.g),o=r(e.b,t.b),a=rL(e.opacity,t.opacity);return function(t){return e.r=n(t),e.g=i(t),e.b=o(t),e.opacity=a(t),e+""}}return i.gamma=e,i}(1);function rz(e){return function(t){var n,r,i=t.length,o=Array(i),a=Array(i),s=Array(i);for(n=0;n<i;++n)r=(0,rD.rgb)(t[n]),o[n]=r.r||0,a[n]=r.g||0,s[n]=r.b||0;return o=e(o),a=e(a),s=e(s),r.opacity=1,function(e){return r.r=o(e),r.g=a(e),r.b=s(e),r+""}}}rz(function(e){var t=e.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,t-1):Math.floor(n*t),i=e[r],o=e[r+1],a=r>0?e[r-1]:2*i-o,s=r<t-1?e[r+2]:2*o-i;return rB((n-r/t)*t,a,i,o,s)}}),rz(function(e){var t=e.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*t),i=e[(r+t-1)%t],o=e[r%t],a=e[(r+1)%t],s=e[(r+2)%t];return rB((n-r/t)*t,i,o,a,s)}});var rF=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,rU=RegExp(rF.source,"g");function rV(e,t){var n;return("number"==typeof t?rC:t instanceof(0,rD.default)?rR:(n=(0,rD.default)(t))?(t=n,rR):function(e,t){var n,r,i,o,a,s=rF.lastIndex=rU.lastIndex=0,l=-1,u=[],c=[];for(e+="",t+="";(i=rF.exec(e))&&(o=rU.exec(t));)(a=o.index)>s&&(a=t.slice(s,a),u[l]?u[l]+=a:u[++l]=a),(i=i[0])===(o=o[0])?u[l]?u[l]+=o:u[++l]=o:(u[++l]=null,c.push({i:l,x:rC(i,o)})),s=rU.lastIndex;return s<t.length&&(a=t.slice(s),u[l]?u[l]+=a:u[++l]=a),u.length<2?c[0]?(n=c[0].x,function(e){return n(e)+""}):(r=t,function(){return r}):(t=c.length,function(e){for(var n,r=0;r<t;++r)u[(n=c[r]).i]=n.x(e);return u.join("")})})(e,t)}var r$=nq.prototype.constructor;function rj(e){return function(){this.style.removeProperty(e)}}var rH=0;function rW(e,t,n,r){this._groups=e,this._parents=t,this._name=n,this._id=r}var rY=nq.prototype;rW.prototype=(function(e){return nq().transition(e)}).prototype={constructor:rW,select:function(e){var t=this._name,n=this._id;"function"!=typeof e&&(e=nu(e));for(var r=this._groups,i=r.length,o=Array(i),a=0;a<i;++a)for(var s,l,u=r[a],c=u.length,d=o[a]=Array(c),h=0;h<c;++h)(s=u[h])&&(l=e.call(s,s.__data__,h,u))&&("__data__"in s&&(l.__data__=s.__data__),d[h]=l,rw(d[h],t,n,h,d,rS(s,n)));return new rW(o,this._parents,t,n)},selectAll:function(e){var t=this._name,n=this._id;"function"!=typeof e&&(e=nd(e));for(var r=this._groups,i=r.length,o=[],a=[],s=0;s<i;++s)for(var l,u=r[s],c=u.length,d=0;d<c;++d)if(l=u[d]){for(var h,f=e.call(l,l.__data__,d,u),p=rS(l,n),y=0,g=f.length;y<g;++y)(h=f[y])&&rw(h,t,n,y,f,p);o.push(f),a.push(l)}return new rW(o,a,t,n)},selectChild:rY.selectChild,selectChildren:rY.selectChildren,filter:function(e){"function"!=typeof e&&(e=nh(e));for(var t=this._groups,n=t.length,r=Array(n),i=0;i<n;++i)for(var o,a=t[i],s=a.length,l=r[i]=[],u=0;u<s;++u)(o=a[u])&&e.call(o,o.__data__,u,a)&&l.push(o);return new rW(r,this._parents,this._name,this._id)},merge:function(e){if(e._id!==this._id)throw Error();for(var t=this._groups,n=e._groups,r=t.length,i=n.length,o=Math.min(r,i),a=Array(r),s=0;s<o;++s)for(var l,u=t[s],c=n[s],d=u.length,h=a[s]=Array(d),f=0;f<d;++f)(l=u[f]||c[f])&&(h[f]=l);for(;s<r;++s)a[s]=t[s];return new rW(a,this._parents,this._name,this._id)},selection:function(){return new r$(this._groups,this._parents)},transition:function(){for(var e=this._name,t=this._id,n=++rH,r=this._groups,i=r.length,o=0;o<i;++o)for(var a,s=r[o],l=s.length,u=0;u<l;++u)if(a=s[u]){var c=rS(a,t);rw(a,e,n,u,s,{time:c.time+c.delay+c.duration,delay:0,duration:c.duration,ease:c.ease})}return new rW(r,this._parents,e,n)},call:rY.call,nodes:rY.nodes,node:rY.node,size:rY.size,empty:rY.empty,each:rY.each,on:function(e,t){var n,r,i,o,a,s,l=this._id;return arguments.length<2?rS(this.node(),l).on.on(e):this.each((n=l,r=e,i=t,s=(r+"").trim().split(/^|\s+/).every(function(e){var t=e.indexOf(".");return t>=0&&(e=e.slice(0,t)),!e||"start"===e})?r_:rx,function(){var e=s(this,n),t=e.on;t!==o&&(a=(o=t).copy()).on(r,i),e.on=a}))},attr:function(e,t){var n=nk(e),r="transform"===n?rA:rV;return this.attrTween(e,"function"==typeof t?(n.local?function(e,t,n){var r,i,o;return function(){var a,s,l=n(this);return null==l?void this.removeAttributeNS(e.space,e.local):(a=this.getAttributeNS(e.space,e.local))===(s=l+"")?null:a===r&&s===i?o:(i=s,o=t(r=a,l))}}:function(e,t,n){var r,i,o;return function(){var a,s,l=n(this);return null==l?void this.removeAttribute(e):(a=this.getAttribute(e))===(s=l+"")?null:a===r&&s===i?o:(i=s,o=t(r=a,l))}})(n,r,rO(this,"attr."+e,t)):null==t?(n.local?function(e){return function(){this.removeAttributeNS(e.space,e.local)}}:function(e){return function(){this.removeAttribute(e)}})(n):(n.local?function(e,t,n){var r,i,o=n+"";return function(){var a=this.getAttributeNS(e.space,e.local);return a===o?null:a===r?i:i=t(r=a,n)}}:function(e,t,n){var r,i,o=n+"";return function(){var a=this.getAttribute(e);return a===o?null:a===r?i:i=t(r=a,n)}})(n,r,t))},attrTween:function(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(null==t)return this.tween(n,null);if("function"!=typeof t)throw Error();var r=nk(e);return this.tween(n,(r.local?function(e,t){var n,r;function i(){var i=t.apply(this,arguments);return i!==r&&(n=(r=i)&&function(t){this.setAttributeNS(e.space,e.local,i.call(this,t))}),n}return i._value=t,i}:function(e,t){var n,r;function i(){var i=t.apply(this,arguments);return i!==r&&(n=(r=i)&&function(t){this.setAttribute(e,i.call(this,t))}),n}return i._value=t,i})(r,t))},style:function(e,t,n){var r,i,o,a,s,l,u,c,d,h,f,p,y,g,m,b,v,w,_,x,S,E="transform"==(e+="")?rT:rV;return null==t?this.styleTween(e,(r=e,function(){var e=nM(this,r),t=(this.style.removeProperty(r),nM(this,r));return e===t?null:e===i&&t===o?a:a=E(i=e,o=t)})).on("end.style."+e,rj(e)):"function"==typeof t?this.styleTween(e,(s=e,l=rO(this,"style."+e,t),function(){var e=nM(this,s),t=l(this),n=t+"";return null==t&&(this.style.removeProperty(s),n=t=nM(this,s)),e===n?null:e===u&&n===c?d:(c=n,d=E(u=e,t))})).each((h=this._id,v="end."+(b="style."+(f=e)),function(){var e=rx(this,h),t=e.on,n=null==e.value[b]?m||(m=rj(f)):void 0;(t!==p||g!==n)&&(y=(p=t).copy()).on(v,g=n),e.on=y})):this.styleTween(e,(w=e,S=t+"",function(){var e=nM(this,w);return e===S?null:e===_?x:x=E(_=e,t)}),n).on("end.style."+e,null)},styleTween:function(e,t,n){var r="style."+(e+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==t)return this.tween(r,null);if("function"!=typeof t)throw Error();return this.tween(r,function(e,t,n){var r,i;function o(){var o=t.apply(this,arguments);return o!==i&&(r=(i=o)&&function(t){this.style.setProperty(e,o.call(this,t),n)}),r}return o._value=t,o}(e,t,null==n?"":n))},text:function(e){var t,n;return this.tween("text","function"==typeof e?(t=rO(this,"text",e),function(){var e=t(this);this.textContent=null==e?"":e}):(n=null==e?"":e+"",function(){this.textContent=n}))},textTween:function(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(null==e)return this.tween(t,null);if("function"!=typeof e)throw Error();return this.tween(t,function(e){var t,n;function r(){var r=e.apply(this,arguments);return r!==n&&(t=(n=r)&&function(e){this.textContent=r.call(this,e)}),t}return r._value=e,r}(e))},remove:function(){var e;return this.on("end.remove",(e=this._id,function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}))},tween:function(e,t){var n=this._id;if(e+="",arguments.length<2){for(var r,i=rS(this.node(),n).tween,o=0,a=i.length;o<a;++o)if((r=i[o]).name===e)return r.value;return null}return this.each((null==t?function(e,t){var n,r;return function(){var i=rx(this,e),o=i.tween;if(o!==n){r=n=o;for(var a=0,s=r.length;a<s;++a)if(r[a].name===t){(r=r.slice()).splice(a,1);break}}i.tween=r}}:function(e,t,n){var r,i;if("function"!=typeof n)throw Error();return function(){var o=rx(this,e),a=o.tween;if(a!==r){i=(r=a).slice();for(var s={name:t,value:n},l=0,u=i.length;l<u;++l)if(i[l].name===t){i[l]=s;break}l===u&&i.push(s)}o.tween=i}})(n,e,t))},delay:function(e){var t=this._id;return arguments.length?this.each(("function"==typeof e?function(e,t){return function(){r_(this,e).delay=+t.apply(this,arguments)}}:function(e,t){return t*=1,function(){r_(this,e).delay=t}})(t,e)):rS(this.node(),t).delay},duration:function(e){var t=this._id;return arguments.length?this.each(("function"==typeof e?function(e,t){return function(){rx(this,e).duration=+t.apply(this,arguments)}}:function(e,t){return t*=1,function(){rx(this,e).duration=t}})(t,e)):rS(this.node(),t).duration},ease:function(e){var t=this._id;return arguments.length?this.each(function(e,t){if("function"!=typeof t)throw Error();return function(){rx(this,e).ease=t}}(t,e)):rS(this.node(),t).ease},easeVarying:function(e){var t;if("function"!=typeof e)throw Error();return this.each((t=this._id,function(){var n=e.apply(this,arguments);if("function"!=typeof n)throw Error();rx(this,t).ease=n}))},end:function(){var e,t,n=this,r=n._id,i=n.size();return new Promise(function(o,a){var s={value:a},l={value:function(){0==--i&&o()}};n.each(function(){var n=rx(this,r),i=n.on;i!==e&&((t=(e=i).copy())._.cancel.push(s),t._.interrupt.push(s),t._.end.push(l)),n.on=t}),0===i&&o()})},[Symbol.iterator]:rY[Symbol.iterator]};var rX={time:null,delay:0,duration:250,ease:function(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}};nq.prototype.interrupt=function(e){return this.each(function(){rE(this,e)})},nq.prototype.transition=function(e){var t,n;e instanceof rW?(t=e._id,e=e._name):(t=++rH,(n=rX).time=rc(),e=null==e?null:e+"");for(var r=this._groups,i=r.length,o=0;o<i;++o)for(var a,s=r[o],l=s.length,u=0;u<l;++u)(a=s[u])&&rw(a,e,t,u,s,n||function(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw Error(`transition ${t} not found`);return n}(a,t));return new rW(r,this._parents,e,t)};var rq=e=>()=>e;function rK(e,{sourceEvent:t,target:n,transform:r,dispatch:i}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:i}})}function rG(e,t,n){this.k=e,this.x=t,this.y=n}rG.prototype={constructor:rG,scale:function(e){return 1===e?this:new rG(this.k*e,this.x,this.y)},translate:function(e,t){return 0===e&0===t?this:new rG(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var rZ=new rG(1,0,0);function rQ(e){e.stopImmediatePropagation()}function rJ(e){e.preventDefault(),e.stopImmediatePropagation()}function r0(e){return(!e.ctrlKey||"wheel"===e.type)&&!e.button}function r1(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e).hasAttribute("viewBox")?[[(e=e.viewBox.baseVal).x,e.y],[e.x+e.width,e.y+e.height]]:[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]:[[0,0],[e.clientWidth,e.clientHeight]]}function r2(){return this.__zoom||rZ}function r3(e){return-e.deltaY*(1===e.deltaMode?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function r4(){return navigator.maxTouchPoints||"ontouchstart"in this}function r6(e,t,n){var r=e.invertX(t[0][0])-n[0][0],i=e.invertX(t[1][0])-n[1][0],o=e.invertY(t[0][1])-n[0][1],a=e.invertY(t[1][1])-n[1][1];return e.translate(i>r?(r+i)/2:Math.min(0,r)||Math.max(0,i),a>o?(o+a)/2:Math.min(0,o)||Math.max(0,a))}function r8(){var e,t,n,r=r0,i=r1,o=r6,a=r3,s=r4,l=[0,1/0],u=[[-1/0,-1/0],[1/0,1/0]],c=250,d=n3,h=no("start","zoom","end"),f=0,p=10;function y(e){e.property("__zoom",r2).on("wheel.zoom",x,{passive:!1}).on("mousedown.zoom",S).on("dblclick.zoom",E).filter(s).on("touchstart.zoom",C).on("touchmove.zoom",k).on("touchend.zoom touchcancel.zoom",I).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function g(e,t){return(t=Math.max(l[0],Math.min(l[1],t)))===e.k?e:new rG(t,e.x,e.y)}function m(e,t,n){var r=t[0]-n[0]*e.k,i=t[1]-n[1]*e.k;return r===e.x&&i===e.y?e:new rG(e.k,r,i)}function b(e){return[(+e[0][0]+ +e[1][0])/2,(+e[0][1]+ +e[1][1])/2]}function v(e,t,n,r){e.on("start.zoom",function(){w(this,arguments).event(r).start()}).on("interrupt.zoom end.zoom",function(){w(this,arguments).event(r).end()}).tween("zoom",function(){var e=arguments,o=w(this,e).event(r),a=i.apply(this,e),s=null==n?b(a):"function"==typeof n?n.apply(this,e):n,l=Math.max(a[1][0]-a[0][0],a[1][1]-a[0][1]),u=this.__zoom,c="function"==typeof t?t.apply(this,e):t,h=d(u.invert(s).concat(l/u.k),c.invert(s).concat(l/c.k));return function(e){if(1===e)e=c;else{var t=h(e),n=l/t[2];e=new rG(n,s[0]-t[0]*n,s[1]-t[1]*n)}o.zoom(null,e)}})}function w(e,t,n){return!n&&e.__zooming||new _(e,t)}function _(e,t){this.that=e,this.args=t,this.active=0,this.sourceEvent=null,this.extent=i.apply(e,t),this.taps=0}function x(e,...t){if(r.apply(this,arguments)){var n=w(this,t).event(e),i=this.__zoom,s=Math.max(l[0],Math.min(l[1],i.k*Math.pow(2,a.apply(this,arguments)))),c=n4(e);if(n.wheel)(n.mouse[0][0]!==c[0]||n.mouse[0][1]!==c[1])&&(n.mouse[1]=i.invert(n.mouse[0]=c)),clearTimeout(n.wheel);else{if(i.k===s)return;n.mouse=[c,i.invert(c)],rE(this),n.start()}rJ(e),n.wheel=setTimeout(function(){n.wheel=null,n.end()},150),n.zoom("mouse",o(m(g(i,s),n.mouse[0],n.mouse[1]),n.extent,u))}}function S(e,...t){if(!n&&r.apply(this,arguments)){var i=e.currentTarget,a=w(this,t,!0).event(e),s=nK(e.view).on("mousemove.zoom",function(e){if(rJ(e),!a.moved){var t=e.clientX-c,n=e.clientY-d;a.moved=t*t+n*n>f}a.event(e).zoom("mouse",o(m(a.that.__zoom,a.mouse[0]=n4(e,i),a.mouse[1]),a.extent,u))},!0).on("mouseup.zoom",function(e){s.on("mousemove.zoom mouseup.zoom",null),n1(e.view,a.moved),rJ(e),a.event(e).end()},!0),l=n4(e,i),c=e.clientX,d=e.clientY;n0(e.view),rQ(e),a.mouse=[l,this.__zoom.invert(l)],rE(this),a.start()}}function E(e,...t){if(r.apply(this,arguments)){var n=this.__zoom,a=n4(e.changedTouches?e.changedTouches[0]:e,this),s=n.invert(a),l=n.k*(e.shiftKey?.5:2),d=o(m(g(n,l),a,s),i.apply(this,t),u);rJ(e),c>0?nK(this).transition().duration(c).call(v,d,a,e):nK(this).call(y.transform,d,a,e)}}function C(n,...i){if(r.apply(this,arguments)){var o,a,s,l,u=n.touches,c=u.length,d=w(this,i,n.changedTouches.length===c).event(n);for(rQ(n),a=0;a<c;++a)l=[l=n4(s=u[a],this),this.__zoom.invert(l),s.identifier],d.touch0?d.touch1||d.touch0[2]===l[2]||(d.touch1=l,d.taps=0):(d.touch0=l,o=!0,d.taps=1+!!e);e&&(e=clearTimeout(e)),o&&(d.taps<2&&(t=l[0],e=setTimeout(function(){e=null},500)),rE(this),d.start())}}function k(e,...t){if(this.__zooming){var n,r,i,a,s=w(this,t).event(e),l=e.changedTouches,c=l.length;for(rJ(e),n=0;n<c;++n)i=n4(r=l[n],this),s.touch0&&s.touch0[2]===r.identifier?s.touch0[0]=i:s.touch1&&s.touch1[2]===r.identifier&&(s.touch1[0]=i);if(r=s.that.__zoom,s.touch1){var d=s.touch0[0],h=s.touch0[1],f=s.touch1[0],p=s.touch1[1],y=(y=f[0]-d[0])*y+(y=f[1]-d[1])*y,b=(b=p[0]-h[0])*b+(b=p[1]-h[1])*b;r=g(r,Math.sqrt(y/b)),i=[(d[0]+f[0])/2,(d[1]+f[1])/2],a=[(h[0]+p[0])/2,(h[1]+p[1])/2]}else{if(!s.touch0)return;i=s.touch0[0],a=s.touch0[1]}s.zoom("touch",o(m(r,i,a),s.extent,u))}}function I(e,...r){if(this.__zooming){var i,o,a=w(this,r).event(e),s=e.changedTouches,l=s.length;for(rQ(e),n&&clearTimeout(n),n=setTimeout(function(){n=null},500),i=0;i<l;++i)o=s[i],a.touch0&&a.touch0[2]===o.identifier?delete a.touch0:a.touch1&&a.touch1[2]===o.identifier&&delete a.touch1;if(a.touch1&&!a.touch0&&(a.touch0=a.touch1,delete a.touch1),a.touch0)a.touch0[1]=this.__zoom.invert(a.touch0[0]);else if(a.end(),2===a.taps&&(o=n4(o,this),Math.hypot(t[0]-o[0],t[1]-o[1])<p)){var u=nK(this).on("dblclick.zoom");u&&u.apply(this,arguments)}}}return y.transform=function(e,t,n,r){var i=e.selection?e.selection():e;i.property("__zoom",r2),e!==i?v(e,t,n,r):i.interrupt().each(function(){w(this,arguments).event(r).start().zoom(null,"function"==typeof t?t.apply(this,arguments):t).end()})},y.scaleBy=function(e,t,n,r){y.scaleTo(e,function(){var e=this.__zoom.k,n="function"==typeof t?t.apply(this,arguments):t;return e*n},n,r)},y.scaleTo=function(e,t,n,r){y.transform(e,function(){var e=i.apply(this,arguments),r=this.__zoom,a=null==n?b(e):"function"==typeof n?n.apply(this,arguments):n,s=r.invert(a),l="function"==typeof t?t.apply(this,arguments):t;return o(m(g(r,l),a,s),e,u)},n,r)},y.translateBy=function(e,t,n,r){y.transform(e,function(){return o(this.__zoom.translate("function"==typeof t?t.apply(this,arguments):t,"function"==typeof n?n.apply(this,arguments):n),i.apply(this,arguments),u)},null,r)},y.translateTo=function(e,t,n,r,a){y.transform(e,function(){var e=i.apply(this,arguments),a=this.__zoom,s=null==r?b(e):"function"==typeof r?r.apply(this,arguments):r;return o(rZ.translate(s[0],s[1]).scale(a.k).translate("function"==typeof t?-t.apply(this,arguments):-t,"function"==typeof n?-n.apply(this,arguments):-n),e,u)},r,a)},_.prototype={event:function(e){return e&&(this.sourceEvent=e),this},start:function(){return 1==++this.active&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(e,t){return this.mouse&&"mouse"!==e&&(this.mouse[1]=t.invert(this.mouse[0])),this.touch0&&"touch"!==e&&(this.touch0[1]=t.invert(this.touch0[0])),this.touch1&&"touch"!==e&&(this.touch1[1]=t.invert(this.touch1[0])),this.that.__zoom=t,this.emit("zoom"),this},end:function(){return 0==--this.active&&(delete this.that.__zooming,this.emit("end")),this},emit:function(e){var t=nK(this.that).datum();h.call(e,this.that,new rK(e,{sourceEvent:this.sourceEvent,target:y,type:e,transform:this.that.__zoom,dispatch:h}),t)}},y.wheelDelta=function(e){return arguments.length?(a="function"==typeof e?e:rq(+e),y):a},y.filter=function(e){return arguments.length?(r="function"==typeof e?e:rq(!!e),y):r},y.touchable=function(e){return arguments.length?(s="function"==typeof e?e:rq(!!e),y):s},y.extent=function(e){return arguments.length?(i="function"==typeof e?e:rq([[+e[0][0],+e[0][1]],[+e[1][0],+e[1][1]]]),y):i},y.scaleExtent=function(e){return arguments.length?(l[0]=+e[0],l[1]=+e[1],y):[l[0],l[1]]},y.translateExtent=function(e){return arguments.length?(u[0][0]=+e[0][0],u[1][0]=+e[1][0],u[0][1]=+e[0][1],u[1][1]=+e[1][1],y):[[u[0][0],u[0][1]],[u[1][0],u[1][1]]]},y.constrain=function(e){return arguments.length?(o=e,y):o},y.duration=function(e){return arguments.length?(c=+e,y):c},y.interpolate=function(e){return arguments.length?(d=e,y):d},y.on=function(){var e=h.on.apply(h,arguments);return e===h?y:e},y.clickDistance=function(e){return arguments.length?(f=(e*=1)*e,y):Math.sqrt(f)},y.tapDistance=function(e){return arguments.length?(p=+e,y):p},y}rG.prototype;var r5=e=>()=>e;function r9(e,{sourceEvent:t,subject:n,target:r,identifier:i,active:o,x:a,y:s,dx:l,dy:u,dispatch:c}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},identifier:{value:i,enumerable:!0,configurable:!0},active:{value:o,enumerable:!0,configurable:!0},x:{value:a,enumerable:!0,configurable:!0},y:{value:s,enumerable:!0,configurable:!0},dx:{value:l,enumerable:!0,configurable:!0},dy:{value:u,enumerable:!0,configurable:!0},_:{value:c}})}function r7(e){return!e.ctrlKey&&!e.button}function ie(){return this.parentNode}function it(e,t){return null==t?{x:e.x,y:e.y}:t}function ir(){return navigator.maxTouchPoints||"ontouchstart"in this}r9.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};let ii=(0,eG.createContext)(null),io=ii.Provider,ia="[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001";function is(e,t){let n=(0,eG.useContext)(ii);if(null===n)throw Error(ia);return t5(n,e,t)}let il=()=>{let e=(0,eG.useContext)(ii);if(null===e)throw Error(ia);return(0,eG.useMemo)(()=>({getState:e.getState,setState:e.setState,subscribe:e.subscribe,destroy:e.destroy}),[e])},iu=e=>e.userSelectionActive?"none":"all";function ic({position:e,children:t,className:n,style:r,...i}){let o=is(iu),a=`${e}`.split("-");return u(eG).createElement("div",{className:tQ(["react-flow__panel",n,...a]),style:{...r,pointerEvents:o},...i},t)}function id({proOptions:e,position:t="bottom-right"}){return e?.hideAttribution?null:u(eG).createElement(ic,{position:t,className:"react-flow__attribution","data-message":"Please only hide this attribution when you are subscribed to React Flow Pro: https://reactflow.dev/pro"},u(eG).createElement("a",{href:"https://reactflow.dev",target:"_blank",rel:"noopener noreferrer","aria-label":"React Flow attribution"},"React Flow"))}var ih=(0,eG.memo)(({x:e,y:t,label:n,labelStyle:r={},labelShowBg:i=!0,labelBgStyle:o={},labelBgPadding:a=[2,4],labelBgBorderRadius:s=2,children:l,className:c,...d})=>{let h=(0,eG.useRef)(null),[f,p]=(0,eG.useState)({x:0,y:0,width:0,height:0}),y=tQ(["react-flow__edge-textwrapper",c]);return((0,eG.useEffect)(()=>{if(h.current){let e=h.current.getBBox();p({x:e.x,y:e.y,width:e.width,height:e.height})}},[n]),void 0!==n&&n)?u(eG).createElement("g",{transform:`translate(${e-f.width/2} ${t-f.height/2})`,className:y,visibility:f.width?"visible":"hidden",...d},i&&u(eG).createElement("rect",{width:f.width+2*a[0],x:-a[0],y:-a[1],height:f.height+2*a[1],className:"react-flow__edge-textbg",style:o,rx:s,ry:s}),u(eG).createElement("text",{className:"react-flow__edge-text",y:f.height/2,dy:"0.3em",ref:h,style:r},n),l):null});let ip=e=>({width:e.offsetWidth,height:e.offsetHeight}),iy=(e,t=0,n=1)=>Math.min(Math.max(e,t),n),ig=(e={x:0,y:0},t)=>({x:iy(e.x,t[0][0],t[1][0]),y:iy(e.y,t[0][1],t[1][1])}),im=(e,t,n)=>e<t?iy(Math.abs(e-t),1,50)/50:e>n?-iy(Math.abs(e-n),1,50)/50:0,ib=(e,t)=>[20*im(e.x,35,t.width-35),20*im(e.y,35,t.height-35)],iv=e=>e.getRootNode?.()||window?.document,iw=(e,t)=>({x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x2,t.x2),y2:Math.max(e.y2,t.y2)}),i_=({x:e,y:t,width:n,height:r})=>({x:e,y:t,x2:e+n,y2:t+r}),ix=({x:e,y:t,x2:n,y2:r})=>({x:e,y:t,width:n-e,height:r-t}),iS=e=>({...e.positionAbsolute||{x:0,y:0},width:e.width||0,height:e.height||0}),iE=(e,t)=>Math.ceil(Math.max(0,Math.min(e.x+e.width,t.x+t.width)-Math.max(e.x,t.x))*Math.max(0,Math.min(e.y+e.height,t.y+t.height)-Math.max(e.y,t.y))),iC=e=>!isNaN(e)&&isFinite(e),ik=Symbol.for("internals"),iI=["Enter"," ","Escape"],iM=(e,t)=>{};function iN(e){let t="nativeEvent"in e?e.nativeEvent:e,n=t.composedPath?.()?.[0]||e.target;return["INPUT","SELECT","TEXTAREA"].includes(n?.nodeName)||n?.hasAttribute("contenteditable")||!!n?.closest(".nokey")}let iT=(e,t)=>{let n="clientX"in e,r=n?e.clientX:e.touches?.[0].clientX,i=n?e.clientY:e.touches?.[0].clientY;return{x:r-(t?.left??0),y:i-(t?.top??0)}},iA=()=>"undefined"!=typeof navigator&&navigator?.userAgent?.indexOf("Mac")>=0,iO=({id:e,path:t,labelX:n,labelY:r,label:i,labelStyle:o,labelShowBg:a,labelBgStyle:s,labelBgPadding:l,labelBgBorderRadius:c,style:d,markerEnd:h,markerStart:f,interactionWidth:p=20})=>u(eG).createElement(u(eG).Fragment,null,u(eG).createElement("path",{id:e,style:d,d:t,fill:"none",className:"react-flow__edge-path",markerEnd:h,markerStart:f}),p&&u(eG).createElement("path",{d:t,fill:"none",strokeOpacity:0,strokeWidth:p,className:"react-flow__edge-interaction"}),i&&iC(n)&&iC(r)?u(eG).createElement(ih,{x:n,y:r,label:i,labelStyle:o,labelShowBg:a,labelBgStyle:s,labelBgPadding:l,labelBgBorderRadius:c}):null);function iD(e,t,n){return void 0===n?n:r=>{let i=t().edges.find(t=>t.id===e);i&&n(r,{...i})}}function iB({sourceX:e,sourceY:t,targetX:n,targetY:r}){let i=Math.abs(n-e)/2,o=Math.abs(r-t)/2;return[n<e?n+i:n-i,r<t?r+o:r-o,i,o]}function iP({sourceX:e,sourceY:t,targetX:n,targetY:r,sourceControlX:i,sourceControlY:o,targetControlX:a,targetControlY:s}){let l=.125*e+.375*i+.375*a+.125*n,u=.125*t+.375*o+.375*s+.125*r,c=Math.abs(l-e),d=Math.abs(u-t);return[l,u,c,d]}function iL({pos:e,x1:t,y1:n,x2:r,y2:i}){return e===em.Left||e===em.Right?[.5*(t+r),n]:[t,.5*(n+i)]}function iR({sourceX:e,sourceY:t,sourcePosition:n=em.Bottom,targetX:r,targetY:i,targetPosition:o=em.Top}){let[a,s]=iL({pos:n,x1:e,y1:t,x2:r,y2:i}),[l,u]=iL({pos:o,x1:r,y1:i,x2:e,y2:t}),[c,d,h,f]=iP({sourceX:e,sourceY:t,targetX:r,targetY:i,sourceControlX:a,sourceControlY:s,targetControlX:l,targetControlY:u});return[`M${e},${t} C${a},${s} ${l},${u} ${r},${i}`,c,d,h,f]}iO.displayName="BaseEdge",(c=eh||(eh={})).Strict="strict",c.Loose="loose",(d=ef||(ef={})).Free="free",d.Vertical="vertical",d.Horizontal="horizontal",(h=ep||(ep={})).Partial="partial",h.Full="full",(f=ey||(ey={})).Bezier="default",f.Straight="straight",f.Step="step",f.SmoothStep="smoothstep",f.SimpleBezier="simplebezier",(p=eg||(eg={})).Arrow="arrow",p.ArrowClosed="arrowclosed",(y=em||(em={})).Left="left",y.Top="top",y.Right="right",y.Bottom="bottom";let iz=(0,eG.memo)(({sourceX:e,sourceY:t,targetX:n,targetY:r,sourcePosition:i=em.Bottom,targetPosition:o=em.Top,label:a,labelStyle:s,labelShowBg:l,labelBgStyle:c,labelBgPadding:d,labelBgBorderRadius:h,style:f,markerEnd:p,markerStart:y,interactionWidth:g})=>{let[m,b,v]=iR({sourceX:e,sourceY:t,sourcePosition:i,targetX:n,targetY:r,targetPosition:o});return u(eG).createElement(iO,{path:m,labelX:b,labelY:v,label:a,labelStyle:s,labelShowBg:l,labelBgStyle:c,labelBgPadding:d,labelBgBorderRadius:h,style:f,markerEnd:p,markerStart:y,interactionWidth:g})});iz.displayName="SimpleBezierEdge";let iF={[em.Left]:{x:-1,y:0},[em.Right]:{x:1,y:0},[em.Top]:{x:0,y:-1},[em.Bottom]:{x:0,y:1}},iU=({source:e,sourcePosition:t=em.Bottom,target:n})=>t===em.Left||t===em.Right?e.x<n.x?{x:1,y:0}:{x:-1,y:0}:e.y<n.y?{x:0,y:1}:{x:0,y:-1},iV=(e,t)=>Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2));function i$({sourceX:e,sourceY:t,sourcePosition:n=em.Bottom,targetX:r,targetY:i,targetPosition:o=em.Top,borderRadius:a=5,centerX:s,centerY:l,offset:u=20}){let[c,d,h,f,p]=function({source:e,sourcePosition:t=em.Bottom,target:n,targetPosition:r=em.Top,center:i,offset:o}){let a,s,l=iF[t],u=iF[r],c={x:e.x+l.x*o,y:e.y+l.y*o},d={x:n.x+u.x*o,y:n.y+u.y*o},h=iU({source:c,sourcePosition:t,target:d}),f=0!==h.x?"x":"y",p=h[f],y=[],g={x:0,y:0},m={x:0,y:0},[b,v,w,_]=iB({sourceX:e.x,sourceY:e.y,targetX:n.x,targetY:n.y});if(l[f]*u[f]==-1){a=i.x??b,s=i.y??v;let e=[{x:a,y:c.y},{x:a,y:d.y}],t=[{x:c.x,y:s},{x:d.x,y:s}];y=l[f]===p?"x"===f?e:t:"x"===f?t:e}else{let i=[{x:c.x,y:d.y}],h=[{x:d.x,y:c.y}];if(y="x"===f?l.x===p?h:i:l.y===p?i:h,t===r){let t=Math.abs(e[f]-n[f]);if(t<=o){let r=Math.min(o-1,o-t);l[f]===p?g[f]=(c[f]>e[f]?-1:1)*r:m[f]=(d[f]>n[f]?-1:1)*r}}if(t!==r){let e="x"===f?"y":"x",t=l[f]===u[e],n=c[e]>d[e],r=c[e]<d[e];(1===l[f]&&(!t&&n||t&&r)||1!==l[f]&&(!t&&r||t&&n))&&(y="x"===f?i:h)}let b={x:c.x+g.x,y:c.y+g.y},v={x:d.x+m.x,y:d.y+m.y};Math.max(Math.abs(b.x-y[0].x),Math.abs(v.x-y[0].x))>=Math.max(Math.abs(b.y-y[0].y),Math.abs(v.y-y[0].y))?(a=(b.x+v.x)/2,s=y[0].y):(a=y[0].x,s=(b.y+v.y)/2)}return[[e,{x:c.x+g.x,y:c.y+g.y},...y,{x:d.x+m.x,y:d.y+m.y},n],a,s,w,_]}({source:{x:e,y:t},sourcePosition:n,target:{x:r,y:i},targetPosition:o,center:{x:s,y:l},offset:u});return[c.reduce((e,t,n)=>e+(n>0&&n<c.length-1?function(e,t,n,r){let i=Math.min(iV(e,t)/2,iV(t,n)/2,r),{x:o,y:a}=t;if(e.x===o&&o===n.x||e.y===a&&a===n.y)return`L${o} ${a}`;if(e.y===a){let t=e.x<n.x?-1:1,r=e.y<n.y?1:-1;return`L ${o+i*t},${a}Q ${o},${a} ${o},${a+i*r}`}let s=e.x<n.x?1:-1,l=e.y<n.y?-1:1;return`L ${o},${a+i*l}Q ${o},${a} ${o+i*s},${a}`}(c[n-1],t,c[n+1],a):`${0===n?"M":"L"}${t.x} ${t.y}`),""),d,h,f,p]}let ij=(0,eG.memo)(({sourceX:e,sourceY:t,targetX:n,targetY:r,label:i,labelStyle:o,labelShowBg:a,labelBgStyle:s,labelBgPadding:l,labelBgBorderRadius:c,style:d,sourcePosition:h=em.Bottom,targetPosition:f=em.Top,markerEnd:p,markerStart:y,pathOptions:g,interactionWidth:m})=>{let[b,v,w]=i$({sourceX:e,sourceY:t,sourcePosition:h,targetX:n,targetY:r,targetPosition:f,borderRadius:g?.borderRadius,offset:g?.offset});return u(eG).createElement(iO,{path:b,labelX:v,labelY:w,label:i,labelStyle:o,labelShowBg:a,labelBgStyle:s,labelBgPadding:l,labelBgBorderRadius:c,style:d,markerEnd:p,markerStart:y,interactionWidth:m})});ij.displayName="SmoothStepEdge";let iH=(0,eG.memo)(e=>u(eG).createElement(ij,{...e,pathOptions:(0,eG.useMemo)(()=>({borderRadius:0,offset:e.pathOptions?.offset}),[e.pathOptions?.offset])}));iH.displayName="StepEdge";let iW=(0,eG.memo)(({sourceX:e,sourceY:t,targetX:n,targetY:r,label:i,labelStyle:o,labelShowBg:a,labelBgStyle:s,labelBgPadding:l,labelBgBorderRadius:c,style:d,markerEnd:h,markerStart:f,interactionWidth:p})=>{let[y,g,m]=function({sourceX:e,sourceY:t,targetX:n,targetY:r}){let[i,o,a,s]=iB({sourceX:e,sourceY:t,targetX:n,targetY:r});return[`M ${e},${t}L ${n},${r}`,i,o,a,s]}({sourceX:e,sourceY:t,targetX:n,targetY:r});return u(eG).createElement(iO,{path:y,labelX:g,labelY:m,label:i,labelStyle:o,labelShowBg:a,labelBgStyle:s,labelBgPadding:l,labelBgBorderRadius:c,style:d,markerEnd:h,markerStart:f,interactionWidth:p})});function iY(e,t){return e>=0?.5*e:25*t*Math.sqrt(-e)}function iX({pos:e,x1:t,y1:n,x2:r,y2:i,c:o}){switch(e){case em.Left:return[t-iY(t-r,o),n];case em.Right:return[t+iY(r-t,o),n];case em.Top:return[t,n-iY(n-i,o)];case em.Bottom:return[t,n+iY(i-n,o)]}}function iq({sourceX:e,sourceY:t,sourcePosition:n=em.Bottom,targetX:r,targetY:i,targetPosition:o=em.Top,curvature:a=.25}){let[s,l]=iX({pos:n,x1:e,y1:t,x2:r,y2:i,c:a}),[u,c]=iX({pos:o,x1:r,y1:i,x2:e,y2:t,c:a}),[d,h,f,p]=iP({sourceX:e,sourceY:t,targetX:r,targetY:i,sourceControlX:s,sourceControlY:l,targetControlX:u,targetControlY:c});return[`M${e},${t} C${s},${l} ${u},${c} ${r},${i}`,d,h,f,p]}iW.displayName="StraightEdge";let iK=(0,eG.memo)(({sourceX:e,sourceY:t,targetX:n,targetY:r,sourcePosition:i=em.Bottom,targetPosition:o=em.Top,label:a,labelStyle:s,labelShowBg:l,labelBgStyle:c,labelBgPadding:d,labelBgBorderRadius:h,style:f,markerEnd:p,markerStart:y,pathOptions:g,interactionWidth:m})=>{let[b,v,w]=iq({sourceX:e,sourceY:t,sourcePosition:i,targetX:n,targetY:r,targetPosition:o,curvature:g?.curvature});return u(eG).createElement(iO,{path:b,labelX:v,labelY:w,label:a,labelStyle:s,labelShowBg:l,labelBgStyle:c,labelBgPadding:d,labelBgBorderRadius:h,style:f,markerEnd:p,markerStart:y,interactionWidth:m})});iK.displayName="BezierEdge";let iG=(0,eG.createContext)(null),iZ=iG.Provider;iG.Consumer;let iQ=(e,t)=>{if(void 0===e)return"";if("string"==typeof e)return e;let n=t?`${t}__`:"";return`${n}${Object.keys(e).sort().map(t=>`${t}=${e[t]}`).join("&")}`},iJ=(e,t)=>{let n,r;return e.source&&e.target?(r=n="id"in e&&"source"in e&&"target"in e?{...e}:{...e,id:(({source:e,sourceHandle:t,target:n,targetHandle:r})=>`reactflow__edge-${e}${t||""}-${n}${r||""}`)(e)},t.some(e=>e.source===r.source&&e.target===r.target&&(e.sourceHandle===r.sourceHandle||!e.sourceHandle&&!r.sourceHandle)&&(e.targetHandle===r.targetHandle||!e.targetHandle&&!r.targetHandle)))?t:t.concat(n):(iM("006","Can't create edge. An edge needs a source and a target."),t)},i0=({x:e,y:t},[n,r,i],o,[a,s])=>{let l={x:(e-n)/i,y:(t-r)/i};return o?{x:a*Math.round(l.x/a),y:s*Math.round(l.y/s)}:l},i1=({x:e,y:t},[n,r,i])=>({x:e*i+n,y:t*i+r}),i2=(e,t=[0,0])=>{if(!e)return{x:0,y:0,positionAbsolute:{x:0,y:0}};let n=(e.width??0)*t[0],r=(e.height??0)*t[1],i={x:e.position.x-n,y:e.position.y-r};return{...i,positionAbsolute:e.positionAbsolute?{x:e.positionAbsolute.x-n,y:e.positionAbsolute.y-r}:i}},i3=(e,t=[0,0])=>0===e.length?{x:0,y:0,width:0,height:0}:ix(e.reduce((e,n)=>{let{x:r,y:i}=i2(n,t).positionAbsolute;return iw(e,i_({x:r,y:i,width:n.width||0,height:n.height||0}))},{x:1/0,y:1/0,x2:-1/0,y2:-1/0})),i4=(e,t,[n,r,i]=[0,0,1],o=!1,a=!1,s=[0,0])=>{let l={x:(t.x-n)/i,y:(t.y-r)/i,width:t.width/i,height:t.height/i},u=[];return e.forEach(e=>{let{width:t,height:n,selectable:r=!0,hidden:i=!1}=e;if(a&&!r||i)return!1;let{positionAbsolute:c}=i2(e,s),d=iE(l,{x:c.x,y:c.y,width:t||0,height:n||0}),h=void 0===t||void 0===n||null===t||null===n,f=(t||0)*(n||0);(h||o&&d>0||d>=f||e.dragging)&&u.push(e)}),u},i6=(e,t)=>{let n=e.map(e=>e.id);return t.filter(e=>n.includes(e.source)||n.includes(e.target))},i8=(e,t,n,r,i,o=.1)=>{let a=iy(Math.min(t/(e.width*(1+o)),n/(e.height*(1+o))),r,i);return{x:t/2-(e.x+e.width/2)*a,y:n/2-(e.y+e.height/2)*a,zoom:a}},i5=(e,t=0)=>e.transition().duration(t);function i9(e,t,n,r){return(t[n]||[]).reduce((t,i)=>(`${e.id}-${i.id}-${n}`!==r&&t.push({id:i.id||null,type:n,nodeId:e.id,x:(e.positionAbsolute?.x??0)+i.x+i.width/2,y:(e.positionAbsolute?.y??0)+i.y+i.height/2}),t),[])}let i7={source:null,target:null,sourceHandle:null,targetHandle:null},oe=()=>({handleDomNode:null,isValid:!1,connection:i7,endHandle:null});function ot(e,t,n,r,i,o,a){let s="target"===i,l=a.querySelector(`.react-flow__handle[data-id="${e?.nodeId}-${e?.id}-${e?.type}"]`),u={...oe(),handleDomNode:l};if(l){let e=on(void 0,l),i=l.getAttribute("data-nodeid"),a=l.getAttribute("data-handleid"),c=l.classList.contains("connectable"),d=l.classList.contains("connectableend"),h={source:s?i:n,sourceHandle:s?a:r,target:s?n:i,targetHandle:s?r:a};u.connection=h,c&&d&&(t===eh.Strict?s&&"source"===e||!s&&"target"===e:i!==n||a!==r)&&(u.endHandle={nodeId:i,handleId:a,type:e},u.isValid=o(h))}return u}function on(e,t){return e?e:t?.classList.contains("target")?"target":t?.classList.contains("source")?"source":null}function or(e){e?.classList.remove("valid","connecting","react-flow__handle-valid","react-flow__handle-connecting")}function oi({event:e,handleId:t,nodeId:n,onConnect:r,isTarget:i,getState:o,setState:a,isValidConnection:s,edgeUpdaterType:l,onReconnectEnd:u}){let c,d,h=iv(e.target),{connectionMode:f,domNode:p,autoPanOnConnect:y,connectionRadius:g,onConnectStart:m,panBy:b,getNodes:v,cancelConnection:w}=o(),_=0,{x:x,y:S}=iT(e),E=on(l,h?.elementFromPoint(x,S)),C=p?.getBoundingClientRect();if(!C||!E)return;let k=iT(e,C),I=!1,M=null,N=!1,T=null,A=function({nodes:e,nodeId:t,handleId:n,handleType:r}){return e.reduce((e,i)=>{if(i[ik]){let{handleBounds:o}=i[ik],a=[],s=[];o&&(a=i9(i,o,"source",`${t}-${n}-${r}`),s=i9(i,o,"target",`${t}-${n}-${r}`)),e.push(...a,...s)}return e},[])}({nodes:v(),nodeId:n,handleId:t,handleType:E}),O=()=>{if(!y)return;let[e,t]=ib(k,C);b({x:e,y:t}),_=requestAnimationFrame(O)};function D(e){var r,l;let u,{transform:p}=o();k=iT(e,C);let{handle:y,validHandleResult:m}=function(e,t,n,r,i,o){let{x:a,y:s}=iT(e),l=t.elementsFromPoint(a,s).find(e=>e.classList.contains("react-flow__handle"));if(l){let e=l.getAttribute("data-nodeid");if(e){let t=on(void 0,l),r=l.getAttribute("data-handleid"),a=o({nodeId:e,id:r,type:t});if(a){let o=i.find(n=>n.nodeId===e&&n.type===t&&n.id===r);return{handle:{id:r,type:t,nodeId:e,x:o?.x||n.x,y:o?.y||n.y},validHandleResult:a}}}}let u=[],c=1/0;if(i.forEach(e=>{let t=Math.sqrt((e.x-n.x)**2+(e.y-n.y)**2);if(t<=r){let n=o(e);t<=c&&(t<c?u=[{handle:e,validHandleResult:n}]:t===c&&u.push({handle:e,validHandleResult:n}),c=t)}}),!u.length)return{handle:null,validHandleResult:oe()};if(1===u.length)return u[0];let d=u.some(({validHandleResult:e})=>e.isValid),h=u.some(({handle:e})=>"target"===e.type);return u.find(({handle:e,validHandleResult:t})=>h?"target"===e.type:!d||t.isValid)||u[0]}(e,h,i0(k,p,!1,[1,1]),g,A,e=>ot(e,f,n,t,i?"target":"source",s,h));if(c=y,I||(O(),I=!0),T=m.handleDomNode,M=m.connection,N=m.isValid,a({connectionPosition:c&&N?i1({x:c.x,y:c.y},p):k,connectionStatus:(r=!!c,u=null,(l=N)?u="valid":r&&!l&&(u="invalid"),u),connectionEndHandle:m.endHandle}),!c&&!N&&!T)return or(d);M.source!==M.target&&T&&(or(d),d=T,T.classList.add("connecting","react-flow__handle-connecting"),T.classList.toggle("valid",N),T.classList.toggle("react-flow__handle-valid",N))}function B(e){(c||T)&&M&&N&&r?.(M),o().onConnectEnd?.(e),l&&u?.(e),or(d),w(),cancelAnimationFrame(_),I=!1,N=!1,M=null,T=null,h.removeEventListener("mousemove",D),h.removeEventListener("mouseup",B),h.removeEventListener("touchmove",D),h.removeEventListener("touchend",B)}a({connectionPosition:k,connectionStatus:null,connectionNodeId:n,connectionHandleId:t,connectionHandleType:E,connectionStartHandle:{nodeId:n,handleId:t,type:E},connectionEndHandle:null}),m?.(e,{nodeId:n,handleId:t,handleType:E}),h.addEventListener("mousemove",D),h.addEventListener("mouseup",B),h.addEventListener("touchmove",D),h.addEventListener("touchend",B)}let oo=()=>!0,oa=e=>({connectionStartHandle:e.connectionStartHandle,connectOnClick:e.connectOnClick,noPanClassName:e.noPanClassName}),os=(0,eG.forwardRef)(({type:e="source",position:t=em.Top,isValidConnection:n,isConnectable:r=!0,isConnectableStart:i=!0,isConnectableEnd:o=!0,id:a,onConnect:s,children:l,className:c,onMouseDown:d,onTouchStart:h,...f},p)=>{let y=a||null,g="target"===e,m=il(),b=(0,eG.useContext)(iG),{connectOnClick:v,noPanClassName:w}=is(oa,t7.shallow),{connecting:_,clickConnecting:x}=is(t=>{let{connectionStartHandle:n,connectionEndHandle:r,connectionClickStartHandle:i}=t;return{connecting:n?.nodeId===b&&n?.handleId===y&&n?.type===e||r?.nodeId===b&&r?.handleId===y&&r?.type===e,clickConnecting:i?.nodeId===b&&i?.handleId===y&&i?.type===e}},t7.shallow);b||m.getState().onError?.("010","Handle: No node id found. Make sure to only use a Handle inside a custom Node.");let S=e=>{let{defaultEdgeOptions:t,onConnect:n,hasDefaultEdges:r}=m.getState(),i={...t,...e};if(r){let{edges:e,setEdges:t}=m.getState();t(iJ(i,e))}n?.(i),s?.(i)},E=e=>{if(!b)return;let t="clientX"in e;i&&(t&&0===e.button||!t)&&oi({event:e,handleId:y,nodeId:b,onConnect:S,isTarget:g,getState:m.getState,setState:m.setState,isValidConnection:n||m.getState().isValidConnection||oo}),t?d?.(e):h?.(e)};return u(eG).createElement("div",{"data-handleid":y,"data-nodeid":b,"data-handlepos":t,"data-id":`${b}-${y}-${e}`,className:tQ(["react-flow__handle",`react-flow__handle-${t}`,"nodrag",w,c,{source:!g,target:g,connectable:r,connectablestart:i,connectableend:o,connecting:x,connectionindicator:r&&(i&&!_||o&&_)}]),onMouseDown:E,onTouchStart:E,onClick:v?t=>{let{onClickConnectStart:r,onClickConnectEnd:o,connectionClickStartHandle:a,connectionMode:s,isValidConnection:l}=m.getState();if(!b||!a&&!i)return;if(!a){r?.(t,{nodeId:b,handleId:y,handleType:e}),m.setState({connectionClickStartHandle:{nodeId:b,type:e,handleId:y}});return}let u=iv(t.target),c=n||l||oo,{connection:d,isValid:h}=ot({nodeId:b,id:y,type:e},s,a.nodeId,a.handleId||null,a.type,c,u);h&&S(d),o?.(t),m.setState({connectionClickStartHandle:null})}:void 0,ref:p,...f},l)});os.displayName="Handle";var ol=(0,eG.memo)(os);let ou=({data:e,isConnectable:t,targetPosition:n=em.Top,sourcePosition:r=em.Bottom})=>u(eG).createElement(u(eG).Fragment,null,u(eG).createElement(ol,{type:"target",position:n,isConnectable:t}),e?.label,u(eG).createElement(ol,{type:"source",position:r,isConnectable:t}));ou.displayName="DefaultNode";var oc=(0,eG.memo)(ou);let od=({data:e,isConnectable:t,sourcePosition:n=em.Bottom})=>u(eG).createElement(u(eG).Fragment,null,e?.label,u(eG).createElement(ol,{type:"source",position:n,isConnectable:t}));od.displayName="InputNode";var oh=(0,eG.memo)(od);let of=({data:e,isConnectable:t,targetPosition:n=em.Top})=>u(eG).createElement(u(eG).Fragment,null,u(eG).createElement(ol,{type:"target",position:n,isConnectable:t}),e?.label);of.displayName="OutputNode";var op=(0,eG.memo)(of);let oy=()=>null;oy.displayName="GroupNode";let og=e=>({selectedNodes:e.getNodes().filter(e=>e.selected),selectedEdges:e.edges.filter(e=>e.selected).map(e=>({...e}))}),om=e=>e.id;function ob(e,t){return(0,t7.shallow)(e.selectedNodes.map(om),t.selectedNodes.map(om))&&(0,t7.shallow)(e.selectedEdges.map(om),t.selectedEdges.map(om))}let ov=(0,eG.memo)(({onSelectionChange:e})=>{let t=il(),{selectedNodes:n,selectedEdges:r}=is(og,ob);return(0,eG.useEffect)(()=>{let i={nodes:n,edges:r};e?.(i),t.getState().onSelectionChange.forEach(e=>e(i))},[n,r,e]),null});ov.displayName="SelectionListener";let ow=e=>!!e.onSelectionChange;function o_({onSelectionChange:e}){let t=is(ow);return e||t?u(eG).createElement(ov,{onSelectionChange:e}):null}let ox=e=>({setNodes:e.setNodes,setEdges:e.setEdges,setDefaultNodesAndEdges:e.setDefaultNodesAndEdges,setMinZoom:e.setMinZoom,setMaxZoom:e.setMaxZoom,setTranslateExtent:e.setTranslateExtent,setNodeExtent:e.setNodeExtent,reset:e.reset});function oS(e,t){(0,eG.useEffect)(()=>{void 0!==e&&t(e)},[e])}function oE(e,t,n){(0,eG.useEffect)(()=>{void 0!==t&&n({[e]:t})},[t])}let oC=({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,onConnect:i,onConnectStart:o,onConnectEnd:a,onClickConnectStart:s,onClickConnectEnd:l,nodesDraggable:u,nodesConnectable:c,nodesFocusable:d,edgesFocusable:h,edgesUpdatable:f,elevateNodesOnSelect:p,minZoom:y,maxZoom:g,nodeExtent:m,onNodesChange:b,onEdgesChange:v,elementsSelectable:w,connectionMode:_,snapGrid:x,snapToGrid:S,translateExtent:E,connectOnClick:C,defaultEdgeOptions:k,fitView:I,fitViewOptions:M,onNodesDelete:N,onEdgesDelete:T,onNodeDrag:A,onNodeDragStart:O,onNodeDragStop:D,onSelectionDrag:B,onSelectionDragStart:P,onSelectionDragStop:L,noPanClassName:R,nodeOrigin:z,rfId:F,autoPanOnConnect:U,autoPanOnNodeDrag:V,onError:$,connectionRadius:j,isValidConnection:H,nodeDragThreshold:W})=>{let{setNodes:Y,setEdges:X,setDefaultNodesAndEdges:q,setMinZoom:K,setMaxZoom:G,setTranslateExtent:Z,setNodeExtent:Q,reset:J}=is(ox,t7.shallow),ee=il();return(0,eG.useEffect)(()=>(q(n,r?.map(e=>({...e,...k}))),()=>{J()}),[]),oE("defaultEdgeOptions",k,ee.setState),oE("connectionMode",_,ee.setState),oE("onConnect",i,ee.setState),oE("onConnectStart",o,ee.setState),oE("onConnectEnd",a,ee.setState),oE("onClickConnectStart",s,ee.setState),oE("onClickConnectEnd",l,ee.setState),oE("nodesDraggable",u,ee.setState),oE("nodesConnectable",c,ee.setState),oE("nodesFocusable",d,ee.setState),oE("edgesFocusable",h,ee.setState),oE("edgesUpdatable",f,ee.setState),oE("elementsSelectable",w,ee.setState),oE("elevateNodesOnSelect",p,ee.setState),oE("snapToGrid",S,ee.setState),oE("snapGrid",x,ee.setState),oE("onNodesChange",b,ee.setState),oE("onEdgesChange",v,ee.setState),oE("connectOnClick",C,ee.setState),oE("fitViewOnInit",I,ee.setState),oE("fitViewOnInitOptions",M,ee.setState),oE("onNodesDelete",N,ee.setState),oE("onEdgesDelete",T,ee.setState),oE("onNodeDrag",A,ee.setState),oE("onNodeDragStart",O,ee.setState),oE("onNodeDragStop",D,ee.setState),oE("onSelectionDrag",B,ee.setState),oE("onSelectionDragStart",P,ee.setState),oE("onSelectionDragStop",L,ee.setState),oE("noPanClassName",R,ee.setState),oE("nodeOrigin",z,ee.setState),oE("rfId",F,ee.setState),oE("autoPanOnConnect",U,ee.setState),oE("autoPanOnNodeDrag",V,ee.setState),oE("onError",$,ee.setState),oE("connectionRadius",j,ee.setState),oE("isValidConnection",H,ee.setState),oE("nodeDragThreshold",W,ee.setState),oS(e,Y),oS(t,X),oS(y,K),oS(g,G),oS(E,Z),oS(m,Q),null},ok={display:"none"},oI={position:"absolute",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)",clipPath:"inset(100%)"},oM="react-flow__node-desc",oN="react-flow__edge-desc",oT=e=>e.ariaLiveMessage;function oA({rfId:e}){let t=is(oT);return u(eG).createElement("div",{id:`react-flow__aria-live-${e}`,"aria-live":"assertive","aria-atomic":"true",style:oI},t)}function oO({rfId:e,disableKeyboardA11y:t}){return u(eG).createElement(u(eG).Fragment,null,u(eG).createElement("div",{id:`${oM}-${e}`,style:ok},"Press enter or space to select a node.",!t&&"You can then use the arrow keys to move the node around."," Press delete to remove it and escape to cancel."," "),u(eG).createElement("div",{id:`${oN}-${e}`,style:ok},"Press enter or space to select an edge. You can then press delete to remove it or escape to cancel."),!t&&u(eG).createElement(oA,{rfId:e}))}var oD=(e=null,t={actInsideInputWithModifier:!0})=>{let[n,r]=(0,eG.useState)(!1),i=(0,eG.useRef)(!1),o=(0,eG.useRef)(new Set([])),[a,s]=(0,eG.useMemo)(()=>{if(null!==e){let t=(Array.isArray(e)?e:[e]).filter(e=>"string"==typeof e).map(e=>e.split("+")),n=t.reduce((e,t)=>e.concat(...t),[]);return[t,n]}return[[],[]]},[e]);return(0,eG.useEffect)(()=>{let n="undefined"!=typeof document?document:null,l=t?.target||n;if(null!==e){let e=e=>{if(i.current=e.ctrlKey||e.metaKey||e.shiftKey,(!i.current||i.current&&!t.actInsideInputWithModifier)&&iN(e))return!1;let n=oP(e.code,s);o.current.add(e[n]),oB(a,o.current,!1)&&(e.preventDefault(),r(!0))},n=e=>{if((!i.current||i.current&&!t.actInsideInputWithModifier)&&iN(e))return!1;let n=oP(e.code,s);oB(a,o.current,!0)?(r(!1),o.current.clear()):o.current.delete(e[n]),"Meta"===e.key&&o.current.clear(),i.current=!1},u=()=>{o.current.clear(),r(!1)};return l?.addEventListener("keydown",e),l?.addEventListener("keyup",n),window.addEventListener("blur",u),()=>{l?.removeEventListener("keydown",e),l?.removeEventListener("keyup",n),window.removeEventListener("blur",u)}}},[e,r]),n};function oB(e,t,n){return e.filter(e=>n||e.length===t.size).some(e=>e.every(e=>t.has(e)))}function oP(e,t){return t.includes(e)?"code":"key"}function oL(e,t,n){e.forEach(r=>{let i=r.parentNode||r.parentId;if(i&&!e.has(i))throw Error(`Parent node ${i} not found`);if(i||n?.[r.id]){let{x:i,y:o,z:a}=function e(t,n,r,i){let o=t.parentNode||t.parentId;if(!o)return r;let a=n.get(o),s=i2(a,i);return e(a,n,{x:(r.x??0)+s.x,y:(r.y??0)+s.y,z:(a[ik]?.z??0)>(r.z??0)?a[ik]?.z??0:r.z??0},i)}(r,e,{...r.position,z:r[ik]?.z??0},t);r.positionAbsolute={x:i,y:o},r[ik].z=a,n?.[r.id]&&(r[ik].isParent=!0)}})}function oR(e,t,n,r){let i=new Map,o={},a=1e3*!!r;return e.forEach(e=>{let n=(iC(e.zIndex)?e.zIndex:0)+(e.selected?a:0),r=t.get(e.id),s={...e,positionAbsolute:{x:e.position.x,y:e.position.y}},l=e.parentNode||e.parentId;l&&(o[l]=!0),Object.defineProperty(s,ik,{enumerable:!1,value:{handleBounds:r?.type&&r?.type!==e.type?void 0:r?.[ik]?.handleBounds,z:n}}),i.set(e.id,s)}),oL(i,n,o),i}function oz(e,t={}){let{getNodes:n,width:r,height:i,minZoom:o,maxZoom:a,d3Zoom:s,d3Selection:l,fitViewOnInitDone:u,fitViewOnInit:c,nodeOrigin:d}=e(),h=t.initial&&!u&&c;if(s&&l&&(h||!t.initial)){let e=n().filter(e=>{let n=t.includeHiddenNodes?e.width&&e.height:!e.hidden;return t.nodes?.length?n&&t.nodes.some(t=>t.id===e.id):n}),u=e.every(e=>e.width&&e.height);if(e.length>0&&u){let{x:n,y:u,zoom:c}=i8(i3(e,d),r,i,t.minZoom??o,t.maxZoom??a,t.padding??.1),h=rZ.translate(n,u).scale(c);return"number"==typeof t.duration&&t.duration>0?s.transform(i5(l,t.duration),h):s.transform(l,h),!0}}return!1}function oF({changedNodes:e,changedEdges:t,get:n,set:r}){let{nodeInternals:i,edges:o,onNodesChange:a,onEdgesChange:s,hasDefaultNodes:l,hasDefaultEdges:u}=n();e?.length&&(l&&r({nodeInternals:(e.forEach(e=>{let t=i.get(e.id);t&&i.set(t.id,{...t,[ik]:t[ik],selected:e.selected})}),new Map(i))}),a?.(e)),t?.length&&(u&&r({edges:o.map(e=>{let n=t.find(t=>t.id===e.id);return n&&(e.selected=n.selected),e})}),s?.(t))}let oU=()=>{},oV={zoomIn:oU,zoomOut:oU,zoomTo:oU,getZoom:()=>1,setViewport:oU,getViewport:()=>({x:0,y:0,zoom:1}),fitView:()=>!1,setCenter:oU,fitBounds:oU,project:e=>e,screenToFlowPosition:e=>e,flowToScreenPosition:e=>e,viewportInitialized:!1},o$=e=>({d3Zoom:e.d3Zoom,d3Selection:e.d3Selection});function oj(){let e=(()=>{let e=il(),{d3Zoom:t,d3Selection:n}=is(o$,t7.shallow);return(0,eG.useMemo)(()=>n&&t?{zoomIn:e=>t.scaleBy(i5(n,e?.duration),1.2),zoomOut:e=>t.scaleBy(i5(n,e?.duration),1/1.2),zoomTo:(e,r)=>t.scaleTo(i5(n,r?.duration),e),getZoom:()=>e.getState().transform[2],setViewport:(r,i)=>{let[o,a,s]=e.getState().transform,l=rZ.translate(r.x??o,r.y??a).scale(r.zoom??s);t.transform(i5(n,i?.duration),l)},getViewport:()=>{let[t,n,r]=e.getState().transform;return{x:t,y:n,zoom:r}},fitView:t=>oz(e.getState,t),setCenter:(r,i,o)=>{let{width:a,height:s,maxZoom:l}=e.getState(),u=void 0!==o?.zoom?o.zoom:l,c=a/2-r*u,d=s/2-i*u,h=rZ.translate(c,d).scale(u);t.transform(i5(n,o?.duration),h)},fitBounds:(r,i)=>{let{width:o,height:a,minZoom:s,maxZoom:l}=e.getState(),{x:u,y:c,zoom:d}=i8(r,o,a,s,l,i?.padding??.1),h=rZ.translate(u,c).scale(d);t.transform(i5(n,i?.duration),h)},project:t=>{let{transform:n,snapToGrid:r,snapGrid:i}=e.getState();return console.warn("[DEPRECATED] `project` is deprecated. Instead use `screenToFlowPosition`. There is no need to subtract the react flow bounds anymore! https://reactflow.dev/api-reference/types/react-flow-instance#screen-to-flow-position"),i0(t,n,r,i)},screenToFlowPosition:t=>{let{transform:n,snapToGrid:r,snapGrid:i,domNode:o}=e.getState();if(!o)return t;let{x:a,y:s}=o.getBoundingClientRect();return i0({x:t.x-a,y:t.y-s},n,r,i)},flowToScreenPosition:t=>{let{transform:n,domNode:r}=e.getState();if(!r)return t;let{x:i,y:o}=r.getBoundingClientRect(),a=i1(t,n);return{x:a.x+i,y:a.y+o}},viewportInitialized:!0}:oV,[t,n])})(),t=il(),n=(0,eG.useCallback)(()=>t.getState().getNodes().map(e=>({...e})),[]),r=(0,eG.useCallback)(e=>t.getState().nodeInternals.get(e),[]),i=(0,eG.useCallback)(()=>{let{edges:e=[]}=t.getState();return e.map(e=>({...e}))},[]),o=(0,eG.useCallback)(e=>{let{edges:n=[]}=t.getState();return n.find(t=>t.id===e)},[]),a=(0,eG.useCallback)(e=>{let{getNodes:n,setNodes:r,hasDefaultNodes:i,onNodesChange:o}=t.getState(),a=n(),s="function"==typeof e?e(a):e;i?r(s):o&&o(0===s.length?a.map(e=>({type:"remove",id:e.id})):s.map(e=>({item:e,type:"reset"})))},[]),s=(0,eG.useCallback)(e=>{let{edges:n=[],setEdges:r,hasDefaultEdges:i,onEdgesChange:o}=t.getState(),a="function"==typeof e?e(n):e;i?r(a):o&&o(0===a.length?n.map(e=>({type:"remove",id:e.id})):a.map(e=>({item:e,type:"reset"})))},[]),l=(0,eG.useCallback)(e=>{let n=Array.isArray(e)?e:[e],{getNodes:r,setNodes:i,hasDefaultNodes:o,onNodesChange:a}=t.getState();o?i([...r(),...n]):a&&a(n.map(e=>({item:e,type:"add"})))},[]),u=(0,eG.useCallback)(e=>{let n=Array.isArray(e)?e:[e],{edges:r=[],setEdges:i,hasDefaultEdges:o,onEdgesChange:a}=t.getState();o?i([...r,...n]):a&&a(n.map(e=>({item:e,type:"add"})))},[]),c=(0,eG.useCallback)(()=>{let{getNodes:e,edges:n=[],transform:r}=t.getState(),[i,o,a]=r;return{nodes:e().map(e=>({...e})),edges:n.map(e=>({...e})),viewport:{x:i,y:o,zoom:a}}},[]),d=(0,eG.useCallback)(({nodes:e,edges:n})=>{let{nodeInternals:r,getNodes:i,edges:o,hasDefaultNodes:a,hasDefaultEdges:s,onNodesDelete:l,onEdgesDelete:u,onNodesChange:c,onEdgesChange:d}=t.getState(),h=(e||[]).map(e=>e.id),f=(n||[]).map(e=>e.id),p=i().reduce((e,t)=>{let n=t.parentNode||t.parentId,r=!h.includes(t.id)&&n&&e.find(e=>e.id===n);return("boolean"!=typeof t.deletable||t.deletable)&&(h.includes(t.id)||r)&&e.push(t),e},[]),y=o.filter(e=>"boolean"!=typeof e.deletable||e.deletable),g=y.filter(e=>f.includes(e.id));if(p||g){let e=[...g,...i6(p,y)],n=e.reduce((e,t)=>(e.includes(t.id)||e.push(t.id),e),[]);(s||a)&&(s&&t.setState({edges:o.filter(e=>!n.includes(e.id))}),a&&(p.forEach(e=>{r.delete(e.id)}),t.setState({nodeInternals:new Map(r)}))),n.length>0&&(u?.(e),d&&d(n.map(e=>({id:e,type:"remove"})))),p.length>0&&(l?.(p),c&&c(p.map(e=>({id:e.id,type:"remove"}))))}},[]),h=(0,eG.useCallback)(e=>{let n=iC(e.width)&&iC(e.height)&&iC(e.x)&&iC(e.y),r=n?null:t.getState().nodeInternals.get(e.id);return n||r?[n?e:iS(r),r,n]:[null,null,n]},[]),f=(0,eG.useCallback)((e,n=!0,r)=>{let[i,o,a]=h(e);return i?(r||t.getState().getNodes()).filter(e=>{if(!a&&(e.id===o.id||!e.positionAbsolute))return!1;let t=iE(iS(e),i);return n&&t>0||t>=i.width*i.height}):[]},[]),p=(0,eG.useCallback)((e,t,n=!0)=>{let[r]=h(e);if(!r)return!1;let i=iE(r,t);return n&&i>0||i>=r.width*r.height},[]);return(0,eG.useMemo)(()=>({...e,getNodes:n,getNode:r,getEdges:i,getEdge:o,setNodes:a,setEdges:s,addNodes:l,addEdges:u,toObject:c,deleteElements:d,getIntersectingNodes:f,isNodeIntersecting:p}),[e,n,r,i,o,a,s,l,u,c,d,f,p])}let oH={actInsideInputWithModifier:!1},oW={position:"absolute",width:"100%",height:"100%",top:0,left:0},oY=e=>({x:e.x,y:e.y,zoom:e.k}),oX=(e,t)=>e.target.closest(`.${t}`),oq=(e,t)=>2===t&&Array.isArray(e)&&e.includes(2),oK=e=>{let t=e.ctrlKey&&iA()?10:1;return-e.deltaY*(1===e.deltaMode?.05:e.deltaMode?1:.002)*t},oG=e=>({d3Zoom:e.d3Zoom,d3Selection:e.d3Selection,d3ZoomHandler:e.d3ZoomHandler,userSelectionActive:e.userSelectionActive}),oZ=({onMove:e,onMoveStart:t,onMoveEnd:n,onPaneContextMenu:r,zoomOnScroll:i=!0,zoomOnPinch:o=!0,panOnScroll:a=!1,panOnScrollSpeed:s=.5,panOnScrollMode:l=ef.Free,zoomOnDoubleClick:c=!0,elementsSelectable:d,panOnDrag:h=!0,defaultViewport:f,translateExtent:p,minZoom:y,maxZoom:g,zoomActivationKeyCode:m,preventScrolling:b=!0,children:v,noWheelClassName:w,noPanClassName:_})=>{let x,S=(0,eG.useRef)(),E=il(),C=(0,eG.useRef)(!1),k=(0,eG.useRef)(!1),I=(0,eG.useRef)(null),M=(0,eG.useRef)({x:0,y:0,zoom:0}),{d3Zoom:N,d3Selection:T,d3ZoomHandler:A,userSelectionActive:O}=is(oG,t7.shallow),D=oD(m),B=(0,eG.useRef)(0),P=(0,eG.useRef)(!1),L=(0,eG.useRef)();return x=il(),(0,eG.useEffect)(()=>{let e,t=()=>{if(!I.current)return;let e=ip(I.current);(0===e.height||0===e.width)&&x.getState().onError?.("004","The React Flow parent container needs a width and a height to render the graph."),x.setState({width:e.width||500,height:e.height||500})};return t(),window.addEventListener("resize",t),I.current&&(e=new ResizeObserver(()=>t())).observe(I.current),()=>{window.removeEventListener("resize",t),e&&I.current&&e.unobserve(I.current)}},[]),(0,eG.useEffect)(()=>{if(I.current){let e=I.current.getBoundingClientRect(),t=r8().scaleExtent([y,g]).translateExtent(p),n=nK(I.current).call(t),r=rZ.translate(f.x,f.y).scale(iy(f.zoom,y,g)),i=[[0,0],[e.width,e.height]],o=t.constrain()(r,i,p);t.transform(n,o),t.wheelDelta(oK),E.setState({d3Zoom:t,d3Selection:n,d3ZoomHandler:n.on("wheel.zoom"),transform:[o.x,o.y,o.k],domNode:I.current.closest(".react-flow")})}},[]),(0,eG.useEffect)(()=>{T&&N&&(!a||D||O?void 0!==A&&T.on("wheel.zoom",function(e,t){if(!b&&"wheel"===e.type&&!e.ctrlKey||oX(e,w))return null;e.preventDefault(),A.call(this,e,t)},{passive:!1}):T.on("wheel.zoom",r=>{if(oX(r,w))return!1;r.preventDefault(),r.stopImmediatePropagation();let i=T.property("__zoom").k||1;if(r.ctrlKey&&o){let e=n4(r),t=i*Math.pow(2,oK(r));N.scaleTo(T,t,e,r);return}let a=1===r.deltaMode?20:1,u=l===ef.Vertical?0:r.deltaX*a,c=l===ef.Horizontal?0:r.deltaY*a;!iA()&&r.shiftKey&&l!==ef.Vertical&&(u=r.deltaY*a,c=0),N.translateBy(T,-(u/i)*s,-(c/i)*s,{internal:!0});let d=oY(T.property("__zoom")),{onViewportChangeStart:h,onViewportChange:f,onViewportChangeEnd:p}=E.getState();clearTimeout(L.current),P.current||(P.current=!0,t?.(r,d),h?.(d)),P.current&&(e?.(r,d),f?.(d),L.current=setTimeout(()=>{n?.(r,d),p?.(d),P.current=!1},150))},{passive:!1}))},[O,a,l,T,N,A,D,o,b,w,t,e,n]),(0,eG.useEffect)(()=>{N&&N.on("start",e=>{if(!e.sourceEvent||e.sourceEvent.internal)return null;B.current=e.sourceEvent?.button;let{onViewportChangeStart:n}=E.getState(),r=oY(e.transform);C.current=!0,M.current=r,e.sourceEvent?.type==="mousedown"&&E.setState({paneDragging:!0}),n?.(r),t?.(e.sourceEvent,r)})},[N,t]),(0,eG.useEffect)(()=>{N&&(O&&!C.current?N.on("zoom",null):O||N.on("zoom",t=>{let{onViewportChange:n}=E.getState();if(E.setState({transform:[t.transform.x,t.transform.y,t.transform.k]}),k.current=!!(r&&oq(h,B.current??0)),(e||n)&&!t.sourceEvent?.internal){let r=oY(t.transform);n?.(r),e?.(t.sourceEvent,r)}}))},[O,N,e,h,r]),(0,eG.useEffect)(()=>{N&&N.on("end",e=>{let t,i;if(!e.sourceEvent||e.sourceEvent.internal)return null;let{onViewportChangeEnd:o}=E.getState();if(C.current=!1,E.setState({paneDragging:!1}),r&&oq(h,B.current??0)&&!k.current&&r(e.sourceEvent),k.current=!1,(n||o)&&(t=M.current,i=e.transform,t.x!==i.x||t.y!==i.y||t.zoom!==i.k)){let t=oY(e.transform);M.current=t,clearTimeout(S.current),S.current=setTimeout(()=>{o?.(t),n?.(e.sourceEvent,t)},150*!!a)}})},[N,a,h,n,r]),(0,eG.useEffect)(()=>{N&&N.filter(e=>{let t=D||i,n=o&&e.ctrlKey;if((!0===h||Array.isArray(h)&&h.includes(1))&&1===e.button&&"mousedown"===e.type&&(oX(e,"react-flow__node")||oX(e,"react-flow__edge")))return!0;if(!h&&!t&&!a&&!c&&!o||O||!c&&"dblclick"===e.type||oX(e,w)&&"wheel"===e.type||oX(e,_)&&("wheel"!==e.type||a&&"wheel"===e.type&&!D)||!o&&e.ctrlKey&&"wheel"===e.type||!t&&!a&&!n&&"wheel"===e.type||!h&&("mousedown"===e.type||"touchstart"===e.type)||Array.isArray(h)&&!h.includes(e.button)&&"mousedown"===e.type)return!1;let r=Array.isArray(h)&&h.includes(e.button)||!e.button||e.button<=1;return(!e.ctrlKey||"wheel"===e.type)&&r})},[O,N,i,o,a,c,h,d,D]),u(eG).createElement("div",{className:"react-flow__renderer",ref:I,style:oW},v)},oQ=e=>({userSelectionActive:e.userSelectionActive,userSelectionRect:e.userSelectionRect});function oJ(){let{userSelectionActive:e,userSelectionRect:t}=is(oQ,t7.shallow);return e&&t?u(eG).createElement("div",{className:"react-flow__selection react-flow__container",style:{width:t.width,height:t.height,transform:`translate(${t.x}px, ${t.y}px)`}}):null}function o0(e,t){let n=t.parentNode||t.parentId,r=e.find(e=>e.id===n);if(r){let e=t.position.x+t.width-r.width,n=t.position.y+t.height-r.height;if(e>0||n>0||t.position.x<0||t.position.y<0){if(r.style={...r.style},r.style.width=r.style.width??r.width,r.style.height=r.style.height??r.height,e>0&&(r.style.width+=e),n>0&&(r.style.height+=n),t.position.x<0){let e=Math.abs(t.position.x);r.position.x=r.position.x-e,r.style.width+=e,t.position.x=0}if(t.position.y<0){let e=Math.abs(t.position.y);r.position.y=r.position.y-e,r.style.height+=e,t.position.y=0}r.width=r.style.width,r.height=r.style.height}}}function o1(e,t){if(e.some(e=>"reset"===e.type))return e.filter(e=>"reset"===e.type).map(e=>e.item);let n=e.filter(e=>"add"===e.type).map(e=>e.item);return t.reduce((t,n)=>{let r=e.filter(e=>e.id===n.id);if(0===r.length)return t.push(n),t;let i={...n};for(let e of r)if(e)switch(e.type){case"select":i.selected=e.selected;break;case"position":void 0!==e.position&&(i.position=e.position),void 0!==e.positionAbsolute&&(i.positionAbsolute=e.positionAbsolute),void 0!==e.dragging&&(i.dragging=e.dragging),i.expandParent&&o0(t,i);break;case"dimensions":void 0!==e.dimensions&&(i.width=e.dimensions.width,i.height=e.dimensions.height),void 0!==e.updateStyle&&(i.style={...i.style||{},...e.dimensions}),"boolean"==typeof e.resizing&&(i.resizing=e.resizing),i.expandParent&&o0(t,i);break;case"remove":return t}return t.push(i),t},n)}function o2(e,t){return o1(e,t)}function o3(e,t){return o1(e,t)}let o4=(e,t)=>({id:e,type:"select",selected:t});function o6(e,t){return e.reduce((e,n)=>{let r=t.includes(n.id);return!n.selected&&r?(n.selected=!0,e.push(o4(n.id,!0))):n.selected&&!r&&(n.selected=!1,e.push(o4(n.id,!1))),e},[])}let o8=(e,t)=>n=>{n.target===t.current&&e?.(n)},o5=e=>({userSelectionActive:e.userSelectionActive,elementsSelectable:e.elementsSelectable,dragging:e.paneDragging}),o9=(0,eG.memo)(({isSelecting:e,selectionMode:t=ep.Full,panOnDrag:n,onSelectionStart:r,onSelectionEnd:i,onPaneClick:o,onPaneContextMenu:a,onPaneScroll:s,onPaneMouseEnter:l,onPaneMouseMove:c,onPaneMouseLeave:d,children:h})=>{let f=(0,eG.useRef)(null),p=il(),y=(0,eG.useRef)(0),g=(0,eG.useRef)(0),m=(0,eG.useRef)(),{userSelectionActive:b,elementsSelectable:v,dragging:w}=is(o5,t7.shallow),_=()=>{p.setState({userSelectionActive:!1,userSelectionRect:null}),y.current=0,g.current=0},x=e=>{o?.(e),p.getState().resetSelectedElements(),p.setState({nodesSelectionActive:!1})},S=v&&(e||b);return u(eG).createElement("div",{className:tQ(["react-flow__pane",{dragging:w,selection:e}]),onClick:S?void 0:o8(x,f),onContextMenu:o8(e=>{Array.isArray(n)&&n?.includes(2)?e.preventDefault():a?.(e)},f),onWheel:o8(s?e=>s(e):void 0,f),onMouseEnter:S?void 0:l,onMouseDown:S?t=>{let{resetSelectedElements:n,domNode:i}=p.getState();if(m.current=i?.getBoundingClientRect(),!v||!e||0!==t.button||t.target!==f.current||!m.current)return;let{x:o,y:a}=iT(t,m.current);n(),p.setState({userSelectionRect:{width:0,height:0,startX:o,startY:a,x:o,y:a}}),r?.(t)}:void 0,onMouseMove:S?n=>{let{userSelectionRect:r,nodeInternals:i,edges:o,transform:a,onNodesChange:s,onEdgesChange:l,nodeOrigin:u,getNodes:c}=p.getState();if(!e||!m.current||!r)return;p.setState({userSelectionActive:!0,nodesSelectionActive:!1});let d=iT(n,m.current),h=r.startX??0,f=r.startY??0,b={...r,x:d.x<h?d.x:h,y:d.y<f?d.y:f,width:Math.abs(d.x-h),height:Math.abs(d.y-f)},v=c(),w=i4(i,b,a,t===ep.Partial,!0,u),_=i6(w,o).map(e=>e.id),x=w.map(e=>e.id);if(y.current!==x.length){y.current=x.length;let e=o6(v,x);e.length&&s?.(e)}if(g.current!==_.length){g.current=_.length;let e=o6(o,_);e.length&&l?.(e)}p.setState({userSelectionRect:b})}:c,onMouseUp:S?e=>{if(0!==e.button)return;let{userSelectionRect:t}=p.getState();!b&&t&&e.target===f.current&&x?.(e),p.setState({nodesSelectionActive:y.current>0}),_(),i?.(e)}:void 0,onMouseLeave:S?e=>{b&&(p.setState({nodesSelectionActive:y.current>0}),i?.(e)),_()}:d,ref:f,style:oW},h,u(eG).createElement(oJ,null))});function o7(e,t,n){let r=e;do{if(r?.matches(t))return!0;if(r===n.current)break;r=r.parentElement}while(r)return!1}function ae(e,t,n,r,i=[0,0],o){var a;let s=(a=e.extent||r)&&"parent"!==a?[a[0],[a[1][0]-(e.width||0),a[1][1]-(e.height||0)]]:a,l=s,u=e.parentNode||e.parentId;if("parent"!==e.extent||e.expandParent){if(e.extent&&u&&"parent"!==e.extent){let{x:t,y:r}=i2(n.get(u),i).positionAbsolute;l=[[e.extent[0][0]+t,e.extent[0][1]+r],[e.extent[1][0]+t,e.extent[1][1]+r]]}}else if(u&&e.width&&e.height){let t=n.get(u),{x:r,y:o}=i2(t,i).positionAbsolute;l=t&&iC(r)&&iC(o)&&iC(t.width)&&iC(t.height)?[[r+e.width*i[0],o+e.height*i[1]],[r+t.width-e.width+e.width*i[0],o+t.height-e.height+e.height*i[1]]]:l}else o?.("005","Only child nodes can use a parent extent."),l=s;let c={x:0,y:0};u&&(c=i2(n.get(u),i).positionAbsolute);let d=l&&"parent"!==l?ig(t,l):t;return{position:{x:d.x-c.x,y:d.y-c.y},positionAbsolute:d}}function at({nodeId:e,dragItems:t,nodeInternals:n}){let r=t.map(e=>({...n.get(e.id),position:e.position,positionAbsolute:e.positionAbsolute}));return[e?r.find(t=>t.id===e):r[0],r]}o9.displayName="Pane";let an=(e,t,n,r)=>{let i=t.querySelectorAll(e);if(!i||!i.length)return null;let o=Array.from(i),a=t.getBoundingClientRect(),s={x:a.width*r[0],y:a.height*r[1]};return o.map(e=>{let t=e.getBoundingClientRect();return{id:e.getAttribute("data-handleid"),position:e.getAttribute("data-handlepos"),x:(t.left-a.left-s.x)/n,y:(t.top-a.top-s.y)/n,...ip(e)}})};function ar(e,t,n){return void 0===n?n:r=>{let i=t().nodeInternals.get(e);i&&n(r,{...i})}}function ai({id:e,store:t,unselect:n=!1,nodeRef:r}){let i,{addSelectedNodes:o,unselectNodesAndEdges:a,multiSelectionActive:s,nodeInternals:l,onError:u}=t.getState(),c=l.get(e);c?(t.setState({nodesSelectionActive:!1}),c.selected?(n||c.selected&&s)&&(a({nodes:[c],edges:[]}),requestAnimationFrame(()=>r?.current?.blur())):o([e])):u?.("012",(i=e,`Node with id "${i}" does not exist, it may have been removed. This can happen when a node is deleted before the "onNodeClick" handler is called.`))}function ao(e){return(t,n,r)=>e?.(t,r)}function aa({nodeRef:e,disabled:t=!1,noDragClassName:n,handleSelector:r,nodeId:i,isSelectable:o,selectNodesOnDrag:a}){let s,l=il(),[u,c]=(0,eG.useState)(!1),d=(0,eG.useRef)([]),h=(0,eG.useRef)({x:null,y:null}),f=(0,eG.useRef)(0),p=(0,eG.useRef)(null),y=(0,eG.useRef)({x:0,y:0}),g=(0,eG.useRef)(null),m=(0,eG.useRef)(!1),b=(0,eG.useRef)(!1),v=(0,eG.useRef)(!1),w=(s=il(),(0,eG.useCallback)(({sourceEvent:e})=>{let{transform:t,snapGrid:n,snapToGrid:r}=s.getState(),i=e.touches?e.touches[0].clientX:e.clientX,o=e.touches?e.touches[0].clientY:e.clientY,a={x:(i-t[0])/t[2],y:(o-t[1])/t[2]};return{xSnapped:r?n[0]*Math.round(a.x/n[0]):a.x,ySnapped:r?n[1]*Math.round(a.y/n[1]):a.y,...a}},[]));return(0,eG.useEffect)(()=>{if(e?.current){let s=nK(e.current),u=({x:e,y:t})=>{let{nodeInternals:n,onNodeDrag:r,onSelectionDrag:o,updateNodePositions:a,nodeExtent:s,snapGrid:u,snapToGrid:f,nodeOrigin:p,onError:y}=l.getState();h.current={x:e,y:t};let m=!1,b={x:0,y:0,x2:0,y2:0};if(d.current.length>1&&s&&(b=i_(i3(d.current,p))),d.current=d.current.map(r=>{let i={x:e-r.distance.x,y:t-r.distance.y};f&&(i.x=u[0]*Math.round(i.x/u[0]),i.y=u[1]*Math.round(i.y/u[1]));let o=[[s[0][0],s[0][1]],[s[1][0],s[1][1]]];d.current.length>1&&s&&!r.extent&&(o[0][0]=r.positionAbsolute.x-b.x+s[0][0],o[1][0]=r.positionAbsolute.x+(r.width??0)-b.x2+s[1][0],o[0][1]=r.positionAbsolute.y-b.y+s[0][1],o[1][1]=r.positionAbsolute.y+(r.height??0)-b.y2+s[1][1]);let a=ae(r,i,n,o,p,y);return m=m||r.position.x!==a.position.x||r.position.y!==a.position.y,r.position=a.position,r.positionAbsolute=a.positionAbsolute,r}),!m)return;a(d.current,!0,!0),c(!0);let v=i?r:ao(o);if(v&&g.current){let[e,t]=at({nodeId:i,dragItems:d.current,nodeInternals:n});v(g.current,e,t)}},_=()=>{if(!p.current)return;let[e,t]=ib(y.current,p.current);if(0!==e||0!==t){let{transform:n,panBy:r}=l.getState();h.current.x=(h.current.x??0)-e/n[2],h.current.y=(h.current.y??0)-t/n[2],r({x:e,y:t})&&u(h.current)}f.current=requestAnimationFrame(_)},x=t=>{let{nodeInternals:n,multiSelectionActive:r,nodesDraggable:s,unselectNodesAndEdges:u,onNodeDragStart:c,onSelectionDragStart:f}=l.getState();b.current=!0;let p=i?c:ao(f);a&&o||r||!i||n.get(i)?.selected||u(),i&&o&&a&&ai({id:i,store:l,nodeRef:e});let y=w(t);if(h.current=y,d.current=Array.from(n.values()).filter(e=>(e.selected||e.id===i)&&(!e.parentNode||e.parentId||!function e(t,n){let r=t.parentNode||t.parentId;if(!r)return!1;let i=n.get(r);return!!i&&(!!i.selected||e(i,n))}(e,n))&&(e.draggable||s&&void 0===e.draggable)).map(e=>({id:e.id,position:e.position||{x:0,y:0},positionAbsolute:e.positionAbsolute||{x:0,y:0},distance:{x:y.x-(e.positionAbsolute?.x??0),y:y.y-(e.positionAbsolute?.y??0)},delta:{x:0,y:0},extent:e.extent,parentNode:e.parentNode||e.parentId,parentId:e.parentNode||e.parentId,width:e.width,height:e.height,expandParent:e.expandParent})),p&&d.current){let[e,r]=at({nodeId:i,dragItems:d.current,nodeInternals:n});p(t.sourceEvent,e,r)}};if(t)s.on(".drag",null);else{let t=(function(){var e,t,n,r,i=r7,o=ie,a=it,s=ir,l={},u=no("start","drag","end"),c=0,d=0;function h(e){e.on("mousedown.drag",f).filter(s).on("touchstart.drag",g).on("touchmove.drag",m,nG).on("touchend.drag touchcancel.drag",b).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function f(a,s){if(!r&&i.call(this,a,s)){var l=v(this,o.call(this,a,s),a,s,"mouse");l&&(nK(a.view).on("mousemove.drag",p,nZ).on("mouseup.drag",y,nZ),n0(a.view),nQ(a),n=!1,e=a.clientX,t=a.clientY,l("start",a))}}function p(r){if(nJ(r),!n){var i=r.clientX-e,o=r.clientY-t;n=i*i+o*o>d}l.mouse("drag",r)}function y(e){nK(e.view).on("mousemove.drag mouseup.drag",null),n1(e.view,n),nJ(e),l.mouse("end",e)}function g(e,t){if(i.call(this,e,t)){var n,r,a=e.changedTouches,s=o.call(this,e,t),l=a.length;for(n=0;n<l;++n)(r=v(this,s,e,t,a[n].identifier,a[n]))&&(nQ(e),r("start",e,a[n]))}}function m(e){var t,n,r=e.changedTouches,i=r.length;for(t=0;t<i;++t)(n=l[r[t].identifier])&&(nJ(e),n("drag",e,r[t]))}function b(e){var t,n,i=e.changedTouches,o=i.length;for(r&&clearTimeout(r),r=setTimeout(function(){r=null},500),t=0;t<o;++t)(n=l[i[t].identifier])&&(nQ(e),n("end",e,i[t]))}function v(e,t,n,r,i,o){var s,d,f,p=u.copy(),y=n4(o||n,t);if(null!=(f=a.call(e,new r9("beforestart",{sourceEvent:n,target:h,identifier:i,active:c,x:y[0],y:y[1],dx:0,dy:0,dispatch:p}),r)))return s=f.x-y[0]||0,d=f.y-y[1]||0,function n(o,a,u){var g,m=y;switch(o){case"start":l[i]=n,g=c++;break;case"end":delete l[i],--c;case"drag":y=n4(u||a,t),g=c}p.call(o,e,new r9(o,{sourceEvent:a,subject:f,target:h,identifier:i,active:g,x:y[0]+s,y:y[1]+d,dx:y[0]-m[0],dy:y[1]-m[1],dispatch:p}),r)}}return h.filter=function(e){return arguments.length?(i="function"==typeof e?e:r5(!!e),h):i},h.container=function(e){return arguments.length?(o="function"==typeof e?e:r5(e),h):o},h.subject=function(e){return arguments.length?(a="function"==typeof e?e:r5(e),h):a},h.touchable=function(e){return arguments.length?(s="function"==typeof e?e:r5(!!e),h):s},h.on=function(){var e=u.on.apply(u,arguments);return e===u?h:e},h.clickDistance=function(e){return arguments.length?(d=(e*=1)*e,h):Math.sqrt(d)},h})().on("start",e=>{let{domNode:t,nodeDragThreshold:n}=l.getState();0===n&&x(e),v.current=!1,h.current=w(e),p.current=t?.getBoundingClientRect()||null,y.current=iT(e.sourceEvent,p.current)}).on("drag",e=>{let t=w(e),{autoPanOnNodeDrag:n,nodeDragThreshold:r}=l.getState();if("touchmove"===e.sourceEvent.type&&e.sourceEvent.touches.length>1&&(v.current=!0),!v.current){if(!m.current&&b.current&&n&&(m.current=!0,_()),!b.current){let n=t.xSnapped-(h?.current?.x??0),i=t.ySnapped-(h?.current?.y??0);Math.sqrt(n*n+i*i)>r&&x(e)}(h.current.x!==t.xSnapped||h.current.y!==t.ySnapped)&&d.current&&b.current&&(g.current=e.sourceEvent,y.current=iT(e.sourceEvent,p.current),u(t))}}).on("end",e=>{if(b.current&&!v.current&&(c(!1),m.current=!1,b.current=!1,cancelAnimationFrame(f.current),d.current)){let{updateNodePositions:t,nodeInternals:n,onNodeDragStop:r,onSelectionDragStop:o}=l.getState(),a=i?r:ao(o);if(t(d.current,!1,!1),a){let[t,r]=at({nodeId:i,dragItems:d.current,nodeInternals:n});a(e.sourceEvent,t,r)}}}).filter(t=>{let i=t.target;return!t.button&&(!n||!o7(i,`.${n}`,e))&&(!r||o7(i,r,e))});return s.call(t),()=>{s.on(".drag",null)}}}},[e,t,n,r,o,l,i,a,w]),u}function as(){let e=il();return(0,eG.useCallback)(t=>{let{nodeInternals:n,nodeExtent:r,updateNodePositions:i,getNodes:o,snapToGrid:a,snapGrid:s,onError:l,nodesDraggable:u}=e.getState(),c=o().filter(e=>e.selected&&(e.draggable||u&&void 0===e.draggable)),d=a?s[0]:5,h=a?s[1]:5,f=t.isShiftPressed?4:1,p=t.x*d*f,y=t.y*h*f;i(c.map(e=>{if(e.positionAbsolute){let t={x:e.positionAbsolute.x+p,y:e.positionAbsolute.y+y};a&&(t.x=s[0]*Math.round(t.x/s[0]),t.y=s[1]*Math.round(t.y/s[1]));let{positionAbsolute:i,position:o}=ae(e,t,n,r,void 0,l);e.position=o,e.positionAbsolute=i}return e}),!0,!1)},[])}let al={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}};var au=e=>{let t=({id:t,type:n,data:r,xPos:i,yPos:o,xPosOrigin:a,yPosOrigin:s,selected:l,onClick:c,onMouseEnter:d,onMouseMove:h,onMouseLeave:f,onContextMenu:p,onDoubleClick:y,style:g,className:m,isDraggable:b,isSelectable:v,isConnectable:w,isFocusable:_,selectNodesOnDrag:x,sourcePosition:S,targetPosition:E,hidden:C,resizeObserver:k,dragHandle:I,zIndex:M,isParent:N,noDragClassName:T,noPanClassName:A,initialized:O,disableKeyboardA11y:D,ariaLabel:B,rfId:P,hasHandleBounds:L})=>{let R=il(),z=(0,eG.useRef)(null),F=(0,eG.useRef)(null),U=(0,eG.useRef)(S),V=(0,eG.useRef)(E),$=(0,eG.useRef)(n),j=v||b||c||d||h||f,H=as(),W=ar(t,R.getState,d),Y=ar(t,R.getState,h),X=ar(t,R.getState,f),q=ar(t,R.getState,p),K=ar(t,R.getState,y);(0,eG.useEffect)(()=>()=>{F.current&&(k?.unobserve(F.current),F.current=null)},[]),(0,eG.useEffect)(()=>{if(z.current&&!C){let e=z.current;O&&L&&F.current===e||(F.current&&k?.unobserve(F.current),k?.observe(e),F.current=e)}},[C,O,L]),(0,eG.useEffect)(()=>{let e=$.current!==n,r=U.current!==S,i=V.current!==E;z.current&&(e||r||i)&&(e&&($.current=n),r&&(U.current=S),i&&(V.current=E),R.getState().updateNodeDimensions([{id:t,nodeElement:z.current,forceUpdate:!0}]))},[t,n,S,E]);let G=aa({nodeRef:z,disabled:C||!b,noDragClassName:T,handleSelector:I,nodeId:t,isSelectable:v,selectNodesOnDrag:x});return C?null:u(eG).createElement("div",{className:tQ(["react-flow__node",`react-flow__node-${n}`,{[A]:b},m,{selected:l,selectable:v,parent:N,dragging:G}]),ref:z,style:{zIndex:M,transform:`translate(${a}px,${s}px)`,pointerEvents:j?"all":"none",visibility:O?"visible":"hidden",...g},"data-id":t,"data-testid":`rf__node-${t}`,onMouseEnter:W,onMouseMove:Y,onMouseLeave:X,onContextMenu:q,onClick:e=>{let{nodeDragThreshold:n}=R.getState();if(v&&(!x||!b||n>0)&&ai({id:t,store:R,nodeRef:z}),c){let n=R.getState().nodeInternals.get(t);n&&c(e,{...n})}},onDoubleClick:K,onKeyDown:_?e=>{iN(e)||!D&&(iI.includes(e.key)&&v?ai({id:t,store:R,unselect:"Escape"===e.key,nodeRef:z}):b&&l&&Object.prototype.hasOwnProperty.call(al,e.key)&&(R.setState({ariaLiveMessage:`Moved selected node ${e.key.replace("Arrow","").toLowerCase()}. New position, x: ${~~i}, y: ${~~o}`}),H({x:al[e.key].x,y:al[e.key].y,isShiftPressed:e.shiftKey})))}:void 0,tabIndex:_?0:void 0,role:_?"button":void 0,"aria-describedby":D?void 0:`${oM}-${P}`,"aria-label":B},u(eG).createElement(iZ,{value:t},u(eG).createElement(e,{id:t,data:r,type:n,xPos:i,yPos:o,selected:l,isConnectable:w,sourcePosition:S,targetPosition:E,dragging:G,dragHandle:I,zIndex:M})))};return t.displayName="NodeWrapper",(0,eG.memo)(t)};let ac=e=>({...i3(e.getNodes().filter(e=>e.selected),e.nodeOrigin),transformString:`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]})`,userSelectionActive:e.userSelectionActive});var ad=(0,eG.memo)(function({onSelectionContextMenu:e,noPanClassName:t,disableKeyboardA11y:n}){let r=il(),{width:i,height:o,x:a,y:s,transformString:l,userSelectionActive:c}=is(ac,t7.shallow),d=as(),h=(0,eG.useRef)(null);if((0,eG.useEffect)(()=>{n||h.current?.focus({preventScroll:!0})},[n]),aa({nodeRef:h}),c||!i||!o)return null;let f=e?t=>{e(t,r.getState().getNodes().filter(e=>e.selected))}:void 0;return u(eG).createElement("div",{className:tQ(["react-flow__nodesselection","react-flow__container",t]),style:{transform:l}},u(eG).createElement("div",{ref:h,className:"react-flow__nodesselection-rect",onContextMenu:f,tabIndex:n?void 0:-1,onKeyDown:n?void 0:e=>{Object.prototype.hasOwnProperty.call(al,e.key)&&d({x:al[e.key].x,y:al[e.key].y,isShiftPressed:e.shiftKey})},style:{width:i,height:o,top:s,left:a}}))});let ah=e=>e.nodesSelectionActive,af=({children:e,onPaneClick:t,onPaneMouseEnter:n,onPaneMouseMove:r,onPaneMouseLeave:i,onPaneContextMenu:o,onPaneScroll:a,deleteKeyCode:s,onMove:l,onMoveStart:c,onMoveEnd:d,selectionKeyCode:h,selectionOnDrag:f,selectionMode:p,onSelectionStart:y,onSelectionEnd:g,multiSelectionKeyCode:m,panActivationKeyCode:b,zoomActivationKeyCode:v,elementsSelectable:w,zoomOnScroll:_,zoomOnPinch:x,panOnScroll:S,panOnScrollSpeed:E,panOnScrollMode:C,zoomOnDoubleClick:k,panOnDrag:I,defaultViewport:M,translateExtent:N,minZoom:T,maxZoom:A,preventScrolling:O,onSelectionContextMenu:D,noWheelClassName:B,noPanClassName:P,disableKeyboardA11y:L})=>{let R=is(ah),z=oD(h),F=oD(b),U=F||I,V=F||S,$=z||f&&!0!==U;return(({deleteKeyCode:e,multiSelectionKeyCode:t})=>{let n=il(),{deleteElements:r}=oj(),i=oD(e,oH),o=oD(t);(0,eG.useEffect)(()=>{if(i){let{edges:e,getNodes:t}=n.getState();r({nodes:t().filter(e=>e.selected),edges:e.filter(e=>e.selected)}),n.setState({nodesSelectionActive:!1})}},[i]),(0,eG.useEffect)(()=>{n.setState({multiSelectionActive:o})},[o])})({deleteKeyCode:s,multiSelectionKeyCode:m}),u(eG).createElement(oZ,{onMove:l,onMoveStart:c,onMoveEnd:d,onPaneContextMenu:o,elementsSelectable:w,zoomOnScroll:_,zoomOnPinch:x,panOnScroll:V,panOnScrollSpeed:E,panOnScrollMode:C,zoomOnDoubleClick:k,panOnDrag:!z&&U,defaultViewport:M,translateExtent:N,minZoom:T,maxZoom:A,zoomActivationKeyCode:v,preventScrolling:O,noWheelClassName:B,noPanClassName:P},u(eG).createElement(o9,{onSelectionStart:y,onSelectionEnd:g,onPaneClick:t,onPaneMouseEnter:n,onPaneMouseMove:r,onPaneMouseLeave:i,onPaneContextMenu:o,onPaneScroll:a,panOnDrag:U,isSelecting:!!$,selectionMode:p},e,R&&u(eG).createElement(ad,{onSelectionContextMenu:D,noPanClassName:P,disableKeyboardA11y:L})))};af.displayName="FlowRenderer";var ap=(0,eG.memo)(af);function ay(e){let t={input:au(e.input||oh),default:au(e.default||oc),output:au(e.output||op),group:au(e.group||oy)},n=Object.keys(e).filter(e=>!["input","default","output","group"].includes(e)).reduce((t,n)=>(t[n]=au(e[n]||oc),t),{});return{...t,...n}}let ag=e=>({nodesDraggable:e.nodesDraggable,nodesConnectable:e.nodesConnectable,nodesFocusable:e.nodesFocusable,elementsSelectable:e.elementsSelectable,updateNodeDimensions:e.updateNodeDimensions,onError:e.onError}),am=e=>{var t;let{nodesDraggable:n,nodesConnectable:r,nodesFocusable:i,elementsSelectable:o,updateNodeDimensions:a,onError:s}=is(ag,t7.shallow),l=(t=e.onlyRenderVisibleElements,is((0,eG.useCallback)(e=>t?i4(e.nodeInternals,{x:0,y:0,width:e.width,height:e.height},e.transform,!0):e.getNodes(),[t]))),c=(0,eG.useRef)(),d=(0,eG.useMemo)(()=>{if("undefined"==typeof ResizeObserver)return null;let e=new ResizeObserver(e=>{a(e.map(e=>({id:e.target.getAttribute("data-id"),nodeElement:e.target,forceUpdate:!0})))});return c.current=e,e},[]);return(0,eG.useEffect)(()=>()=>{c?.current?.disconnect()},[]),u(eG).createElement("div",{className:"react-flow__nodes",style:oW},l.map(t=>{let a,l=t.type||"default";e.nodeTypes[l]||(s?.("003",(a=l,`Node type "${a}" not found. Using fallback type "default".`)),l="default");let c=e.nodeTypes[l]||e.nodeTypes.default,h=!!(t.draggable||n&&void 0===t.draggable),f=!!(t.selectable||o&&void 0===t.selectable),p=!!(t.connectable||r&&void 0===t.connectable),y=!!(t.focusable||i&&void 0===t.focusable),g=e.nodeExtent?ig(t.positionAbsolute,e.nodeExtent):t.positionAbsolute,m=g?.x??0,b=g?.y??0,v=(({x:e,y:t,width:n,height:r,origin:i})=>!n||!r||i[0]<0||i[1]<0||i[0]>1||i[1]>1?{x:e,y:t}:{x:e-n*i[0],y:t-r*i[1]})({x:m,y:b,width:t.width??0,height:t.height??0,origin:e.nodeOrigin});return u(eG).createElement(c,{key:t.id,id:t.id,className:t.className,style:t.style,type:l,data:t.data,sourcePosition:t.sourcePosition||em.Bottom,targetPosition:t.targetPosition||em.Top,hidden:t.hidden,xPos:m,yPos:b,xPosOrigin:v.x,yPosOrigin:v.y,selectNodesOnDrag:e.selectNodesOnDrag,onClick:e.onNodeClick,onMouseEnter:e.onNodeMouseEnter,onMouseMove:e.onNodeMouseMove,onMouseLeave:e.onNodeMouseLeave,onContextMenu:e.onNodeContextMenu,onDoubleClick:e.onNodeDoubleClick,selected:!!t.selected,isDraggable:h,isSelectable:f,isConnectable:p,isFocusable:y,resizeObserver:d,dragHandle:t.dragHandle,zIndex:t[ik]?.z??0,isParent:!!t[ik]?.isParent,noDragClassName:e.noDragClassName,noPanClassName:e.noPanClassName,initialized:!!t.width&&!!t.height,rfId:e.rfId,disableKeyboardA11y:e.disableKeyboardA11y,ariaLabel:t.ariaLabel,hasHandleBounds:!!t[ik]?.handleBounds})}))};am.displayName="NodeRenderer";var ab=(0,eG.memo)(am);let av="react-flow__edgeupdater",aw=({position:e,centerX:t,centerY:n,radius:r=10,onMouseDown:i,onMouseEnter:o,onMouseOut:a,type:s})=>u(eG).createElement("circle",{onMouseDown:i,onMouseEnter:o,onMouseOut:a,className:tQ([av,`${av}-${s}`]),cx:e===em.Left?t-r:e===em.Right?t+r:t,cy:e===em.Top?n-r:e===em.Bottom?n+r:n,r:r,stroke:"transparent",fill:"transparent"}),a_=()=>!0;var ax=e=>{let t=({id:t,className:n,type:r,data:i,onClick:o,onEdgeDoubleClick:a,selected:s,animated:l,label:c,labelStyle:d,labelShowBg:h,labelBgStyle:f,labelBgPadding:p,labelBgBorderRadius:y,style:g,source:m,target:b,sourceX:v,sourceY:w,targetX:_,targetY:x,sourcePosition:S,targetPosition:E,elementsSelectable:C,hidden:k,sourceHandleId:I,targetHandleId:M,onContextMenu:N,onMouseEnter:T,onMouseMove:A,onMouseLeave:O,reconnectRadius:D,onReconnect:B,onReconnectStart:P,onReconnectEnd:L,markerEnd:R,markerStart:z,rfId:F,ariaLabel:U,isFocusable:V,isReconnectable:$,pathOptions:j,interactionWidth:H,disableKeyboardA11y:W})=>{let Y=(0,eG.useRef)(null),[X,q]=(0,eG.useState)(!1),[K,G]=(0,eG.useState)(!1),Z=il(),Q=(0,eG.useMemo)(()=>`url('#${iQ(z,F)}')`,[z,F]),J=(0,eG.useMemo)(()=>`url('#${iQ(R,F)}')`,[R,F]);if(k)return null;let ee=iD(t,Z.getState,a),et=iD(t,Z.getState,N),en=iD(t,Z.getState,T),er=iD(t,Z.getState,A),ei=iD(t,Z.getState,O),eo=(e,n)=>{if(0!==e.button)return;let{edges:r,isValidConnection:i}=Z.getState(),o=n?b:m,a=(n?M:I)||null,s=n?"target":"source",l=r.find(e=>e.id===t);G(!0),P?.(e,l,s),oi({event:e,handleId:a,nodeId:o,onConnect:e=>B?.(l,e),isTarget:n,getState:Z.getState,setState:Z.setState,isValidConnection:i||a_,edgeUpdaterType:s,onReconnectEnd:e=>{G(!1),L?.(e,l,s)}})},ea=()=>q(!0),es=()=>q(!1);return u(eG).createElement("g",{className:tQ(["react-flow__edge",`react-flow__edge-${r}`,n,{selected:s,animated:l,inactive:!C&&!o,updating:X}]),onClick:e=>{let{edges:n,addSelectedEdges:r,unselectNodesAndEdges:i,multiSelectionActive:a}=Z.getState(),s=n.find(e=>e.id===t);s&&(C&&(Z.setState({nodesSelectionActive:!1}),s.selected&&a?(i({nodes:[],edges:[s]}),Y.current?.blur()):r([t])),o&&o(e,s))},onDoubleClick:ee,onContextMenu:et,onMouseEnter:en,onMouseMove:er,onMouseLeave:ei,onKeyDown:V?e=>{if(!W&&iI.includes(e.key)&&C){let{unselectNodesAndEdges:n,addSelectedEdges:r,edges:i}=Z.getState();"Escape"===e.key?(Y.current?.blur(),n({edges:[i.find(e=>e.id===t)]})):r([t])}}:void 0,tabIndex:V?0:void 0,role:V?"button":"img","data-testid":`rf__edge-${t}`,"aria-label":null===U?void 0:U||`Edge from ${m} to ${b}`,"aria-describedby":V?`${oN}-${F}`:void 0,ref:Y},!K&&u(eG).createElement(e,{id:t,source:m,target:b,selected:s,animated:l,label:c,labelStyle:d,labelShowBg:h,labelBgStyle:f,labelBgPadding:p,labelBgBorderRadius:y,data:i,style:g,sourceX:v,sourceY:w,targetX:_,targetY:x,sourcePosition:S,targetPosition:E,sourceHandleId:I,targetHandleId:M,markerStart:Q,markerEnd:J,pathOptions:j,interactionWidth:H}),$&&u(eG).createElement(u(eG).Fragment,null,("source"===$||!0===$)&&u(eG).createElement(aw,{position:S,centerX:v,centerY:w,radius:D,onMouseDown:e=>eo(e,!0),onMouseEnter:ea,onMouseOut:es,type:"source"}),("target"===$||!0===$)&&u(eG).createElement(aw,{position:E,centerX:_,centerY:x,radius:D,onMouseDown:e=>eo(e,!1),onMouseEnter:ea,onMouseOut:es,type:"target"})))};return t.displayName="EdgeWrapper",(0,eG.memo)(t)};function aS(e){let t={default:ax(e.default||iK),straight:ax(e.bezier||iW),step:ax(e.step||iH),smoothstep:ax(e.step||ij),simplebezier:ax(e.simplebezier||iz)},n=Object.keys(e).filter(e=>!["default","bezier"].includes(e)).reduce((t,n)=>(t[n]=ax(e[n]||iK),t),{});return{...t,...n}}function aE(e,t,n=null){let r=(n?.x||0)+t.x,i=(n?.y||0)+t.y,o=n?.width||t.width,a=n?.height||t.height;switch(e){case em.Top:return{x:r+o/2,y:i};case em.Right:return{x:r+o,y:i+a/2};case em.Bottom:return{x:r+o/2,y:i+a};case em.Left:return{x:r,y:i+a/2}}}function aC(e,t){return e?1!==e.length&&t?t&&e.find(e=>e.id===t)||null:e[0]:null}function ak(e){let t=e?.[ik]?.handleBounds||null,n=t&&e?.width&&e?.height&&void 0!==e?.positionAbsolute?.x&&void 0!==e?.positionAbsolute?.y;return[{x:e?.positionAbsolute?.x||0,y:e?.positionAbsolute?.y||0,width:e?.width||0,height:e?.height||0},t,!!n]}let aI=[{level:0,isMaxLevel:!0,edges:[]}],aM={[eg.Arrow]:({color:e="none",strokeWidth:t=1})=>u(eG).createElement("polyline",{style:{stroke:e,strokeWidth:t},strokeLinecap:"round",strokeLinejoin:"round",fill:"none",points:"-5,-4 0,0 -5,4"}),[eg.ArrowClosed]:({color:e="none",strokeWidth:t=1})=>u(eG).createElement("polyline",{style:{stroke:e,fill:e,strokeWidth:t},strokeLinecap:"round",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4 -5,-4"})},aN=({id:e,type:t,color:n,width:r=12.5,height:i=12.5,markerUnits:o="strokeWidth",strokeWidth:a,orient:s="auto-start-reverse"})=>{let l,c=(l=il(),(0,eG.useMemo)(()=>{let e;return Object.prototype.hasOwnProperty.call(aM,t)?aM[t]:(l.getState().onError?.("009",(e=t,`Marker type "${e}" doesn't exist.`)),null)},[t]));return c?u(eG).createElement("marker",{className:"react-flow__arrowhead",id:e,markerWidth:`${r}`,markerHeight:`${i}`,viewBox:"-10 -10 20 20",markerUnits:o,orient:s,refX:"0",refY:"0"},u(eG).createElement(c,{color:n,strokeWidth:a})):null},aT=({defaultColor:e,rfId:t})=>{let n=is((0,eG.useCallback)((({defaultColor:e,rfId:t})=>n=>{let r=[];return n.edges.reduce((n,i)=>([i.markerStart,i.markerEnd].forEach(i=>{if(i&&"object"==typeof i){let o=iQ(i,t);r.includes(o)||(n.push({id:o,color:i.color||e,...i}),r.push(o))}}),n),[]).sort((e,t)=>e.id.localeCompare(t.id))})({defaultColor:e,rfId:t}),[e,t]),(e,t)=>!(e.length!==t.length||e.some((e,n)=>e.id!==t[n].id)));return u(eG).createElement("defs",null,n.map(e=>u(eG).createElement(aN,{id:e.id,key:e.id,type:e.type,color:e.color,width:e.width,height:e.height,markerUnits:e.markerUnits,strokeWidth:e.strokeWidth,orient:e.orient})))};aT.displayName="MarkerDefinitions";var aA=(0,eG.memo)(aT);let aO=e=>({nodesConnectable:e.nodesConnectable,edgesFocusable:e.edgesFocusable,edgesUpdatable:e.edgesUpdatable,elementsSelectable:e.elementsSelectable,width:e.width,height:e.height,connectionMode:e.connectionMode,nodeInternals:e.nodeInternals,onError:e.onError}),aD=({defaultMarkerColor:e,onlyRenderVisibleElements:t,elevateEdgesOnSelect:n,rfId:r,edgeTypes:i,noPanClassName:o,onEdgeContextMenu:a,onEdgeMouseEnter:s,onEdgeMouseMove:l,onEdgeMouseLeave:c,onEdgeClick:d,onEdgeDoubleClick:h,onReconnect:f,onReconnectStart:p,onReconnectEnd:y,reconnectRadius:g,children:m,disableKeyboardA11y:b})=>{let{edgesFocusable:v,edgesUpdatable:w,elementsSelectable:_,width:x,height:S,connectionMode:E,nodeInternals:C,onError:k}=is(aO,t7.shallow),I=function(e,t,n=!1){let r=-1,i=Object.entries(e.reduce((e,i)=>{let o=iC(i.zIndex),a=o?i.zIndex:0;if(n){let e=t.get(i.target),n=t.get(i.source),r=i.selected||e?.selected||n?.selected,s=Math.max(n?.[ik]?.z||0,e?.[ik]?.z||0,1e3);a=(o?i.zIndex:0)+(r?s:0)}return e[a]?e[a].push(i):e[a]=[i],r=a>r?a:r,e},{})).map(([e,t])=>{let n=+e;return{edges:t,level:n,isMaxLevel:n===r}});return 0===i.length?aI:i}(is((0,eG.useCallback)(e=>t?e.edges.filter(t=>{let n=C.get(t.source),r=C.get(t.target);return n?.width&&n?.height&&r?.width&&r?.height&&function({sourcePos:e,targetPos:t,sourceWidth:n,sourceHeight:r,targetWidth:i,targetHeight:o,width:a,height:s,transform:l}){let u={x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x+n,t.x+i),y2:Math.max(e.y+r,t.y+o)};u.x===u.x2&&(u.x2+=1),u.y===u.y2&&(u.y2+=1);let c=i_({x:(0-l[0])/l[2],y:(0-l[1])/l[2],width:a/l[2],height:s/l[2]});return Math.ceil(Math.max(0,Math.min(c.x2,u.x2)-Math.max(c.x,u.x))*Math.max(0,Math.min(c.y2,u.y2)-Math.max(c.y,u.y)))>0}({sourcePos:n.positionAbsolute||{x:0,y:0},targetPos:r.positionAbsolute||{x:0,y:0},sourceWidth:n.width,sourceHeight:n.height,targetWidth:r.width,targetHeight:r.height,width:e.width,height:e.height,transform:e.transform})}):e.edges,[t,C])),C,n);return x?u(eG).createElement(u(eG).Fragment,null,I.map(({level:t,edges:n,isMaxLevel:m})=>u(eG).createElement("svg",{key:t,style:{zIndex:t},width:x,height:S,className:"react-flow__edges react-flow__container"},m&&u(eG).createElement(aA,{defaultColor:e,rfId:r}),u(eG).createElement("g",null,n.map(e=>{let t,n,m,[x,S,I]=ak(C.get(e.source)),[M,N,T]=ak(C.get(e.target));if(!I||!T)return null;let A=e.type||"default";i[A]||(k?.("011",(t=A,`Edge type "${t}" not found. Using fallback type "default".`)),A="default");let O=i[A]||i.default,D=E===eh.Strict?N.target:(N.target??[]).concat(N.source??[]),B=aC(S.source,e.sourceHandle),P=aC(D,e.targetHandle),L=B?.position||em.Bottom,R=P?.position||em.Top,z=!!(e.focusable||v&&void 0===e.focusable),F=e.reconnectable||e.updatable;if(!B||!P){let t,n;return k?.("008",(t=B,n=e,`Couldn't create edge for ${!t?"source":"target"} handle id: "${!t?n.sourceHandle:n.targetHandle}", edge id: ${n.id}.`)),null}let{sourceX:U,sourceY:V,targetX:$,targetY:j}=(n=aE(L,x,B),m=aE(R,M,P),{sourceX:n.x,sourceY:n.y,targetX:m.x,targetY:m.y});return u(eG).createElement(O,{key:e.id,id:e.id,className:tQ([e.className,o]),type:A,data:e.data,selected:!!e.selected,animated:!!e.animated,hidden:!!e.hidden,label:e.label,labelStyle:e.labelStyle,labelShowBg:e.labelShowBg,labelBgStyle:e.labelBgStyle,labelBgPadding:e.labelBgPadding,labelBgBorderRadius:e.labelBgBorderRadius,style:e.style,source:e.source,target:e.target,sourceHandleId:e.sourceHandle,targetHandleId:e.targetHandle,markerEnd:e.markerEnd,markerStart:e.markerStart,sourceX:U,sourceY:V,targetX:$,targetY:j,sourcePosition:L,targetPosition:R,elementsSelectable:_,onContextMenu:a,onMouseEnter:s,onMouseMove:l,onMouseLeave:c,onClick:d,onEdgeDoubleClick:h,onReconnect:f,onReconnectStart:p,onReconnectEnd:y,reconnectRadius:g,rfId:r,ariaLabel:e.ariaLabel,isFocusable:z,isReconnectable:void 0!==f&&(F||w&&void 0===F),pathOptions:"pathOptions"in e?e.pathOptions:void 0,interactionWidth:e.interactionWidth,disableKeyboardA11y:b})})))),m):null};aD.displayName="EdgeRenderer";var aB=(0,eG.memo)(aD);let aP=e=>`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]})`;function aL({children:e}){let t=is(aP);return u(eG).createElement("div",{className:"react-flow__viewport react-flow__container",style:{transform:t}},e)}let aR={[em.Left]:em.Right,[em.Right]:em.Left,[em.Top]:em.Bottom,[em.Bottom]:em.Top},az=({nodeId:e,handleType:t,style:n,type:r=ey.Bezier,CustomComponent:i,connectionStatus:o})=>{let{fromNode:a,handleId:s,toX:l,toY:c,connectionMode:d}=is((0,eG.useCallback)(t=>({fromNode:t.nodeInternals.get(e),handleId:t.connectionHandleId,toX:(t.connectionPosition.x-t.transform[0])/t.transform[2],toY:(t.connectionPosition.y-t.transform[1])/t.transform[2],connectionMode:t.connectionMode}),[e]),t7.shallow),h=a?.[ik]?.handleBounds,f=h?.[t];if(d===eh.Loose&&(f=f||h?.["source"===t?"target":"source"]),!a||!f)return null;let p=s?f.find(e=>e.id===s):f[0],y=p?p.x+p.width/2:(a.width??0)/2,g=p?p.y+p.height/2:a.height??0,m=(a.positionAbsolute?.x??0)+y,b=(a.positionAbsolute?.y??0)+g,v=p?.position,w=v?aR[v]:null;if(!v||!w)return null;if(i)return u(eG).createElement(i,{connectionLineType:r,connectionLineStyle:n,fromNode:a,fromHandle:p,fromX:m,fromY:b,toX:l,toY:c,fromPosition:v,toPosition:w,connectionStatus:o});let _="",x={sourceX:m,sourceY:b,sourcePosition:v,targetX:l,targetY:c,targetPosition:w};return r===ey.Bezier?[_]=iq(x):r===ey.Step?[_]=i$({...x,borderRadius:0}):r===ey.SmoothStep?[_]=i$(x):r===ey.SimpleBezier?[_]=iR(x):_=`M${m},${b} ${l},${c}`,u(eG).createElement("path",{d:_,fill:"none",className:"react-flow__connection-path",style:n})};az.displayName="ConnectionLine";let aF=e=>({nodeId:e.connectionNodeId,handleType:e.connectionHandleType,nodesConnectable:e.nodesConnectable,connectionStatus:e.connectionStatus,width:e.width,height:e.height});function aU({containerStyle:e,style:t,type:n,component:r}){let{nodeId:i,handleType:o,nodesConnectable:a,width:s,height:l,connectionStatus:c}=is(aF,t7.shallow);return i&&o&&s&&a?u(eG).createElement("svg",{style:e,width:s,height:l,className:"react-flow__edges react-flow__connectionline react-flow__container"},u(eG).createElement("g",{className:tQ(["react-flow__connection",c])},u(eG).createElement(az,{nodeId:i,handleType:o,style:t,type:n,CustomComponent:r,connectionStatus:c}))):null}function aV(e,t){return(0,eG.useRef)(null),il(),(0,eG.useMemo)(()=>t(e),[e])}let a$=({nodeTypes:e,edgeTypes:t,onMove:n,onMoveStart:r,onMoveEnd:i,onInit:o,onNodeClick:a,onEdgeClick:s,onNodeDoubleClick:l,onEdgeDoubleClick:c,onNodeMouseEnter:d,onNodeMouseMove:h,onNodeMouseLeave:f,onNodeContextMenu:p,onSelectionContextMenu:y,onSelectionStart:g,onSelectionEnd:m,connectionLineType:b,connectionLineStyle:v,connectionLineComponent:w,connectionLineContainerStyle:_,selectionKeyCode:x,selectionOnDrag:S,selectionMode:E,multiSelectionKeyCode:C,panActivationKeyCode:k,zoomActivationKeyCode:I,deleteKeyCode:M,onlyRenderVisibleElements:N,elementsSelectable:T,selectNodesOnDrag:A,defaultViewport:O,translateExtent:D,minZoom:B,maxZoom:P,preventScrolling:L,defaultMarkerColor:R,zoomOnScroll:z,zoomOnPinch:F,panOnScroll:U,panOnScrollSpeed:V,panOnScrollMode:$,zoomOnDoubleClick:j,panOnDrag:H,onPaneClick:W,onPaneMouseEnter:Y,onPaneMouseMove:X,onPaneMouseLeave:q,onPaneScroll:K,onPaneContextMenu:G,onEdgeContextMenu:Z,onEdgeMouseEnter:Q,onEdgeMouseMove:J,onEdgeMouseLeave:ee,onReconnect:et,onReconnectStart:en,onReconnectEnd:er,reconnectRadius:ei,noDragClassName:eo,noWheelClassName:ea,noPanClassName:es,elevateEdgesOnSelect:el,disableKeyboardA11y:eu,nodeOrigin:ec,nodeExtent:ed,rfId:eh})=>{let ef,ep,ey=aV(e,ay),eg=aV(t,aS);return ef=oj(),ep=(0,eG.useRef)(!1),(0,eG.useEffect)(()=>{!ep.current&&ef.viewportInitialized&&o&&(setTimeout(()=>o(ef),1),ep.current=!0)},[o,ef.viewportInitialized]),u(eG).createElement(ap,{onPaneClick:W,onPaneMouseEnter:Y,onPaneMouseMove:X,onPaneMouseLeave:q,onPaneContextMenu:G,onPaneScroll:K,deleteKeyCode:M,selectionKeyCode:x,selectionOnDrag:S,selectionMode:E,onSelectionStart:g,onSelectionEnd:m,multiSelectionKeyCode:C,panActivationKeyCode:k,zoomActivationKeyCode:I,elementsSelectable:T,onMove:n,onMoveStart:r,onMoveEnd:i,zoomOnScroll:z,zoomOnPinch:F,zoomOnDoubleClick:j,panOnScroll:U,panOnScrollSpeed:V,panOnScrollMode:$,panOnDrag:H,defaultViewport:O,translateExtent:D,minZoom:B,maxZoom:P,onSelectionContextMenu:y,preventScrolling:L,noDragClassName:eo,noWheelClassName:ea,noPanClassName:es,disableKeyboardA11y:eu},u(eG).createElement(aL,null,u(eG).createElement(aB,{edgeTypes:eg,onEdgeClick:s,onEdgeDoubleClick:c,onlyRenderVisibleElements:N,onEdgeContextMenu:Z,onEdgeMouseEnter:Q,onEdgeMouseMove:J,onEdgeMouseLeave:ee,onReconnect:et,onReconnectStart:en,onReconnectEnd:er,reconnectRadius:ei,defaultMarkerColor:R,noPanClassName:es,elevateEdgesOnSelect:!!el,disableKeyboardA11y:eu,rfId:eh},u(eG).createElement(aU,{style:v,type:b,component:w,containerStyle:_})),u(eG).createElement("div",{className:"react-flow__edgelabel-renderer"}),u(eG).createElement(ab,{nodeTypes:ey,onNodeClick:a,onNodeDoubleClick:l,onNodeMouseEnter:d,onNodeMouseMove:h,onNodeMouseLeave:f,onNodeContextMenu:p,selectNodesOnDrag:A,onlyRenderVisibleElements:N,noPanClassName:es,noDragClassName:eo,disableKeyboardA11y:eu,nodeOrigin:ec,nodeExtent:ed,rfId:eh})))};a$.displayName="GraphView";var aj=(0,eG.memo)(a$);let aH=[[-1/0,-1/0],[1/0,1/0]],aW={rfId:"1",width:0,height:0,transform:[0,0,1],nodeInternals:new Map,edges:[],onNodesChange:null,onEdgesChange:null,hasDefaultNodes:!1,hasDefaultEdges:!1,d3Zoom:null,d3Selection:null,d3ZoomHandler:void 0,minZoom:.5,maxZoom:2,translateExtent:aH,nodeExtent:aH,nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,connectionNodeId:null,connectionHandleId:null,connectionHandleType:"source",connectionPosition:{x:0,y:0},connectionStatus:null,connectionMode:eh.Strict,domNode:null,paneDragging:!1,noPanClassName:"nopan",nodeOrigin:[0,0],nodeDragThreshold:0,snapGrid:[15,15],snapToGrid:!1,nodesDraggable:!0,nodesConnectable:!0,nodesFocusable:!0,edgesFocusable:!0,edgesUpdatable:!0,elementsSelectable:!0,elevateNodesOnSelect:!0,fitViewOnInit:!1,fitViewOnInitDone:!1,fitViewOnInitOptions:void 0,onSelectionChange:[],multiSelectionActive:!1,connectionStartHandle:null,connectionEndHandle:null,connectionClickStartHandle:null,connectOnClick:!0,ariaLiveMessage:"",autoPanOnConnect:!0,autoPanOnNodeDrag:!0,connectionRadius:20,onError:iM,isValidConnection:void 0},aY=({children:e})=>{var t,n;let r=(0,eG.useRef)(null);return r.current||(t=(e,t)=>({...aW,setNodes:n=>{let{nodeInternals:r,nodeOrigin:i,elevateNodesOnSelect:o}=t();e({nodeInternals:oR(n,r,i,o)})},getNodes:()=>Array.from(t().nodeInternals.values()),setEdges:n=>{let{defaultEdgeOptions:r={}}=t();e({edges:n.map(e=>({...r,...e}))})},setDefaultNodesAndEdges:(n,r)=>{let i=void 0!==n,o=void 0!==r;e({nodeInternals:i?oR(n,new Map,t().nodeOrigin,t().elevateNodesOnSelect):new Map,edges:o?r:[],hasDefaultNodes:i,hasDefaultEdges:o})},updateNodeDimensions:n=>{let{onNodesChange:r,nodeInternals:i,fitViewOnInit:o,fitViewOnInitDone:a,fitViewOnInitOptions:s,domNode:l,nodeOrigin:u}=t(),c=l?.querySelector(".react-flow__viewport");if(!c)return;let d=window.getComputedStyle(c),{m22:h}=new window.DOMMatrixReadOnly(d.transform),f=n.reduce((e,t)=>{let n=i.get(t.id);if(n?.hidden)i.set(n.id,{...n,[ik]:{...n[ik],handleBounds:void 0}});else if(n){let r=ip(t.nodeElement);r.width&&r.height&&(n.width!==r.width||n.height!==r.height||t.forceUpdate)&&(i.set(n.id,{...n,[ik]:{...n[ik],handleBounds:{source:an(".source",t.nodeElement,h,u),target:an(".target",t.nodeElement,h,u)}},...r}),e.push({id:n.id,type:"dimensions",dimensions:r}))}return e},[]);oL(i,u);let p=a||o&&!a&&oz(t,{initial:!0,...s});e({nodeInternals:new Map(i),fitViewOnInitDone:p}),f?.length>0&&r?.(f)},updateNodePositions:(e,n=!0,r=!1)=>{let{triggerNodeChanges:i}=t();i(e.map(e=>{let t={id:e.id,type:"position",dragging:r};return n&&(t.positionAbsolute=e.positionAbsolute,t.position=e.position),t}))},triggerNodeChanges:n=>{let{onNodesChange:r,nodeInternals:i,hasDefaultNodes:o,nodeOrigin:a,getNodes:s,elevateNodesOnSelect:l}=t();n?.length&&(o&&e({nodeInternals:oR(o2(n,s()),i,a,l)}),r?.(n))},addSelectedNodes:n=>{let r,{multiSelectionActive:i,edges:o,getNodes:a}=t(),s=null;i?r=n.map(e=>o4(e,!0)):(r=o6(a(),n),s=o6(o,[])),oF({changedNodes:r,changedEdges:s,get:t,set:e})},addSelectedEdges:n=>{let r,{multiSelectionActive:i,edges:o,getNodes:a}=t(),s=null;i?r=n.map(e=>o4(e,!0)):(r=o6(o,n),s=o6(a(),[])),oF({changedNodes:s,changedEdges:r,get:t,set:e})},unselectNodesAndEdges:({nodes:n,edges:r}={})=>{let{edges:i,getNodes:o}=t();oF({changedNodes:(n||o()).map(e=>(e.selected=!1,o4(e.id,!1))),changedEdges:(r||i).map(e=>o4(e.id,!1)),get:t,set:e})},setMinZoom:n=>{let{d3Zoom:r,maxZoom:i}=t();r?.scaleExtent([n,i]),e({minZoom:n})},setMaxZoom:n=>{let{d3Zoom:r,minZoom:i}=t();r?.scaleExtent([i,n]),e({maxZoom:n})},setTranslateExtent:n=>{t().d3Zoom?.translateExtent(n),e({translateExtent:n})},resetSelectedElements:()=>{let{edges:n,getNodes:r}=t();oF({changedNodes:r().filter(e=>e.selected).map(e=>o4(e.id,!1)),changedEdges:n.filter(e=>e.selected).map(e=>o4(e.id,!1)),get:t,set:e})},setNodeExtent:n=>{let{nodeInternals:r}=t();r.forEach(e=>{e.positionAbsolute=ig(e.position,n)}),e({nodeExtent:n,nodeInternals:new Map(r)})},panBy:e=>{let{transform:n,width:r,height:i,d3Zoom:o,d3Selection:a,translateExtent:s}=t();if(!o||!a||!e.x&&!e.y)return!1;let l=rZ.translate(n[0]+e.x,n[1]+e.y).scale(n[2]),u=o?.constrain()(l,[[0,0],[r,i]],s);return o.transform(a,u),n[0]!==u.x||n[1]!==u.y||n[2]!==u.k},cancelConnection:()=>e({connectionNodeId:aW.connectionNodeId,connectionHandleId:aW.connectionHandleId,connectionHandleType:aW.connectionHandleType,connectionStatus:aW.connectionStatus,connectionStartHandle:aW.connectionStartHandle,connectionEndHandle:aW.connectionEndHandle}),reset:()=>e({...aW})}),n=Object.is,r.current=t?t9(t,n):t9),u(eG).createElement(io,{value:r.current},e)};aY.displayName="ReactFlowProvider";let aX=({children:e})=>(0,eG.useContext)(ii)?u(eG).createElement(u(eG).Fragment,null,e):u(eG).createElement(aY,null,e);aX.displayName="ReactFlowWrapper";let aq={input:oh,default:oc,output:op,group:oy},aK={default:iK,straight:iW,step:iH,smoothstep:ij,simplebezier:iz},aG=[0,0],aZ=[15,15],aQ={x:0,y:0,zoom:1},aJ={width:"100%",height:"100%",overflow:"hidden",position:"relative",zIndex:0},a0=(0,eG.forwardRef)(({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,className:i,nodeTypes:o=aq,edgeTypes:a=aK,onNodeClick:s,onEdgeClick:l,onInit:c,onMove:d,onMoveStart:h,onMoveEnd:f,onConnect:p,onConnectStart:y,onConnectEnd:g,onClickConnectStart:m,onClickConnectEnd:b,onNodeMouseEnter:v,onNodeMouseMove:w,onNodeMouseLeave:_,onNodeContextMenu:x,onNodeDoubleClick:S,onNodeDragStart:E,onNodeDrag:C,onNodeDragStop:k,onNodesDelete:I,onEdgesDelete:M,onSelectionChange:N,onSelectionDragStart:T,onSelectionDrag:A,onSelectionDragStop:O,onSelectionContextMenu:D,onSelectionStart:B,onSelectionEnd:P,connectionMode:L=eh.Strict,connectionLineType:R=ey.Bezier,connectionLineStyle:z,connectionLineComponent:F,connectionLineContainerStyle:U,deleteKeyCode:V="Backspace",selectionKeyCode:$="Shift",selectionOnDrag:j=!1,selectionMode:H=ep.Full,panActivationKeyCode:W="Space",multiSelectionKeyCode:Y=iA()?"Meta":"Control",zoomActivationKeyCode:X=iA()?"Meta":"Control",snapToGrid:q=!1,snapGrid:K=aZ,onlyRenderVisibleElements:G=!1,selectNodesOnDrag:Z=!0,nodesDraggable:Q,nodesConnectable:J,nodesFocusable:ee,nodeOrigin:et=aG,edgesFocusable:en,edgesUpdatable:er,elementsSelectable:ei,defaultViewport:eo=aQ,minZoom:ea=.5,maxZoom:es=2,translateExtent:el=aH,preventScrolling:eu=!0,nodeExtent:ec,defaultMarkerColor:ed="#b1b1b7",zoomOnScroll:eg=!0,zoomOnPinch:em=!0,panOnScroll:eb=!1,panOnScrollSpeed:ev=.5,panOnScrollMode:ew=ef.Free,zoomOnDoubleClick:e_=!0,panOnDrag:ex=!0,onPaneClick:eS,onPaneMouseEnter:eE,onPaneMouseMove:eC,onPaneMouseLeave:ek,onPaneScroll:eI,onPaneContextMenu:eM,children:eN,onEdgeContextMenu:eT,onEdgeDoubleClick:eA,onEdgeMouseEnter:eO,onEdgeMouseMove:eD,onEdgeMouseLeave:eB,onEdgeUpdate:eP,onEdgeUpdateStart:eL,onEdgeUpdateEnd:eR,onReconnect:ez,onReconnectStart:eF,onReconnectEnd:eU,reconnectRadius:eV=10,edgeUpdaterRadius:e$=10,onNodesChange:ej,onEdgesChange:eH,noDragClassName:eW="nodrag",noWheelClassName:eY="nowheel",noPanClassName:eX="nopan",fitView:eq=!1,fitViewOptions:eK,connectOnClick:eZ=!0,attributionPosition:eQ,proOptions:eJ,defaultEdgeOptions:e0,elevateNodesOnSelect:e1=!0,elevateEdgesOnSelect:e2=!1,disableKeyboardA11y:e3=!1,autoPanOnConnect:e4=!0,autoPanOnNodeDrag:e6=!0,connectionRadius:e8=20,isValidConnection:e5,onError:e9,style:e7,id:te,nodeDragThreshold:tt,...tn},tr)=>{let ti=te||"1";return u(eG).createElement("div",{...tn,style:{...e7,...aJ},ref:tr,className:tQ(["react-flow",i]),"data-testid":"rf__wrapper",id:te},u(eG).createElement(aX,null,u(eG).createElement(aj,{onInit:c,onMove:d,onMoveStart:h,onMoveEnd:f,onNodeClick:s,onEdgeClick:l,onNodeMouseEnter:v,onNodeMouseMove:w,onNodeMouseLeave:_,onNodeContextMenu:x,onNodeDoubleClick:S,nodeTypes:o,edgeTypes:a,connectionLineType:R,connectionLineStyle:z,connectionLineComponent:F,connectionLineContainerStyle:U,selectionKeyCode:$,selectionOnDrag:j,selectionMode:H,deleteKeyCode:V,multiSelectionKeyCode:Y,panActivationKeyCode:W,zoomActivationKeyCode:X,onlyRenderVisibleElements:G,selectNodesOnDrag:Z,defaultViewport:eo,translateExtent:el,minZoom:ea,maxZoom:es,preventScrolling:eu,zoomOnScroll:eg,zoomOnPinch:em,zoomOnDoubleClick:e_,panOnScroll:eb,panOnScrollSpeed:ev,panOnScrollMode:ew,panOnDrag:ex,onPaneClick:eS,onPaneMouseEnter:eE,onPaneMouseMove:eC,onPaneMouseLeave:ek,onPaneScroll:eI,onPaneContextMenu:eM,onSelectionContextMenu:D,onSelectionStart:B,onSelectionEnd:P,onEdgeContextMenu:eT,onEdgeDoubleClick:eA,onEdgeMouseEnter:eO,onEdgeMouseMove:eD,onEdgeMouseLeave:eB,onReconnect:ez??eP,onReconnectStart:eF??eL,onReconnectEnd:eU??eR,reconnectRadius:eV??e$,defaultMarkerColor:ed,noDragClassName:eW,noWheelClassName:eY,noPanClassName:eX,elevateEdgesOnSelect:e2,rfId:ti,disableKeyboardA11y:e3,nodeOrigin:et,nodeExtent:ec}),u(eG).createElement(oC,{nodes:e,edges:t,defaultNodes:n,defaultEdges:r,onConnect:p,onConnectStart:y,onConnectEnd:g,onClickConnectStart:m,onClickConnectEnd:b,nodesDraggable:Q,nodesConnectable:J,nodesFocusable:ee,edgesFocusable:en,edgesUpdatable:er,elementsSelectable:ei,elevateNodesOnSelect:e1,minZoom:ea,maxZoom:es,nodeExtent:ec,onNodesChange:ej,onEdgesChange:eH,snapToGrid:q,snapGrid:K,connectionMode:L,translateExtent:el,connectOnClick:eZ,defaultEdgeOptions:e0,fitView:eq,fitViewOptions:eK,onNodesDelete:I,onEdgesDelete:M,onNodeDragStart:E,onNodeDrag:C,onNodeDragStop:k,onSelectionDrag:A,onSelectionDragStart:T,onSelectionDragStop:O,noPanClassName:eX,nodeOrigin:et,rfId:ti,autoPanOnConnect:e4,autoPanOnNodeDrag:e6,onError:e9,connectionRadius:e8,isValidConnection:e5,nodeDragThreshold:tt}),u(eG).createElement(o_,{onSelectionChange:N}),eN,u(eG).createElement(id,{proOptions:eJ,position:eQ}),u(eG).createElement(oO,{rfId:ti,disableKeyboardA11y:e3})))});function a1(e){return t=>{let[n,r]=(0,eG.useState)(t),i=(0,eG.useCallback)(t=>r(n=>e(t,n)),[]);return[n,r,i]}}a0.displayName="ReactFlow",a1(o2),a1(o3);var eG=eX("acw62");function a2({color:e,dimensions:t,lineWidth:n}){return u(eG).createElement("path",{stroke:e,strokeWidth:n,d:`M${t[0]/2} 0 V${t[1]} M0 ${t[1]/2} H${t[0]}`})}function a3({color:e,radius:t}){return u(eG).createElement("circle",{cx:t,cy:t,r:t,fill:e})}(g=eb||(eb={})).Lines="lines",g.Dots="dots",g.Cross="cross";let a4={[eb.Dots]:"#91919a",[eb.Lines]:"#eee",[eb.Cross]:"#e2e2e2"},a6={[eb.Dots]:1,[eb.Lines]:1,[eb.Cross]:6},a8=e=>({transform:e.transform,patternId:`pattern-${e.rfId}`});function a5({id:e,variant:t=eb.Dots,gap:n=20,size:r,lineWidth:i=1,offset:o=2,color:a,style:s,className:l}){let c=(0,eG.useRef)(null),{transform:d,patternId:h}=is(a8,t7.shallow),f=a||a4[t],p=r||a6[t],y=t===eb.Dots,g=t===eb.Cross,m=Array.isArray(n)?n:[n,n],b=[m[0]*d[2]||1,m[1]*d[2]||1],v=p*d[2],w=g?[v,v]:b,_=y?[v/o,v/o]:[w[0]/o,w[1]/o];return u(eG).createElement("svg",{className:tQ(["react-flow__background",l]),style:{...s,position:"absolute",width:"100%",height:"100%",top:0,left:0},ref:c,"data-testid":"rf__background"},u(eG).createElement("pattern",{id:h+e,x:d[0]%b[0],y:d[1]%b[1],width:b[0],height:b[1],patternUnits:"userSpaceOnUse",patternTransform:`translate(-${_[0]},-${_[1]})`},y?u(eG).createElement(a3,{color:f,radius:v/o}):u(eG).createElement(a2,{dimensions:w,color:f,lineWidth:i})),u(eG).createElement("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:`url(#${h+e})`}))}a5.displayName="Background";var a9=(0,eG.memo)(a5),eG=eX("acw62");function a7(){return u(eG).createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32"},u(eG).createElement("path",{d:"M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"}))}function se(){return u(eG).createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 5"},u(eG).createElement("path",{d:"M0 0h32v4.2H0z"}))}function st(){return u(eG).createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 30"},u(eG).createElement("path",{d:"M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0027.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94c-.531 0-.939-.4-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"}))}function sn(){return u(eG).createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32"},u(eG).createElement("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"}))}function sr(){return u(eG).createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32"},u(eG).createElement("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047z"}))}let si=({children:e,className:t,...n})=>u(eG).createElement("button",{type:"button",className:tQ(["react-flow__controls-button",t]),...n},e);si.displayName="ControlButton";let so=e=>({isInteractive:e.nodesDraggable||e.nodesConnectable||e.elementsSelectable,minZoomReached:e.transform[2]<=e.minZoom,maxZoomReached:e.transform[2]>=e.maxZoom}),sa=({style:e,showZoom:t=!0,showFitView:n=!0,showInteractive:r=!0,fitViewOptions:i,onZoomIn:o,onZoomOut:a,onFitView:s,onInteractiveChange:l,className:c,children:d,position:h="bottom-left"})=>{let f=il(),[p,y]=(0,eG.useState)(!1),{isInteractive:g,minZoomReached:m,maxZoomReached:b}=is(so,t7.shallow),{zoomIn:v,zoomOut:w,fitView:_}=oj();return((0,eG.useEffect)(()=>{y(!0)},[]),p)?u(eG).createElement(ic,{className:tQ(["react-flow__controls",c]),position:h,style:e,"data-testid":"rf__controls"},t&&u(eG).createElement(u(eG).Fragment,null,u(eG).createElement(si,{onClick:()=>{v(),o?.()},className:"react-flow__controls-zoomin",title:"zoom in","aria-label":"zoom in",disabled:b},u(eG).createElement(a7,null)),u(eG).createElement(si,{onClick:()=>{w(),a?.()},className:"react-flow__controls-zoomout",title:"zoom out","aria-label":"zoom out",disabled:m},u(eG).createElement(se,null))),n&&u(eG).createElement(si,{className:"react-flow__controls-fitview",onClick:()=>{_(i),s?.()},title:"fit view","aria-label":"fit view"},u(eG).createElement(st,null)),r&&u(eG).createElement(si,{className:"react-flow__controls-interactive",onClick:()=>{f.setState({nodesDraggable:!g,nodesConnectable:!g,elementsSelectable:!g}),l?.(!g)},title:"toggle interactivity","aria-label":"toggle interactivity"},g?u(eG).createElement(sr,null):u(eG).createElement(sn,null)),d):null};sa.displayName="Controls";var ss=(0,eG.memo)(sa),eG=eX("acw62");let sl=({id:e,x:t,y:n,width:r,height:i,style:o,color:a,strokeColor:s,strokeWidth:l,className:c,borderRadius:d,shapeRendering:h,onClick:f,selected:p})=>{let{background:y,backgroundColor:g}=o||{};return u(eG).createElement("rect",{className:tQ(["react-flow__minimap-node",{selected:p},c]),x:t,y:n,rx:d,ry:d,width:r,height:i,fill:a||y||g,stroke:s,strokeWidth:l,shapeRendering:h,onClick:f?t=>f(t,e):void 0})};sl.displayName="MiniMapNode";var su=(0,eG.memo)(sl);let sc=e=>e.nodeOrigin,sd=e=>e.getNodes().filter(e=>!e.hidden&&e.width&&e.height),sh=e=>e instanceof Function?e:()=>e;var sf=(0,eG.memo)(function({nodeStrokeColor:e="transparent",nodeColor:t="#e2e2e2",nodeClassName:n="",nodeBorderRadius:r=5,nodeStrokeWidth:i=2,nodeComponent:o=su,onClick:a}){let s=is(sd,t7.shallow),l=is(sc),c=sh(t),d=sh(e),h=sh(n),f="undefined"==typeof window||window.chrome?"crispEdges":"geometricPrecision";return u(eG).createElement(u(eG).Fragment,null,s.map(e=>{let{x:t,y:n}=i2(e,l).positionAbsolute;return u(eG).createElement(o,{key:e.id,x:t,y:n,width:e.width,height:e.height,style:e.style,selected:e.selected,className:h(e),color:c(e),borderRadius:r,strokeColor:d(e),strokeWidth:i,shapeRendering:f,onClick:a,id:e.id})}))});let sp=e=>{let t,n=e.getNodes(),r={x:-e.transform[0]/e.transform[2],y:-e.transform[1]/e.transform[2],width:e.width/e.transform[2],height:e.height/e.transform[2]};return{viewBB:r,boundingRect:n.length>0?(t=i3(n,e.nodeOrigin),ix(iw(i_(t),i_(r)))):r,rfId:e.rfId}};function sy({style:e,className:t,nodeStrokeColor:n="transparent",nodeColor:r="#e2e2e2",nodeClassName:i="",nodeBorderRadius:o=5,nodeStrokeWidth:a=2,nodeComponent:s,maskColor:l="rgb(240, 240, 240, 0.6)",maskStrokeColor:c="none",maskStrokeWidth:d=1,position:h="bottom-right",onClick:f,onNodeClick:p,pannable:y=!1,zoomable:g=!1,ariaLabel:m="React Flow mini map",inversePan:b=!1,zoomStep:v=10,offsetScale:w=5}){let _=il(),x=(0,eG.useRef)(null),{boundingRect:S,viewBB:E,rfId:C}=is(sp,t7.shallow),k=e?.width??200,I=e?.height??150,M=Math.max(S.width/k,S.height/I),N=M*k,T=M*I,A=w*M,O=S.x-(N-S.width)/2-A,D=S.y-(T-S.height)/2-A,B=N+2*A,P=T+2*A,L=`react-flow__minimap-desc-${C}`,R=(0,eG.useRef)(0);R.current=M,(0,eG.useEffect)(()=>{if(x.current){let e=nK(x.current),t=r8().on("zoom",y?e=>{let{transform:t,d3Selection:n,d3Zoom:r,translateExtent:i,width:o,height:a}=_.getState();if("mousemove"!==e.sourceEvent.type||!n||!r)return;let s=R.current*Math.max(1,t[2])*(b?-1:1),l={x:t[0]-e.sourceEvent.movementX*s,y:t[1]-e.sourceEvent.movementY*s},u=rZ.translate(l.x,l.y).scale(t[2]),c=r.constrain()(u,[[0,0],[o,a]],i);r.transform(n,c)}:null).on("zoom.wheel",g?e=>{let{transform:t,d3Selection:n,d3Zoom:r}=_.getState();if("wheel"!==e.sourceEvent.type||!n||!r)return;let i=-e.sourceEvent.deltaY*(1===e.sourceEvent.deltaMode?.05:e.sourceEvent.deltaMode?1:.002)*v,o=t[2]*Math.pow(2,i);r.scaleTo(n,o)}:null);return e.call(t),()=>{e.on("zoom",null)}}},[y,g,b,v]);let z=f?e=>{let t=n4(e);f(e,{x:t[0],y:t[1]})}:void 0,F=p?(e,t)=>{p(e,_.getState().nodeInternals.get(t))}:void 0;return u(eG).createElement(ic,{position:h,style:e,className:tQ(["react-flow__minimap",t]),"data-testid":"rf__minimap"},u(eG).createElement("svg",{width:k,height:I,viewBox:`${O} ${D} ${B} ${P}`,role:"img","aria-labelledby":L,ref:x,onClick:z},m&&u(eG).createElement("title",{id:L},m),u(eG).createElement(sf,{onClick:F,nodeColor:r,nodeStrokeColor:n,nodeBorderRadius:o,nodeClassName:i,nodeStrokeWidth:a,nodeComponent:s}),u(eG).createElement("path",{className:"react-flow__minimap-mask",d:`M${O-A},${D-A}h${B+2*A}v${P+2*A}h${-B-2*A}z
        M${E.x},${E.y}h${E.width}v${E.height}h${-E.width}z`,fill:l,fillRule:"evenodd",stroke:c,strokeWidth:d,pointerEvents:"none"})))}sy.displayName="MiniMap";var sg=(0,eG.memo)(sy),sm={},sb={};sb=eX("9cCWX");var sv={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},sw={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},s_={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},sx={};function sS(e){return sb.isMemo(e)?s_:sx[e.$$typeof]||sv}sx[sb.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},sx[sb.Memo]=s_;var sE=Object.defineProperty,sC=Object.getOwnPropertyNames,sk=Object.getOwnPropertySymbols,sI=Object.getOwnPropertyDescriptor,sM=Object.getPrototypeOf,sN=Object.prototype;sm=function e(t,n,r){if("string"!=typeof n){if(sN){var i=sM(n);i&&i!==sN&&e(t,i,r)}var o=sC(n);sk&&(o=o.concat(sk(n)));for(var a=sS(t),s=sS(n),l=0;l<o.length;++l){var u=o[l];if(!sw[u]&&!(r&&r[u])&&!(s&&s[u])&&!(a&&a[u])){var c=sI(n,u);try{sE(t,u,c)}catch(e){}}}}return t};var sT={};sT=eX("cU6Hr"),(m=ev||(ev={}))[m.V1=0]="V1",m[m.V2=1]="V2",m[m.V3=2]="V3",m[m.V4=3]="V4",m[m.V5=4]="V5",(b=ew||(ew={}))[b.Sparse=0]="Sparse",b[b.Dense=1]="Dense",(v=e_||(e_={}))[v.HALF=0]="HALF",v[v.SINGLE=1]="SINGLE",v[v.DOUBLE=2]="DOUBLE",(w=ex||(ex={}))[w.DAY=0]="DAY",w[w.MILLISECOND=1]="MILLISECOND",(_=eS||(eS={}))[_.SECOND=0]="SECOND",_[_.MILLISECOND=1]="MILLISECOND",_[_.MICROSECOND=2]="MICROSECOND",_[_.NANOSECOND=3]="NANOSECOND",(x=eE||(eE={}))[x.YEAR_MONTH=0]="YEAR_MONTH",x[x.DAY_TIME=1]="DAY_TIME",x[x.MONTH_DAY_NANO=2]="MONTH_DAY_NANO",(S=eC||(eC={}))[S.NONE=0]="NONE",S[S.Schema=1]="Schema",S[S.DictionaryBatch=2]="DictionaryBatch",S[S.RecordBatch=3]="RecordBatch",S[S.Tensor=4]="Tensor",S[S.SparseTensor=5]="SparseTensor",(E=ek||(ek={}))[E.NONE=0]="NONE",E[E.Null=1]="Null",E[E.Int=2]="Int",E[E.Float=3]="Float",E[E.Binary=4]="Binary",E[E.Utf8=5]="Utf8",E[E.Bool=6]="Bool",E[E.Decimal=7]="Decimal",E[E.Date=8]="Date",E[E.Time=9]="Time",E[E.Timestamp=10]="Timestamp",E[E.Interval=11]="Interval",E[E.List=12]="List",E[E.Struct=13]="Struct",E[E.Union=14]="Union",E[E.FixedSizeBinary=15]="FixedSizeBinary",E[E.FixedSizeList=16]="FixedSizeList",E[E.Map=17]="Map",E[E.Dictionary=-1]="Dictionary",E[E.Int8=-2]="Int8",E[E.Int16=-3]="Int16",E[E.Int32=-4]="Int32",E[E.Int64=-5]="Int64",E[E.Uint8=-6]="Uint8",E[E.Uint16=-7]="Uint16",E[E.Uint32=-8]="Uint32",E[E.Uint64=-9]="Uint64",E[E.Float16=-10]="Float16",E[E.Float32=-11]="Float32",E[E.Float64=-12]="Float64",E[E.DateDay=-13]="DateDay",E[E.DateMillisecond=-14]="DateMillisecond",E[E.TimestampSecond=-15]="TimestampSecond",E[E.TimestampMillisecond=-16]="TimestampMillisecond",E[E.TimestampMicrosecond=-17]="TimestampMicrosecond",E[E.TimestampNanosecond=-18]="TimestampNanosecond",E[E.TimeSecond=-19]="TimeSecond",E[E.TimeMillisecond=-20]="TimeMillisecond",E[E.TimeMicrosecond=-21]="TimeMicrosecond",E[E.TimeNanosecond=-22]="TimeNanosecond",E[E.DenseUnion=-23]="DenseUnion",E[E.SparseUnion=-24]="SparseUnion",E[E.IntervalDayTime=-25]="IntervalDayTime",E[E.IntervalYearMonth=-26]="IntervalYearMonth",(C=eI||(eI={}))[C.OFFSET=0]="OFFSET",C[C.DATA=1]="DATA",C[C.VALIDITY=2]="VALIDITY",C[C.TYPE=3]="TYPE";let[sA,sO]=(()=>{let e=()=>{throw Error("BigInt is not available in this environment")};function t(){throw e()}return t.asIntN=()=>{throw e()},t.asUintN=()=>{throw e()},"undefined"!=typeof BigInt?[BigInt,!0]:[t,!1]})(),[sD,sB]=(i=()=>{throw Error("BigInt64Array is not available in this environment")},"undefined"!=typeof BigInt64Array?[BigInt64Array,!0]:[class{static get BYTES_PER_ELEMENT(){return 8}static of(){throw i()}static from(){throw i()}constructor(){throw i()}},!1]),[sP,sL]=(o=()=>{throw Error("BigUint64Array is not available in this environment")},"undefined"!=typeof BigUint64Array?[BigUint64Array,!0]:[class{static get BYTES_PER_ELEMENT(){return 8}static of(){throw o()}static from(){throw o()}constructor(){throw o()}},!1]),sR=e=>null!=e&&Object(e)===e,sz=e=>sR(e)&&"function"==typeof e.then,sF=e=>sR(e)&&"function"==typeof e[Symbol.iterator],sU=e=>sR(e)&&"function"==typeof e[Symbol.asyncIterator],sV=e=>sR(e)&&sR(e.schema),s$=e=>sR(e)&&"done"in e&&"value"in e,sj=e=>sR(e)&&"function"==typeof e.stat&&"number"==typeof e.fd,sH=e=>sR(e)&&sY(e.body),sW=e=>"_getDOMStream"in e&&"_getNodeStream"in e,sY=e=>sR(e)&&"function"==typeof e.cancel&&"function"==typeof e.getReader&&!sW(e),sX=e=>sR(e)&&"function"==typeof e.read&&"function"==typeof e.pipe&&"boolean"==typeof e.readable&&!sW(e),sq;function sK(e){if(null===e)return"null";if(e===sq)return"undefined";switch(typeof e){case"number":case"bigint":return`${e}`;case"string":return`"${e}"`}return"function"==typeof e[Symbol.toPrimitive]?e[Symbol.toPrimitive]("string"):ArrayBuffer.isView(e)?e instanceof sD||e instanceof sP?`[${[...e].map(e=>sK(e))}]`:`[${e}]`:ArrayBuffer.isView(e)?`[${e}]`:JSON.stringify(e,(e,t)=>"bigint"==typeof t?`${t}`:t)}function sG(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{l(r.next(e))}catch(e){o(e)}}function s(e){try{l(r.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?i(e.value):((t=e.value)instanceof n?t:new n(function(e){e(t)})).then(a,s)}l((r=r.apply(e,t||[])).next())})}function sZ(e){return this instanceof sZ?(this.v=e,this):new sZ(e)}function sQ(e,t,n){if(!Symbol.asyncIterator)throw TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(e,t||[]),o=[];return r=Object.create(("function"==typeof AsyncIterator?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",function(e){return function(t){return Promise.resolve(t).then(e,u)}}),r[Symbol.asyncIterator]=function(){return this},r;function a(e,t){i[e]&&(r[e]=function(t){return new Promise(function(n,r){o.push([e,t,n,r])>1||s(e,t)})},t&&(r[e]=t(r[e])))}function s(e,t){try{var n;(n=i[e](t)).value instanceof sZ?Promise.resolve(n.value.v).then(l,u):c(o[0][2],n)}catch(e){c(o[0][3],e)}}function l(e){s("next",e)}function u(e){s("throw",e)}function c(e,t){e(t),o.shift(),o.length&&s(o[0][0],o[0][1])}}function sJ(e){var t,n;return t={},r("next"),r("throw",function(e){throw e}),r("return"),t[Symbol.iterator]=function(){return this},t;function r(r,i){t[r]=e[r]?function(t){return(n=!n)?{value:sZ(e[r](t)),done:!1}:i?i(t):t}:i}}function s0(e){if(!Symbol.asyncIterator)throw TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise(function(r,i){var o,a,s;o=r,a=i,s=(t=e[n](t)).done,Promise.resolve(t.value).then(function(e){o({value:e,done:s})},a)})}}}"function"==typeof SuppressedError&&SuppressedError;let s1=new TextDecoder("utf-8"),s2=e=>s1.decode(e),s3=new TextEncoder,s4="undefined"!=typeof SharedArrayBuffer?SharedArrayBuffer:ArrayBuffer;function s6(e,t,n=0,r=t.byteLength){let i=e.byteLength,o=new Uint8Array(e.buffer,e.byteOffset,i),a=new Uint8Array(t.buffer,t.byteOffset,Math.min(r,i));return o.set(a,n),e}function s8(e,t){let n,r,i,o=function(e){let t,n,r,i,o=e[0]?[e[0]]:[];for(let a,s,l=0,u=0,c=e.length;++l<c;){if(a=o[u],s=e[l],!a||!s||a.buffer!==s.buffer||s.byteOffset<a.byteOffset||({byteOffset:t,byteLength:r}=a,{byteOffset:n,byteLength:i}=s,t+r<n||n+i<t)){s&&(o[++u]=s);continue}o[u]=new Uint8Array(a.buffer,t,n-t+i)}return o}(e),a=o.reduce((e,t)=>e+t.byteLength,0),s=0,l=-1,u=Math.min(t||1/0,a);for(let e=o.length;++l<e;){if(r=(n=o[l]).subarray(0,Math.min(n.length,u-s)),u<=s+r.length){r.length<n.length?o[l]=n.subarray(r.length):r.length===n.length&&l++,i?s6(i,r,s):i=r;break}s6(i||(i=new Uint8Array(u)),r,s),s+=r.length}return[i||new Uint8Array(0),o.slice(l),a-(i?i.byteLength:0)]}function s5(e,t){let n,r,i=s$(t)?t.value:t;if(i instanceof e)return e===Uint8Array?new e(i.buffer,i.byteOffset,i.byteLength):i;if(!i)return new e(0);return("string"==typeof i&&(r=i,i=s3.encode(r)),i instanceof ArrayBuffer||i instanceof s4)?new e(i):sR(n=i)&&"function"==typeof n.clear&&"function"==typeof n.bytes&&"function"==typeof n.position&&"function"==typeof n.setPosition&&"function"==typeof n.capacity&&"function"==typeof n.getBufferIdentifier&&"function"==typeof n.createLong?s5(e,i.bytes()):ArrayBuffer.isView(i)?i.byteLength<=0?new e(0):new e(i.buffer,i.byteOffset,i.byteLength/e.BYTES_PER_ELEMENT):e.from(i)}let s9=e=>s5(Uint8Array,e),s7=e=>(e.next(),e);function le(e,t,n){if(0!==e){n=n.slice(0,t+1);for(let r=-1;++r<=t;)n[r]+=e}return n}let lt=Symbol.for("isArrowBigNum");function ln(e,...t){return 0===t.length?Object.setPrototypeOf(s5(this.TypedArray,e),this.constructor.prototype):Object.setPrototypeOf(new this.TypedArray(e,...t),this.constructor.prototype)}function lr(...e){return ln.apply(this,e)}function li(...e){return ln.apply(this,e)}function lo(...e){return ln.apply(this,e)}function la(e){let{buffer:t,byteOffset:n,length:r,signed:i}=e,o=new sP(t,n,r),a=i&&o[o.length-1]&BigInt(1)<<BigInt(63),s=a?BigInt(1):BigInt(0),l=BigInt(0);if(a){for(let e of o)s+=~e*(BigInt(1)<<BigInt(32)*l++);s*=BigInt(-1)}else for(let e of o)s+=e*(BigInt(1)<<BigInt(32)*l++);return s}function ls(e){let t="",n=new Uint32Array(2),r=new Uint16Array(e.buffer,e.byteOffset,e.byteLength/2),i=new Uint32Array((r=new Uint16Array(r).reverse()).buffer),o=-1,a=r.length-1;do{for(n[0]=r[o=0];o<a;)r[o++]=n[1]=n[0]/10,n[0]=(n[0]-10*n[1]<<16)+r[o];r[o]=n[1]=n[0]/10,n[0]=n[0]-10*n[1],t=`${n[0]}${t}`}while(i[0]||i[1]||i[2]||i[3])return null!=t?t:"0"}ln.prototype[lt]=!0,ln.prototype.toJSON=function(){return`"${e(this)}"`},ln.prototype.valueOf=function(){return la(this)},ln.prototype.toString=function(){return e(this)},ln.prototype[Symbol.toPrimitive]=function(n="default"){switch(n){case"number":return la(this);case"string":break;case"default":return t(this)}return e(this)},Object.setPrototypeOf(lr.prototype,Object.create(Int32Array.prototype)),Object.setPrototypeOf(li.prototype,Object.create(Uint32Array.prototype)),Object.setPrototypeOf(lo.prototype,Object.create(Uint32Array.prototype)),Object.assign(lr.prototype,ln.prototype,{constructor:lr,signed:!0,TypedArray:Int32Array,BigIntArray:sD}),Object.assign(li.prototype,ln.prototype,{constructor:li,signed:!1,TypedArray:Uint32Array,BigIntArray:sP}),Object.assign(lo.prototype,ln.prototype,{constructor:lo,signed:!0,TypedArray:Uint32Array,BigIntArray:sP}),sO?(t=e=>8===e.byteLength?new e.BigIntArray(e.buffer,e.byteOffset,1)[0]:ls(e),e=e=>8===e.byteLength?`${new e.BigIntArray(e.buffer,e.byteOffset,1)[0]}`:ls(e)):t=e=ls;class ll{static new(e,t){switch(t){case!0:return new lr(e);case!1:return new li(e)}switch(e.constructor){case Int8Array:case Int16Array:case Int32Array:case sD:return new lr(e)}return 16===e.byteLength?new lo(e):new li(e)}static signed(e){return new lr(e)}static unsigned(e){return new li(e)}static decimal(e){return new lo(e)}constructor(e,t){return ll.new(e,t)}}class lu{static isNull(e){return(null==e?void 0:e.typeId)===ek.Null}static isInt(e){return(null==e?void 0:e.typeId)===ek.Int}static isFloat(e){return(null==e?void 0:e.typeId)===ek.Float}static isBinary(e){return(null==e?void 0:e.typeId)===ek.Binary}static isUtf8(e){return(null==e?void 0:e.typeId)===ek.Utf8}static isBool(e){return(null==e?void 0:e.typeId)===ek.Bool}static isDecimal(e){return(null==e?void 0:e.typeId)===ek.Decimal}static isDate(e){return(null==e?void 0:e.typeId)===ek.Date}static isTime(e){return(null==e?void 0:e.typeId)===ek.Time}static isTimestamp(e){return(null==e?void 0:e.typeId)===ek.Timestamp}static isInterval(e){return(null==e?void 0:e.typeId)===ek.Interval}static isList(e){return(null==e?void 0:e.typeId)===ek.List}static isStruct(e){return(null==e?void 0:e.typeId)===ek.Struct}static isUnion(e){return(null==e?void 0:e.typeId)===ek.Union}static isFixedSizeBinary(e){return(null==e?void 0:e.typeId)===ek.FixedSizeBinary}static isFixedSizeList(e){return(null==e?void 0:e.typeId)===ek.FixedSizeList}static isMap(e){return(null==e?void 0:e.typeId)===ek.Map}static isDictionary(e){return(null==e?void 0:e.typeId)===ek.Dictionary}static isDenseUnion(e){return lu.isUnion(e)&&e.mode===ew.Dense}static isSparseUnion(e){return lu.isUnion(e)&&e.mode===ew.Sparse}get typeId(){return ek.NONE}}lu[Symbol.toStringTag]=((k=lu.prototype).children=null,k.ArrayType=Array,k[Symbol.toStringTag]="DataType");class lc extends lu{toString(){return"Null"}get typeId(){return ek.Null}}lc[Symbol.toStringTag]=lc.prototype[Symbol.toStringTag]="Null";class ld extends lu{constructor(e,t){super(),this.isSigned=e,this.bitWidth=t}get typeId(){return ek.Int}get ArrayType(){switch(this.bitWidth){case 8:return this.isSigned?Int8Array:Uint8Array;case 16:return this.isSigned?Int16Array:Uint16Array;case 32:return this.isSigned?Int32Array:Uint32Array;case 64:return this.isSigned?sD:sP}throw Error(`Unrecognized ${this[Symbol.toStringTag]} type`)}toString(){return`${this.isSigned?"I":"Ui"}nt${this.bitWidth}`}}ld[Symbol.toStringTag]=((I=ld.prototype).isSigned=null,I.bitWidth=null,I[Symbol.toStringTag]="Int");class lh extends ld{constructor(){super(!0,32)}get ArrayType(){return Int32Array}}Object.defineProperty((class extends ld{constructor(){super(!0,8)}get ArrayType(){return Int8Array}}).prototype,"ArrayType",{value:Int8Array}),Object.defineProperty((class extends ld{constructor(){super(!0,16)}get ArrayType(){return Int16Array}}).prototype,"ArrayType",{value:Int16Array}),Object.defineProperty(lh.prototype,"ArrayType",{value:Int32Array}),Object.defineProperty((class extends ld{constructor(){super(!0,64)}get ArrayType(){return sD}}).prototype,"ArrayType",{value:sD}),Object.defineProperty((class extends ld{constructor(){super(!1,8)}get ArrayType(){return Uint8Array}}).prototype,"ArrayType",{value:Uint8Array}),Object.defineProperty((class extends ld{constructor(){super(!1,16)}get ArrayType(){return Uint16Array}}).prototype,"ArrayType",{value:Uint16Array}),Object.defineProperty((class extends ld{constructor(){super(!1,32)}get ArrayType(){return Uint32Array}}).prototype,"ArrayType",{value:Uint32Array}),Object.defineProperty((class extends ld{constructor(){super(!1,64)}get ArrayType(){return sP}}).prototype,"ArrayType",{value:sP});class lf extends lu{constructor(e){super(),this.precision=e}get typeId(){return ek.Float}get ArrayType(){switch(this.precision){case e_.HALF:return Uint16Array;case e_.SINGLE:return Float32Array;case e_.DOUBLE:return Float64Array}throw Error(`Unrecognized ${this[Symbol.toStringTag]} type`)}toString(){return`Float${this.precision<<5||16}`}}lf[Symbol.toStringTag]=((M=lf.prototype).precision=null,M[Symbol.toStringTag]="Float"),Object.defineProperty((class extends lf{constructor(){super(e_.HALF)}}).prototype,"ArrayType",{value:Uint16Array}),Object.defineProperty((class extends lf{constructor(){super(e_.SINGLE)}}).prototype,"ArrayType",{value:Float32Array}),Object.defineProperty((class extends lf{constructor(){super(e_.DOUBLE)}}).prototype,"ArrayType",{value:Float64Array});class lp extends lu{constructor(){super()}get typeId(){return ek.Binary}toString(){return"Binary"}}lp[Symbol.toStringTag]=((N=lp.prototype).ArrayType=Uint8Array,N[Symbol.toStringTag]="Binary");class ly extends lu{constructor(){super()}get typeId(){return ek.Utf8}toString(){return"Utf8"}}ly[Symbol.toStringTag]=((T=ly.prototype).ArrayType=Uint8Array,T[Symbol.toStringTag]="Utf8");class lg extends lu{constructor(){super()}get typeId(){return ek.Bool}toString(){return"Bool"}}lg[Symbol.toStringTag]=((A=lg.prototype).ArrayType=Uint8Array,A[Symbol.toStringTag]="Bool");class lm extends lu{constructor(e,t,n=128){super(),this.scale=e,this.precision=t,this.bitWidth=n}get typeId(){return ek.Decimal}toString(){return`Decimal[${this.precision}e${this.scale>0?"+":""}${this.scale}]`}}lm[Symbol.toStringTag]=((O=lm.prototype).scale=null,O.precision=null,O.ArrayType=Uint32Array,O[Symbol.toStringTag]="Decimal");class lb extends lu{constructor(e){super(),this.unit=e}get typeId(){return ek.Date}toString(){return`Date${(this.unit+1)*32}<${ex[this.unit]}>`}}lb[Symbol.toStringTag]=((D=lb.prototype).unit=null,D.ArrayType=Int32Array,D[Symbol.toStringTag]="Date");class lv extends lu{constructor(e,t){super(),this.unit=e,this.bitWidth=t}get typeId(){return ek.Time}toString(){return`Time${this.bitWidth}<${eS[this.unit]}>`}get ArrayType(){switch(this.bitWidth){case 32:return Int32Array;case 64:return sD}throw Error(`Unrecognized ${this[Symbol.toStringTag]} type`)}}lv[Symbol.toStringTag]=((B=lv.prototype).unit=null,B.bitWidth=null,B[Symbol.toStringTag]="Time");class lw extends lu{constructor(e,t){super(),this.unit=e,this.timezone=t}get typeId(){return ek.Timestamp}toString(){return`Timestamp<${eS[this.unit]}${this.timezone?`, ${this.timezone}`:""}>`}}lw[Symbol.toStringTag]=((P=lw.prototype).unit=null,P.timezone=null,P.ArrayType=Int32Array,P[Symbol.toStringTag]="Timestamp");class l_ extends lu{constructor(e){super(),this.unit=e}get typeId(){return ek.Interval}toString(){return`Interval<${eE[this.unit]}>`}}l_[Symbol.toStringTag]=((L=l_.prototype).unit=null,L.ArrayType=Int32Array,L[Symbol.toStringTag]="Interval");class lx extends lu{constructor(e){super(),this.children=[e]}get typeId(){return ek.List}toString(){return`List<${this.valueType}>`}get valueType(){return this.children[0].type}get valueField(){return this.children[0]}get ArrayType(){return this.valueType.ArrayType}}lx[Symbol.toStringTag]=((R=lx.prototype).children=null,R[Symbol.toStringTag]="List");class lS extends lu{constructor(e){super(),this.children=e}get typeId(){return ek.Struct}toString(){return`Struct<{${this.children.map(e=>`${e.name}:${e.type}`).join(", ")}}>`}}lS[Symbol.toStringTag]=((z=lS.prototype).children=null,z[Symbol.toStringTag]="Struct");class lE extends lu{constructor(e,t,n){super(),this.mode=e,this.children=n,this.typeIds=t=Int32Array.from(t),this.typeIdToChildIndex=t.reduce((e,t,n)=>(e[t]=n)&&e||e,Object.create(null))}get typeId(){return ek.Union}toString(){return`${this[Symbol.toStringTag]}<${this.children.map(e=>`${e.type}`).join(" | ")}>`}}lE[Symbol.toStringTag]=((F=lE.prototype).mode=null,F.typeIds=null,F.children=null,F.typeIdToChildIndex=null,F.ArrayType=Int8Array,F[Symbol.toStringTag]="Union");class lC extends lu{constructor(e){super(),this.byteWidth=e}get typeId(){return ek.FixedSizeBinary}toString(){return`FixedSizeBinary[${this.byteWidth}]`}}lC[Symbol.toStringTag]=((U=lC.prototype).byteWidth=null,U.ArrayType=Uint8Array,U[Symbol.toStringTag]="FixedSizeBinary");class lk extends lu{constructor(e,t){super(),this.listSize=e,this.children=[t]}get typeId(){return ek.FixedSizeList}get valueType(){return this.children[0].type}get valueField(){return this.children[0]}get ArrayType(){return this.valueType.ArrayType}toString(){return`FixedSizeList[${this.listSize}]<${this.valueType}>`}}lk[Symbol.toStringTag]=((V=lk.prototype).children=null,V.listSize=null,V[Symbol.toStringTag]="FixedSizeList");class lI extends lu{constructor(e,t=!1){super(),this.children=[e],this.keysSorted=t}get typeId(){return ek.Map}get keyType(){return this.children[0].type.children[0].type}get valueType(){return this.children[0].type.children[1].type}get childType(){return this.children[0].type}toString(){return`Map<{${this.children[0].type.children.map(e=>`${e.name}:${e.type}`).join(", ")}}>`}}lI[Symbol.toStringTag]=(($=lI.prototype).children=null,$.keysSorted=null,$[Symbol.toStringTag]="Map_");let lM=(a=-1,()=>++a);class lN extends lu{constructor(e,t,n,r){super(),this.indices=t,this.dictionary=e,this.isOrdered=r||!1,this.id=null==n?lM():"number"==typeof n?n:n.low}get typeId(){return ek.Dictionary}get children(){return this.dictionary.children}get valueType(){return this.dictionary}get ArrayType(){return this.dictionary.ArrayType}toString(){return`Dictionary<${this.indices}, ${this.dictionary}>`}}function lT(e){switch(e.typeId){case ek.Decimal:return e.bitWidth/32;case ek.Timestamp:return 2;case ek.Date:case ek.Interval:return 1+e.unit;case ek.FixedSizeList:return e.listSize;case ek.FixedSizeBinary:return e.byteWidth;default:return 1}}lN[Symbol.toStringTag]=((j=lN.prototype).id=null,j.indices=null,j.isOrdered=null,j.dictionary=null,j[Symbol.toStringTag]="Dictionary");class lA{visitMany(e,...t){return e.map((e,n)=>this.visit(e,...t.map(e=>e[n])))}visit(...e){return this.getVisitFn(e[0],!1).apply(this,e)}getVisitFn(e,t=!0){return function(e,t,n=!0){return"number"==typeof t?lO(e,t,n):"string"==typeof t&&t in ek?lO(e,ek[t],n):t&&t instanceof lu?lO(e,lD(t),n):(null==t?void 0:t.type)&&t.type instanceof lu?lO(e,lD(t.type),n):lO(e,ek.NONE,n)}(this,e,t)}getVisitFnByTypeId(e,t=!0){return lO(this,e,t)}visitNull(e){return null}visitBool(e){return null}visitInt(e){return null}visitFloat(e){return null}visitUtf8(e){return null}visitBinary(e){return null}visitFixedSizeBinary(e){return null}visitDate(e){return null}visitTimestamp(e){return null}visitTime(e){return null}visitDecimal(e){return null}visitList(e){return null}visitStruct(e){return null}visitUnion(e){return null}visitDictionary(e){return null}visitInterval(e){return null}visitFixedSizeList(e){return null}visitMap(e){return null}}function lO(e,t,n=!0){let r=null;switch(t){case ek.Null:r=e.visitNull;break;case ek.Bool:r=e.visitBool;break;case ek.Int:r=e.visitInt;break;case ek.Int8:r=e.visitInt8||e.visitInt;break;case ek.Int16:r=e.visitInt16||e.visitInt;break;case ek.Int32:r=e.visitInt32||e.visitInt;break;case ek.Int64:r=e.visitInt64||e.visitInt;break;case ek.Uint8:r=e.visitUint8||e.visitInt;break;case ek.Uint16:r=e.visitUint16||e.visitInt;break;case ek.Uint32:r=e.visitUint32||e.visitInt;break;case ek.Uint64:r=e.visitUint64||e.visitInt;break;case ek.Float:r=e.visitFloat;break;case ek.Float16:r=e.visitFloat16||e.visitFloat;break;case ek.Float32:r=e.visitFloat32||e.visitFloat;break;case ek.Float64:r=e.visitFloat64||e.visitFloat;break;case ek.Utf8:r=e.visitUtf8;break;case ek.Binary:r=e.visitBinary;break;case ek.FixedSizeBinary:r=e.visitFixedSizeBinary;break;case ek.Date:r=e.visitDate;break;case ek.DateDay:r=e.visitDateDay||e.visitDate;break;case ek.DateMillisecond:r=e.visitDateMillisecond||e.visitDate;break;case ek.Timestamp:r=e.visitTimestamp;break;case ek.TimestampSecond:r=e.visitTimestampSecond||e.visitTimestamp;break;case ek.TimestampMillisecond:r=e.visitTimestampMillisecond||e.visitTimestamp;break;case ek.TimestampMicrosecond:r=e.visitTimestampMicrosecond||e.visitTimestamp;break;case ek.TimestampNanosecond:r=e.visitTimestampNanosecond||e.visitTimestamp;break;case ek.Time:r=e.visitTime;break;case ek.TimeSecond:r=e.visitTimeSecond||e.visitTime;break;case ek.TimeMillisecond:r=e.visitTimeMillisecond||e.visitTime;break;case ek.TimeMicrosecond:r=e.visitTimeMicrosecond||e.visitTime;break;case ek.TimeNanosecond:r=e.visitTimeNanosecond||e.visitTime;break;case ek.Decimal:r=e.visitDecimal;break;case ek.List:r=e.visitList;break;case ek.Struct:r=e.visitStruct;break;case ek.Union:r=e.visitUnion;break;case ek.DenseUnion:r=e.visitDenseUnion||e.visitUnion;break;case ek.SparseUnion:r=e.visitSparseUnion||e.visitUnion;break;case ek.Dictionary:r=e.visitDictionary;break;case ek.Interval:r=e.visitInterval;break;case ek.IntervalDayTime:r=e.visitIntervalDayTime||e.visitInterval;break;case ek.IntervalYearMonth:r=e.visitIntervalYearMonth||e.visitInterval;break;case ek.FixedSizeList:r=e.visitFixedSizeList;break;case ek.Map:r=e.visitMap}if("function"==typeof r)return r;if(!n)return()=>null;throw Error(`Unrecognized type '${ek[t]}'`)}function lD(e){switch(e.typeId){case ek.Null:return ek.Null;case ek.Int:{let{bitWidth:t,isSigned:n}=e;switch(t){case 8:return n?ek.Int8:ek.Uint8;case 16:return n?ek.Int16:ek.Uint16;case 32:return n?ek.Int32:ek.Uint32;case 64:return n?ek.Int64:ek.Uint64}return ek.Int}case ek.Float:switch(e.precision){case e_.HALF:return ek.Float16;case e_.SINGLE:return ek.Float32;case e_.DOUBLE:return ek.Float64}return ek.Float;case ek.Binary:return ek.Binary;case ek.Utf8:return ek.Utf8;case ek.Bool:return ek.Bool;case ek.Decimal:return ek.Decimal;case ek.Time:switch(e.unit){case eS.SECOND:return ek.TimeSecond;case eS.MILLISECOND:return ek.TimeMillisecond;case eS.MICROSECOND:return ek.TimeMicrosecond;case eS.NANOSECOND:return ek.TimeNanosecond}return ek.Time;case ek.Timestamp:switch(e.unit){case eS.SECOND:return ek.TimestampSecond;case eS.MILLISECOND:return ek.TimestampMillisecond;case eS.MICROSECOND:return ek.TimestampMicrosecond;case eS.NANOSECOND:return ek.TimestampNanosecond}return ek.Timestamp;case ek.Date:switch(e.unit){case ex.DAY:return ek.DateDay;case ex.MILLISECOND:return ek.DateMillisecond}return ek.Date;case ek.Interval:switch(e.unit){case eE.DAY_TIME:return ek.IntervalDayTime;case eE.YEAR_MONTH:return ek.IntervalYearMonth}return ek.Interval;case ek.Map:return ek.Map;case ek.List:return ek.List;case ek.Struct:return ek.Struct;case ek.Union:switch(e.mode){case ew.Dense:return ek.DenseUnion;case ew.Sparse:return ek.SparseUnion}return ek.Union;case ek.FixedSizeBinary:return ek.FixedSizeBinary;case ek.FixedSizeList:return ek.FixedSizeList;case ek.Dictionary:return ek.Dictionary}throw Error(`Unrecognized type '${ek[e.typeId]}'`)}lA.prototype.visitInt8=null,lA.prototype.visitInt16=null,lA.prototype.visitInt32=null,lA.prototype.visitInt64=null,lA.prototype.visitUint8=null,lA.prototype.visitUint16=null,lA.prototype.visitUint32=null,lA.prototype.visitUint64=null,lA.prototype.visitFloat16=null,lA.prototype.visitFloat32=null,lA.prototype.visitFloat64=null,lA.prototype.visitDateDay=null,lA.prototype.visitDateMillisecond=null,lA.prototype.visitTimestampSecond=null,lA.prototype.visitTimestampMillisecond=null,lA.prototype.visitTimestampMicrosecond=null,lA.prototype.visitTimestampNanosecond=null,lA.prototype.visitTimeSecond=null,lA.prototype.visitTimeMillisecond=null,lA.prototype.visitTimeMicrosecond=null,lA.prototype.visitTimeNanosecond=null,lA.prototype.visitDenseUnion=null,lA.prototype.visitSparseUnion=null,lA.prototype.visitIntervalDayTime=null,lA.prototype.visitIntervalYearMonth=null;let lB=new Float64Array(1),lP=new Uint32Array(lB.buffer);function lL(e){let t=(31744&e)>>10,n=(1023&e)/1024,r=Math.pow(-1,(32768&e)>>15);switch(t){case 31:return r*(n?NaN:1/0);case 0:return r*(n?6103515625e-14*n:0)}return r*Math.pow(2,t-15)*(1+n)}function lR(e){if(e!=e)return 32256;lB[0]=e;let t=(0x80000000&lP[1])>>16&65535,n=0x7ff00000&lP[1],r=0;return n>=0x40f00000?lP[0]>0?n=31744:(n=(0x7c000000&n)>>16,r=(1048575&lP[1])>>10):n<=0x3f000000?(r=1048576+((r=1048576+(1048575&lP[1]))<<(n>>20)-998)>>21,n=0):(n=n-0x3f000000>>10,r=(1048575&lP[1])+512>>10),t|n|65535&r}class lz extends lA{}function lF(e){return(t,n,r)=>{if(t.setValid(n,null!=r))return e(t,n,r)}}let lU=(e,t,n)=>{e[t]=Math.trunc(n%0x100000000),e[t+1]=Math.trunc(n/0x100000000)},lV=(e,t,n,r)=>{if(n+1<t.length){let{[n]:i,[n+1]:o}=t;e.set(r.subarray(0,o-i),i)}},l$=({values:e},t,n)=>{e[t]=n},lj=({values:e},t,n)=>{e[t]=n},lH=({values:e},t,n)=>{e[t]=lR(n)},lW=({values:e},t,n)=>{var r;r=n.valueOf(),e[t]=Math.trunc(r/864e5)},lY=({values:e},t,n)=>{lU(e,2*t,n.valueOf())},lX=({stride:e,values:t},n,r)=>{t.set(r.subarray(0,e),e*n)},lq=(e,t,n)=>{e.type.unit===ex.DAY?lW(e,t,n):lY(e,t,n)},lK=({values:e},t,n)=>lU(e,2*t,n/1e3),lG=({values:e},t,n)=>lU(e,2*t,n),lZ=({values:e},t,n)=>{var r;e[r=2*t]=Math.trunc(1e3*n%0x100000000),e[r+1]=Math.trunc(1e3*n/0x100000000)},lQ=({values:e},t,n)=>{var r;e[r=2*t]=Math.trunc(1e6*n%0x100000000),e[r+1]=Math.trunc(1e6*n/0x100000000)},lJ=(e,t,n)=>{switch(e.type.unit){case eS.SECOND:return lK(e,t,n);case eS.MILLISECOND:return lG(e,t,n);case eS.MICROSECOND:return lZ(e,t,n);case eS.NANOSECOND:return lQ(e,t,n)}},l0=({values:e},t,n)=>{e[t]=n},l1=({values:e},t,n)=>{e[t]=n},l2=({values:e},t,n)=>{e[t]=n},l3=({values:e},t,n)=>{e[t]=n},l4=(e,t,n)=>{switch(e.type.unit){case eS.SECOND:return l0(e,t,n);case eS.MILLISECOND:return l1(e,t,n);case eS.MICROSECOND:return l2(e,t,n);case eS.NANOSECOND:return l3(e,t,n)}},l6=({values:e,stride:t},n,r)=>{e.set(r.subarray(0,t),t*n)},l8=(e,t,n)=>{let r=e.type.typeIdToChildIndex[e.typeIds[t]],i=e.children[r];ut.visit(i,e.valueOffsets[t],n)},l5=(e,t,n)=>{let r=e.type.typeIdToChildIndex[e.typeIds[t]],i=e.children[r];ut.visit(i,t,n)},l9=(e,t,n)=>{e.type.unit===eE.DAY_TIME?l7(e,t,n):ue(e,t,n)},l7=({values:e},t,n)=>{e.set(n.subarray(0,2),2*t)},ue=({values:e},t,n)=>{e[t]=12*n[0]+n[1]%12};lz.prototype.visitBool=lF(({offset:e,values:t},n,r)=>{let i=e+n;r?t[i>>3]|=1<<i%8:t[i>>3]&=~(1<<i%8)}),lz.prototype.visitInt=lF(l$),lz.prototype.visitInt8=lF(l$),lz.prototype.visitInt16=lF(l$),lz.prototype.visitInt32=lF(l$),lz.prototype.visitInt64=lF(l$),lz.prototype.visitUint8=lF(l$),lz.prototype.visitUint16=lF(l$),lz.prototype.visitUint32=lF(l$),lz.prototype.visitUint64=lF(l$),lz.prototype.visitFloat=lF((e,t,n)=>{switch(e.type.precision){case e_.HALF:return lH(e,t,n);case e_.SINGLE:case e_.DOUBLE:return lj(e,t,n)}}),lz.prototype.visitFloat16=lF(lH),lz.prototype.visitFloat32=lF(lj),lz.prototype.visitFloat64=lF(lj),lz.prototype.visitUtf8=lF(({values:e,valueOffsets:t},n,r)=>{lV(e,t,n,s3.encode(r))}),lz.prototype.visitBinary=lF(({values:e,valueOffsets:t},n,r)=>lV(e,t,n,r)),lz.prototype.visitFixedSizeBinary=lF(lX),lz.prototype.visitDate=lF(lq),lz.prototype.visitDateDay=lF(lW),lz.prototype.visitDateMillisecond=lF(lY),lz.prototype.visitTimestamp=lF(lJ),lz.prototype.visitTimestampSecond=lF(lK),lz.prototype.visitTimestampMillisecond=lF(lG),lz.prototype.visitTimestampMicrosecond=lF(lZ),lz.prototype.visitTimestampNanosecond=lF(lQ),lz.prototype.visitTime=lF(l4),lz.prototype.visitTimeSecond=lF(l0),lz.prototype.visitTimeMillisecond=lF(l1),lz.prototype.visitTimeMicrosecond=lF(l2),lz.prototype.visitTimeNanosecond=lF(l3),lz.prototype.visitDecimal=lF(l6),lz.prototype.visitList=lF((e,t,n)=>{let r=e.children[0],i=e.valueOffsets,o=ut.getVisitFn(r);if(Array.isArray(n))for(let e=-1,a=i[t],s=i[t+1];a<s;)o(r,a++,n[++e]);else for(let e=-1,a=i[t],s=i[t+1];a<s;)o(r,a++,n.get(++e))}),lz.prototype.visitStruct=lF((e,t,n)=>{let r=e.type.children.map(e=>ut.getVisitFn(e.type)),i=n instanceof Map?(e,r,i,o)=>r&&e(r,t,n.get(i.name)):n instanceof co?(e,r,i,o)=>r&&e(r,t,n.get(o)):Array.isArray(n)?(e,r,i,o)=>r&&e(r,t,n[o]):(e,r,i,o)=>r&&e(r,t,n[i.name]);e.type.children.forEach((t,n)=>i(r[n],e.children[n],t,n))}),lz.prototype.visitUnion=lF((e,t,n)=>{e.type.mode===ew.Dense?l8(e,t,n):l5(e,t,n)}),lz.prototype.visitDenseUnion=lF(l8),lz.prototype.visitSparseUnion=lF(l5),lz.prototype.visitDictionary=lF((e,t,n)=>{var r;null==(r=e.dictionary)||r.set(e.values[t],n)}),lz.prototype.visitInterval=lF(l9),lz.prototype.visitIntervalDayTime=lF(l7),lz.prototype.visitIntervalYearMonth=lF(ue),lz.prototype.visitFixedSizeList=lF((e,t,n)=>{let{stride:r}=e,i=e.children[0],o=ut.getVisitFn(i);if(Array.isArray(n))for(let e=-1,a=t*r;++e<r;)o(i,a+e,n[e]);else for(let e=-1,a=t*r;++e<r;)o(i,a+e,n.get(e))}),lz.prototype.visitMap=lF((e,t,n)=>{let r=e.children[0],{valueOffsets:i}=e,o=ut.getVisitFn(r),{[t]:a,[t+1]:s}=i;for(let e of n instanceof Map?n.entries():Object.entries(n))if(o(r,a,e),++a>=s)break});let ut=new lz,un=Symbol.for("parent"),ur=Symbol.for("rowIndex");class ui{constructor(e,t){return this[un]=e,this[ur]=t,new Proxy(this,new ua)}toArray(){return Object.values(this.toJSON())}toJSON(){let e=this[ur],t=this[un],n=t.type.children,r={};for(let i=-1,o=n.length;++i<o;)r[n[i].name]=uM.visit(t.children[i],e);return r}toString(){return`{${[...this].map(([e,t])=>`${sK(e)}: ${sK(t)}`).join(", ")}}`}[Symbol.for("nodejs.util.inspect.custom")](){return this.toString()}[Symbol.iterator](){return new uo(this[un],this[ur])}}class uo{constructor(e,t){this.childIndex=0,this.children=e.children,this.rowIndex=t,this.childFields=e.type.children,this.numChildren=this.childFields.length}[Symbol.iterator](){return this}next(){let e=this.childIndex;return e<this.numChildren?(this.childIndex=e+1,{done:!1,value:[this.childFields[e].name,uM.visit(this.children[e],this.rowIndex)]}):{done:!0,value:null}}}Object.defineProperties(ui.prototype,{[Symbol.toStringTag]:{enumerable:!1,configurable:!1,value:"Row"},[un]:{writable:!0,enumerable:!1,configurable:!1,value:null},[ur]:{writable:!0,enumerable:!1,configurable:!1,value:-1}});class ua{isExtensible(){return!1}deleteProperty(){return!1}preventExtensions(){return!0}ownKeys(e){return e[un].type.children.map(e=>e.name)}has(e,t){return -1!==e[un].type.children.findIndex(e=>e.name===t)}getOwnPropertyDescriptor(e,t){if(-1!==e[un].type.children.findIndex(e=>e.name===t))return{writable:!0,enumerable:!0,configurable:!0}}get(e,t){if(Reflect.has(e,t))return e[t];let n=e[un].type.children.findIndex(e=>e.name===t);if(-1!==n){let r=uM.visit(e[un].children[n],e[ur]);return Reflect.set(e,t,r),r}}set(e,t,n){let r=e[un].type.children.findIndex(e=>e.name===t);return -1!==r?(ut.visit(e[un].children[r],e[ur],n),Reflect.set(e,t,n)):(!!Reflect.has(e,t)||"symbol"==typeof t)&&Reflect.set(e,t,n)}}class us extends lA{}function ul(e){return(t,n)=>t.getValid(n)?e(t,n):null}let uu=(e,t)=>0x100000000*e[t+1]+(e[t]>>>0),uc=e=>new Date(e),ud=(e,t,n)=>{if(n+1>=t.length)return null;let r=t[n],i=t[n+1];return e.subarray(r,i)},uh=({values:e},t)=>uc(864e5*e[t]),uf=({values:e},t)=>uc(uu(e,2*t)),up=({stride:e,values:t},n)=>t[e*n],uy=({values:e},t)=>e[t],ug=({values:e},t)=>1e3*uu(e,2*t),um=({values:e},t)=>uu(e,2*t),ub=({values:e},t)=>{let n;return 0x100000000*(e[(n=2*t)+1]/1e3)+(e[n]>>>0)/1e3},uv=({values:e},t)=>{let n;return 0x100000000*(e[(n=2*t)+1]/1e6)+(e[n]>>>0)/1e6},uw=({values:e},t)=>e[t],u_=({values:e},t)=>e[t],ux=({values:e},t)=>e[t],uS=({values:e},t)=>e[t],uE=(e,t)=>{let n=e.type.typeIdToChildIndex[e.typeIds[t]],r=e.children[n];return uM.visit(r,e.valueOffsets[t])},uC=(e,t)=>{let n=e.type.typeIdToChildIndex[e.typeIds[t]],r=e.children[n];return uM.visit(r,t)},uk=({values:e},t)=>e.subarray(2*t,2*(t+1)),uI=({values:e},t)=>{let n=e[t],r=new Int32Array(2);return r[0]=Math.trunc(n/12),r[1]=Math.trunc(n%12),r};us.prototype.visitNull=ul((e,t)=>null),us.prototype.visitBool=ul(({offset:e,values:t},n)=>{let r=e+n;return(t[r>>3]&1<<r%8)!=0}),us.prototype.visitInt=ul(({values:e},t)=>e[t]),us.prototype.visitInt8=ul(up),us.prototype.visitInt16=ul(up),us.prototype.visitInt32=ul(up),us.prototype.visitInt64=ul(uy),us.prototype.visitUint8=ul(up),us.prototype.visitUint16=ul(up),us.prototype.visitUint32=ul(up),us.prototype.visitUint64=ul(uy),us.prototype.visitFloat=ul(({type:e,values:t},n)=>e.precision!==e_.HALF?t[n]:lL(t[n])),us.prototype.visitFloat16=ul(({stride:e,values:t},n)=>lL(t[e*n])),us.prototype.visitFloat32=ul(up),us.prototype.visitFloat64=ul(up),us.prototype.visitUtf8=ul(({values:e,valueOffsets:t},n)=>{let r=ud(e,t,n);return null!==r?s2(r):null}),us.prototype.visitBinary=ul(({values:e,valueOffsets:t},n)=>ud(e,t,n)),us.prototype.visitFixedSizeBinary=ul(({stride:e,values:t},n)=>t.subarray(e*n,e*(n+1))),us.prototype.visitDate=ul((e,t)=>e.type.unit===ex.DAY?uh(e,t):uf(e,t)),us.prototype.visitDateDay=ul(uh),us.prototype.visitDateMillisecond=ul(uf),us.prototype.visitTimestamp=ul((e,t)=>{switch(e.type.unit){case eS.SECOND:return ug(e,t);case eS.MILLISECOND:return um(e,t);case eS.MICROSECOND:return ub(e,t);case eS.NANOSECOND:return uv(e,t)}}),us.prototype.visitTimestampSecond=ul(ug),us.prototype.visitTimestampMillisecond=ul(um),us.prototype.visitTimestampMicrosecond=ul(ub),us.prototype.visitTimestampNanosecond=ul(uv),us.prototype.visitTime=ul((e,t)=>{switch(e.type.unit){case eS.SECOND:return uw(e,t);case eS.MILLISECOND:return u_(e,t);case eS.MICROSECOND:return ux(e,t);case eS.NANOSECOND:return uS(e,t)}}),us.prototype.visitTimeSecond=ul(uw),us.prototype.visitTimeMillisecond=ul(u_),us.prototype.visitTimeMicrosecond=ul(ux),us.prototype.visitTimeNanosecond=ul(uS),us.prototype.visitDecimal=ul(({values:e,stride:t},n)=>ll.decimal(e.subarray(t*n,t*(n+1)))),us.prototype.visitList=ul((e,t)=>{let{valueOffsets:n,stride:r,children:i}=e,{[t*r]:o,[t*r+1]:a}=n;return new co([i[0].slice(o,a-o)])}),us.prototype.visitStruct=ul((e,t)=>new ui(e,t)),us.prototype.visitUnion=ul((e,t)=>e.type.mode===ew.Dense?uE(e,t):uC(e,t)),us.prototype.visitDenseUnion=ul(uE),us.prototype.visitSparseUnion=ul(uC),us.prototype.visitDictionary=ul((e,t)=>{var n;return null==(n=e.dictionary)?void 0:n.get(e.values[t])}),us.prototype.visitInterval=ul((e,t)=>e.type.unit===eE.DAY_TIME?uk(e,t):uI(e,t)),us.prototype.visitIntervalDayTime=ul(uk),us.prototype.visitIntervalYearMonth=ul(uI),us.prototype.visitFixedSizeList=ul((e,t)=>{let{stride:n,children:r}=e;return new co([r[0].slice(t*n,n)])}),us.prototype.visitMap=ul((e,t)=>{let{valueOffsets:n,children:r}=e,{[t]:i,[t+1]:o}=n;return new uA(r[0].slice(i,o-i))});let uM=new us,uN=Symbol.for("keys"),uT=Symbol.for("vals");class uA{constructor(e){return this[uN]=new co([e.children[0]]).memoize(),this[uT]=e.children[1],new Proxy(this,new uD)}[Symbol.iterator](){return new uO(this[uN],this[uT])}get size(){return this[uN].length}toArray(){return Object.values(this.toJSON())}toJSON(){let e=this[uN],t=this[uT],n={};for(let r=-1,i=e.length;++r<i;)n[e.get(r)]=uM.visit(t,r);return n}toString(){return`{${[...this].map(([e,t])=>`${sK(e)}: ${sK(t)}`).join(", ")}}`}[Symbol.for("nodejs.util.inspect.custom")](){return this.toString()}}class uO{constructor(e,t){this.keys=e,this.vals=t,this.keyIndex=0,this.numKeys=e.length}[Symbol.iterator](){return this}next(){let e=this.keyIndex;return e===this.numKeys?{done:!0,value:null}:(this.keyIndex++,{done:!1,value:[this.keys.get(e),uM.visit(this.vals,e)]})}}class uD{isExtensible(){return!1}deleteProperty(){return!1}preventExtensions(){return!0}ownKeys(e){return e[uN].toArray().map(String)}has(e,t){return e[uN].includes(t)}getOwnPropertyDescriptor(e,t){if(-1!==e[uN].indexOf(t))return{writable:!0,enumerable:!0,configurable:!0}}get(e,t){if(Reflect.has(e,t))return e[t];let n=e[uN].indexOf(t);if(-1!==n){let r=uM.visit(Reflect.get(e,uT),n);return Reflect.set(e,t,r),r}}set(e,t,n){let r=e[uN].indexOf(t);return -1!==r?(ut.visit(Reflect.get(e,uT),r,n),Reflect.set(e,t,n)):!!Reflect.has(e,t)&&Reflect.set(e,t,n)}}function uB(e,t,r,i){let{length:o=0}=e,a="number"!=typeof t?0:t,s="number"!=typeof r?o:r;return a<0&&(a=(a%o+o)%o),s<0&&(s=(s%o+o)%o),s<a&&(n=a,a=s,s=n),s>o&&(s=o),i?i(e,a,s):[a,s]}Object.defineProperties(uA.prototype,{[Symbol.toStringTag]:{enumerable:!1,configurable:!1,value:"Row"},[uN]:{writable:!0,enumerable:!1,configurable:!1,value:null},[uT]:{writable:!0,enumerable:!1,configurable:!1,value:null}});let uP=e=>e!=e;function uL(e){if("object"!=typeof e||null===e)return uP(e)?uP:t=>t===e;if(e instanceof Date){let t=e.valueOf();return e=>e instanceof Date&&e.valueOf()===t}return ArrayBuffer.isView(e)?t=>!!t&&function(e,t){let n=0,r=e.length;if(r!==t.length)return!1;if(r>0)do if(e[n]!==t[n])return!1;while(++n<r)return!0}(e,t):e instanceof Map?function(e){let t=-1,n=[];for(let r of e.values())n[++t]=uL(r);return uR(n)}(e):Array.isArray(e)?function(e){let t=[];for(let n=-1,r=e.length;++n<r;)t[n]=uL(e[n]);return uR(t)}(e):e instanceof co?function(e){let t=[];for(let n=-1,r=e.length;++n<r;)t[n]=uL(e.get(n));return uR(t)}(e):function(e,t=!1){let n=Object.keys(e);if(!t&&0===n.length)return()=>!1;let r=[];for(let t=-1,i=n.length;++t<i;)r[t]=uL(e[n[t]]);return uR(r,n)}(e,!0)}function uR(e,t){return n=>{if(!n||"object"!=typeof n)return!1;switch(n.constructor){case Array:var r=e,i=n;let o=r.length;if(i.length!==o)return!1;for(let e=-1;++e<o;)if(!r[e](i[e]))return!1;return!0;case Map:return uz(e,n,n.keys());case uA:case ui:case Object:case void 0:return uz(e,n,t||Object.keys(n))}return n instanceof co&&function(e,t){let n=e.length;if(t.length!==n)return!1;for(let r=-1;++r<n;)if(!e[r](t.get(r)))return!1;return!0}(e,n)}}function uz(e,t,n){let r=n[Symbol.iterator](),i=t instanceof Map?t.keys():Object.keys(t)[Symbol.iterator](),o=t instanceof Map?t.values():Object.values(t)[Symbol.iterator](),a=0,s=e.length,l=o.next(),u=r.next(),c=i.next();for(;a<s&&!u.done&&!c.done&&!l.done&&u.value===c.value&&e[a](l.value);++a,u=r.next(),c=i.next(),l=o.next());return a===s&&!!u.done&&!!c.done&&!!l.done||(r.return&&r.return(),i.return&&i.return(),o.return&&o.return(),!1)}class uF{constructor(e=0,t){this.numChunks=e,this.getChunkIterator=t,this.chunkIndex=0,this.chunkIterator=this.getChunkIterator(0)}next(){for(;this.chunkIndex<this.numChunks;){let e=this.chunkIterator.next();if(!e.done)return e;++this.chunkIndex<this.numChunks&&(this.chunkIterator=this.getChunkIterator(this.chunkIndex))}return{done:!0,value:null}}[Symbol.iterator](){return this}}function uU(e){return e.reduce((e,t)=>e+t.nullCount,0)}function uV(e){return e.reduce((e,t,n)=>(e[n+1]=e[n]+t.length,e),new Uint32Array(e.length+1))}function u$(e,t,n,r){let i=[];for(let o=-1,a=e.length;++o<a;){let a=e[o],s=t[o],{length:l}=a;if(s>=r)break;if(n>=s+l)continue;if(s>=n&&s+l<=r){i.push(a);continue}let u=Math.max(0,n-s),c=Math.min(r-s,l);i.push(a.slice(u,c-u))}return 0===i.length&&i.push(e[0].slice(0,0)),i}function uj(e,t,n,r){let i=0,o=0,a=t.length-1;do{if(i>=a-1)return n<t[a]?r(e,i,n-t[i]):null;n<t[o=i+Math.trunc((a-i)*.5)]?a=o:i=o}while(i<a)}function uH(e,t){return e.getValid(t)}function uW(e){function t(t,n,r){return e(t[n],r)}return function(e){return uj(this.data,this._offsets,e,t)}}function uY(e){let t;function n(n,r,i){return e(n[r],i,t)}return function(e,r){let i=this.data;t=r;let o=uj(i,this._offsets,e,n);return t=void 0,o}}function uX(e){let t;function n(n,r,i){let o=i,a=0,s=0;for(let i=r-1,l=n.length;++i<l;){let r=n[i];if(~(a=e(r,t,o)))return s+a;o=0,s+=r.length}return -1}return function(e,r){t=e;let i=this.data,o="number"!=typeof r?n(i,0,0):uj(i,this._offsets,r,n);return t=void 0,o}}function uq(e,t,n,r){return(n&1<<r)!=0}function uK(e,t,n,r){return(n&1<<r)>>r}function uG(e,t,n){let r=n.byteLength+7&-8;if(e>0||n.byteLength<r){let i=new Uint8Array(r);return i.set(e%8==0?n.subarray(e>>3):uZ(new uQ(n,e,t,null,uq)).subarray(0,r)),i}return n}function uZ(e){let t=[],n=0,r=0,i=0;for(let o of e)o&&(i|=1<<r),8==++r&&(t[n++]=i,i=r=0);(0===n||r>0)&&(t[n++]=i);let o=new Uint8Array(t.length+7&-8);return o.set(t),o}class uQ{constructor(e,t,n,r,i){this.bytes=e,this.length=n,this.context=r,this.get=i,this.bit=t%8,this.byteIndex=t>>3,this.byte=e[this.byteIndex++],this.index=0}next(){return this.index<this.length?(8===this.bit&&(this.bit=0,this.byte=this.bytes[this.byteIndex++]),{value:this.get(this.context,this.index++,this.byte,this.bit++)}):{done:!0,value:null}}[Symbol.iterator](){return this}}function uJ(e){let t=Math.trunc(e);return t-=t>>>1&0x55555555,((t=(0x33333333&t)+(t>>>2&0x33333333))+(t>>>4)&0xf0f0f0f)*0x1010101>>>24}class u0 extends lA{}function u1(e,t,n){if(void 0===t)return -1;if(null===t)return function(e,t){let{nullBitmap:n}=e;if(!n||e.nullCount<=0)return -1;let r=0;for(let i of new uQ(n,e.offset+(t||0),e.length,n,uq)){if(!i)return r;++r}return -1}(e,n);let r=uM.getVisitFn(e),i=uL(t);for(let t=(n||0)-1,o=e.length;++t<o;)if(i(r(e,t)))return t;return -1}function u2(e,t,n){let r=uM.getVisitFn(e),i=uL(t);for(let t=(n||0)-1,o=e.length;++t<o;)if(i(r(e,t)))return t;return -1}u0.prototype.visitNull=function(e,t){return null===t&&e.length>0?0:-1},u0.prototype.visitBool=u1,u0.prototype.visitInt=u1,u0.prototype.visitInt8=u1,u0.prototype.visitInt16=u1,u0.prototype.visitInt32=u1,u0.prototype.visitInt64=u1,u0.prototype.visitUint8=u1,u0.prototype.visitUint16=u1,u0.prototype.visitUint32=u1,u0.prototype.visitUint64=u1,u0.prototype.visitFloat=u1,u0.prototype.visitFloat16=u1,u0.prototype.visitFloat32=u1,u0.prototype.visitFloat64=u1,u0.prototype.visitUtf8=u1,u0.prototype.visitBinary=u1,u0.prototype.visitFixedSizeBinary=u1,u0.prototype.visitDate=u1,u0.prototype.visitDateDay=u1,u0.prototype.visitDateMillisecond=u1,u0.prototype.visitTimestamp=u1,u0.prototype.visitTimestampSecond=u1,u0.prototype.visitTimestampMillisecond=u1,u0.prototype.visitTimestampMicrosecond=u1,u0.prototype.visitTimestampNanosecond=u1,u0.prototype.visitTime=u1,u0.prototype.visitTimeSecond=u1,u0.prototype.visitTimeMillisecond=u1,u0.prototype.visitTimeMicrosecond=u1,u0.prototype.visitTimeNanosecond=u1,u0.prototype.visitDecimal=u1,u0.prototype.visitList=u1,u0.prototype.visitStruct=u1,u0.prototype.visitUnion=u1,u0.prototype.visitDenseUnion=u2,u0.prototype.visitSparseUnion=u2,u0.prototype.visitDictionary=u1,u0.prototype.visitInterval=u1,u0.prototype.visitIntervalDayTime=u1,u0.prototype.visitIntervalYearMonth=u1,u0.prototype.visitFixedSizeList=u1,u0.prototype.visitMap=u1;let u3=new u0;class u4 extends lA{}function u6(e){let{type:t}=e;if(0===e.nullCount&&1===e.stride&&(t.typeId===ek.Timestamp||t instanceof ld&&64!==t.bitWidth||t instanceof lv&&64!==t.bitWidth||t instanceof lf&&t.precision!==e_.HALF))return new uF(e.data.length,t=>{let n=e.data[t];return n.values.subarray(0,n.length)[Symbol.iterator]()});let n=0;return new uF(e.data.length,t=>{let r=e.data[t].length,i=e.slice(n,n+r);return n+=r,new u8(i)})}class u8{constructor(e){this.vector=e,this.index=0}next(){return this.index<this.vector.length?{value:this.vector.get(this.index++)}:{done:!0,value:null}}[Symbol.iterator](){return this}}u4.prototype.visitNull=u6,u4.prototype.visitBool=u6,u4.prototype.visitInt=u6,u4.prototype.visitInt8=u6,u4.prototype.visitInt16=u6,u4.prototype.visitInt32=u6,u4.prototype.visitInt64=u6,u4.prototype.visitUint8=u6,u4.prototype.visitUint16=u6,u4.prototype.visitUint32=u6,u4.prototype.visitUint64=u6,u4.prototype.visitFloat=u6,u4.prototype.visitFloat16=u6,u4.prototype.visitFloat32=u6,u4.prototype.visitFloat64=u6,u4.prototype.visitUtf8=u6,u4.prototype.visitBinary=u6,u4.prototype.visitFixedSizeBinary=u6,u4.prototype.visitDate=u6,u4.prototype.visitDateDay=u6,u4.prototype.visitDateMillisecond=u6,u4.prototype.visitTimestamp=u6,u4.prototype.visitTimestampSecond=u6,u4.prototype.visitTimestampMillisecond=u6,u4.prototype.visitTimestampMicrosecond=u6,u4.prototype.visitTimestampNanosecond=u6,u4.prototype.visitTime=u6,u4.prototype.visitTimeSecond=u6,u4.prototype.visitTimeMillisecond=u6,u4.prototype.visitTimeMicrosecond=u6,u4.prototype.visitTimeNanosecond=u6,u4.prototype.visitDecimal=u6,u4.prototype.visitList=u6,u4.prototype.visitStruct=u6,u4.prototype.visitUnion=u6,u4.prototype.visitDenseUnion=u6,u4.prototype.visitSparseUnion=u6,u4.prototype.visitDictionary=u6,u4.prototype.visitInterval=u6,u4.prototype.visitIntervalDayTime=u6,u4.prototype.visitIntervalYearMonth=u6,u4.prototype.visitFixedSizeList=u6,u4.prototype.visitMap=u6;let u5=new u4,u9=(e,t)=>e+t;class u7 extends lA{visitNull(e,t){return 0}visitInt(e,t){return e.type.bitWidth/8}visitFloat(e,t){return e.type.ArrayType.BYTES_PER_ELEMENT}visitBool(e,t){return 1/8}visitDecimal(e,t){return e.type.bitWidth/8}visitDate(e,t){return(e.type.unit+1)*4}visitTime(e,t){return e.type.bitWidth/8}visitTimestamp(e,t){return e.type.unit===eS.SECOND?4:8}visitInterval(e,t){return(e.type.unit+1)*4}visitStruct(e,t){return e.children.reduce((e,n)=>e+cn.visit(n,t),0)}visitFixedSizeBinary(e,t){return e.type.byteWidth}visitMap(e,t){return 8+e.children.reduce((e,n)=>e+cn.visit(n,t),0)}visitDictionary(e,t){var n;return e.type.indices.bitWidth/8+((null==(n=e.dictionary)?void 0:n.getByteLength(e.values[t]))||0)}}let ce=({type:e,children:t,typeIds:n,valueOffsets:r},i)=>{let o=e.typeIdToChildIndex[n[i]];return 8+cn.visit(t[o],r[i])},ct=({children:e},t)=>4+cn.visitMany(e,e.map(()=>t)).reduce(u9,0);u7.prototype.visitUtf8=({valueOffsets:e},t)=>8+(e[t+1]-e[t]),u7.prototype.visitBinary=({valueOffsets:e},t)=>8+(e[t+1]-e[t]),u7.prototype.visitList=({valueOffsets:e,stride:t,children:n},r)=>{let i=n[0],{[r*t]:o}=e,{[r*t+1]:a}=e,s=cn.getVisitFn(i.type),l=i.slice(o,a-o),u=8;for(let e=-1,t=a-o;++e<t;)u+=s(l,e);return u},u7.prototype.visitFixedSizeList=({stride:e,children:t},n)=>{let r=t[0],i=r.slice(n*e,e),o=cn.getVisitFn(r.type),a=0;for(let e=-1,t=i.length;++e<t;)a+=o(i,e);return a},u7.prototype.visitUnion=(e,t)=>e.type.mode===ew.Dense?ce(e,t):ct(e,t),u7.prototype.visitDenseUnion=ce,u7.prototype.visitSparseUnion=ct;let cn=new u7,cr={},ci={};class co{constructor(e){var t,n,r;let i=e[0]instanceof co?e.flatMap(e=>e.data):e;if(0===i.length||i.some(e=>!(e instanceof cs)))throw TypeError("Vector constructor expects an Array of Data instances.");let o=null==(t=i[0])?void 0:t.type;switch(i.length){case 0:this._offsets=[0];break;case 1:{let{get:e,set:t,indexOf:n,byteLength:r}=cr[o.typeId],a=i[0];this.isValid=e=>uH(a,e),this.get=t=>e(a,t),this.set=(e,n)=>t(a,e,n),this.indexOf=e=>n(a,e),this.getByteLength=e=>r(a,e),this._offsets=[0,a.length];break}default:Object.setPrototypeOf(this,ci[o.typeId]),this._offsets=uV(i)}this.data=i,this.type=o,this.stride=lT(o),this.numChildren=null!=(r=null==(n=o.children)?void 0:n.length)?r:0,this.length=this._offsets[this._offsets.length-1]}get byteLength(){return -1===this._byteLength&&(this._byteLength=this.data.reduce((e,t)=>e+t.byteLength,0)),this._byteLength}get nullCount(){return -1===this._nullCount&&(this._nullCount=uU(this.data)),this._nullCount}get ArrayType(){return this.type.ArrayType}get[Symbol.toStringTag](){return`${this.VectorName}<${this.type[Symbol.toStringTag]}>`}get VectorName(){return`${ek[this.type.typeId]}Vector`}isValid(e){return!1}get(e){return null}set(e,t){}indexOf(e,t){return -1}includes(e,t){return this.indexOf(e,t)>0}getByteLength(e){return 0}[Symbol.iterator](){return u5.visit(this)}concat(...e){return new co(this.data.concat(e.flatMap(e=>e.data).flat(1/0)))}slice(e,t){return new co(uB(this,e,t,({data:e,_offsets:t},n,r)=>u$(e,t,n,r)))}toJSON(){return[...this]}toArray(){let{type:e,data:t,length:n,stride:r,ArrayType:i}=this;switch(e.typeId){case ek.Int:case ek.Float:case ek.Decimal:case ek.Time:case ek.Timestamp:switch(t.length){case 0:return new i;case 1:return t[0].values.subarray(0,n*r);default:return t.reduce((e,{values:t,length:n})=>(e.array.set(t.subarray(0,n*r),e.offset),e.offset+=n*r,e),{array:new i(n*r),offset:0}).array}}return[...this]}toString(){return`[${[...this].join(",")}]`}getChild(e){var t;return this.getChildAt(null==(t=this.type.children)?void 0:t.findIndex(t=>t.name===e))}getChildAt(e){return e>-1&&e<this.numChildren?new co(this.data.map(({children:t})=>t[e])):null}get isMemoized(){return!!lu.isDictionary(this.type)&&this.data[0].dictionary.isMemoized}memoize(){if(lu.isDictionary(this.type)){let e=new ca(this.data[0].dictionary);return new co(this.data.map(t=>{let n=t.clone();return n.dictionary=e,n}))}return new ca(this)}unmemoize(){if(lu.isDictionary(this.type)&&this.isMemoized){let e=this.data[0].dictionary.unmemoize();return new co(this.data.map(t=>{let n=t.clone();return n.dictionary=e,n}))}return this}}co[Symbol.toStringTag]=(e=>{for(let t of(e.type=lu.prototype,e.data=[],e.length=0,e.stride=1,e.numChildren=0,e._nullCount=-1,e._byteLength=-1,e._offsets=new Uint32Array([0]),e[Symbol.isConcatSpreadable]=!0,Object.keys(ek).map(e=>ek[e]).filter(e=>"number"==typeof e&&e!==ek.NONE))){let n=uM.getVisitFnByTypeId(t),r=ut.getVisitFnByTypeId(t),i=u3.getVisitFnByTypeId(t),o=cn.getVisitFnByTypeId(t);cr[t]={get:n,set:r,indexOf:i,byteLength:o},ci[t]=Object.create(e,{isValid:{value:uW(uH)},get:{value:uW(uM.getVisitFnByTypeId(t))},set:{value:uY(ut.getVisitFnByTypeId(t))},indexOf:{value:uX(u3.getVisitFnByTypeId(t))},getByteLength:{value:uW(cn.getVisitFnByTypeId(t))}})}return"Vector"})(co.prototype);class ca extends co{constructor(e){super(e.data);let t=this.get,n=this.set,r=this.slice,i=Array(this.length);Object.defineProperty(this,"get",{value(e){let n=i[e];if(void 0!==n)return n;let r=t.call(this,e);return i[e]=r,r}}),Object.defineProperty(this,"set",{value(e,t){n.call(this,e,t),i[e]=t}}),Object.defineProperty(this,"slice",{value:(e,t)=>new ca(r.call(this,e,t))}),Object.defineProperty(this,"isMemoized",{value:!0}),Object.defineProperty(this,"unmemoize",{value:()=>new co(this.data)}),Object.defineProperty(this,"memoize",{value:()=>this})}}class cs{constructor(e,t,n,r,i,o=[],a){let s;this.type=e,this.children=o,this.dictionary=a,this.offset=Math.floor(Math.max(t||0,0)),this.length=Math.floor(Math.max(n||0,0)),this._nullCount=Math.floor(Math.max(r||0,-1)),i instanceof cs?(this.stride=i.stride,this.values=i.values,this.typeIds=i.typeIds,this.nullBitmap=i.nullBitmap,this.valueOffsets=i.valueOffsets):(this.stride=lT(e),i&&((s=i[0])&&(this.valueOffsets=s),(s=i[1])&&(this.values=s),(s=i[2])&&(this.nullBitmap=s),(s=i[3])&&(this.typeIds=s))),this.nullable=0!==this._nullCount&&this.nullBitmap&&this.nullBitmap.byteLength>0}get typeId(){return this.type.typeId}get ArrayType(){return this.type.ArrayType}get buffers(){return[this.valueOffsets,this.values,this.nullBitmap,this.typeIds]}get byteLength(){let e=0,{valueOffsets:t,values:n,nullBitmap:r,typeIds:i}=this;return t&&(e+=t.byteLength),n&&(e+=n.byteLength),r&&(e+=r.byteLength),i&&(e+=i.byteLength),this.children.reduce((e,t)=>e+t.byteLength,e)}get nullCount(){let e,t=this._nullCount;return t<=-1&&(e=this.nullBitmap)&&(this._nullCount=t=this.length-function e(t,n,r){if(r-n<=0)return 0;if(r-n<8){let e=0;for(let i of new uQ(t,n,r-n,t,uK))e+=i;return e}let i=r>>3<<3,o=n+(n%8==0?0:8-n%8);return e(t,n,o)+e(t,i,r)+function(e,t,n){let r=0,i=Math.trunc(t),o=new DataView(e.buffer,e.byteOffset,e.byteLength),a=void 0===n?e.byteLength:i+n;for(;a-i>=4;)r+=uJ(o.getUint32(i)),i+=4;for(;a-i>=2;)r+=uJ(o.getUint16(i)),i+=2;for(;a-i>=1;)r+=uJ(o.getUint8(i)),i+=1;return r}(t,o>>3,i-o>>3)}(e,this.offset,this.offset+this.length)),t}getValid(e){if(this.nullable&&this.nullCount>0){let t=this.offset+e;return(this.nullBitmap[t>>3]&1<<t%8)!=0}return!0}setValid(e,t){if(!this.nullable)return t;if(!this.nullBitmap||this.nullBitmap.byteLength<=e>>3){let{nullBitmap:e}=this._changeLengthAndBackfillNullBitmap(this.length);Object.assign(this,{nullBitmap:e,_nullCount:0})}let{nullBitmap:n,offset:r}=this,i=r+e>>3,o=(r+e)%8,a=n[i]>>o&1;return t?0===a&&(n[i]|=1<<o,this._nullCount=this.nullCount+1):1===a&&(n[i]&=~(1<<o),this._nullCount=this.nullCount-1),t}clone(e=this.type,t=this.offset,n=this.length,r=this._nullCount,i=this,o=this.children){return new cs(e,t,n,r,i,o,this.dictionary)}slice(e,t){let{stride:n,typeId:r,children:i}=this,o=(0===this._nullCount)-1,a=16===r?n:1,s=this._sliceBuffers(e,t,n,r);return this.clone(this.type,this.offset+e,t,o,s,0===i.length||this.valueOffsets?i:this._sliceChildren(i,a*e,a*t))}_changeLengthAndBackfillNullBitmap(e){if(this.typeId===ek.Null)return this.clone(this.type,0,e,0);let{length:t,nullCount:n}=this,r=new Uint8Array((e+63&-64)>>3).fill(255,0,t>>3);r[t>>3]=(1<<t-(-8&t))-1,n>0&&r.set(uG(this.offset,t,this.nullBitmap),0);let i=this.buffers;return i[eI.VALIDITY]=r,this.clone(this.type,0,e,n+(e-t),i)}_sliceBuffers(e,t,n,r){let i,{buffers:o}=this;return(i=o[eI.TYPE])&&(o[eI.TYPE]=i.subarray(e,e+t)),(i=o[eI.OFFSET])&&(o[eI.OFFSET]=i.subarray(e,e+t+1))||(i=o[eI.DATA])&&(o[eI.DATA]=6===r?i:i.subarray(n*e,n*(e+t))),o}_sliceChildren(e,t,n){return e.map(e=>e.slice(t,n))}}cs.prototype.children=Object.freeze([]);class cl extends lA{visit(e){return this.getVisitFn(e.type).call(this,e)}visitNull(e){let{type:t,offset:n=0,length:r=0}=e;return new cs(t,n,r,0)}visitBool(e){let{type:t,offset:n=0}=e,r=s9(e.nullBitmap),i=s5(t.ArrayType,e.data),{length:o=i.length>>3,nullCount:a=e.nullBitmap?-1:0}=e;return new cs(t,n,o,a,[void 0,i,r])}visitInt(e){let{type:t,offset:n=0}=e,r=s9(e.nullBitmap),i=s5(t.ArrayType,e.data),{length:o=i.length,nullCount:a=e.nullBitmap?-1:0}=e;return new cs(t,n,o,a,[void 0,i,r])}visitFloat(e){let{type:t,offset:n=0}=e,r=s9(e.nullBitmap),i=s5(t.ArrayType,e.data),{length:o=i.length,nullCount:a=e.nullBitmap?-1:0}=e;return new cs(t,n,o,a,[void 0,i,r])}visitUtf8(e){let{type:t,offset:n=0}=e,r=s9(e.data),i=s9(e.nullBitmap),o=s5(Int32Array,e.valueOffsets),{length:a=o.length-1,nullCount:s=e.nullBitmap?-1:0}=e;return new cs(t,n,a,s,[o,r,i])}visitBinary(e){let{type:t,offset:n=0}=e,r=s9(e.data),i=s9(e.nullBitmap),o=s5(Int32Array,e.valueOffsets),{length:a=o.length-1,nullCount:s=e.nullBitmap?-1:0}=e;return new cs(t,n,a,s,[o,r,i])}visitFixedSizeBinary(e){let{type:t,offset:n=0}=e,r=s9(e.nullBitmap),i=s5(t.ArrayType,e.data),{length:o=i.length/lT(t),nullCount:a=e.nullBitmap?-1:0}=e;return new cs(t,n,o,a,[void 0,i,r])}visitDate(e){let{type:t,offset:n=0}=e,r=s9(e.nullBitmap),i=s5(t.ArrayType,e.data),{length:o=i.length/lT(t),nullCount:a=e.nullBitmap?-1:0}=e;return new cs(t,n,o,a,[void 0,i,r])}visitTimestamp(e){let{type:t,offset:n=0}=e,r=s9(e.nullBitmap),i=s5(t.ArrayType,e.data),{length:o=i.length/lT(t),nullCount:a=e.nullBitmap?-1:0}=e;return new cs(t,n,o,a,[void 0,i,r])}visitTime(e){let{type:t,offset:n=0}=e,r=s9(e.nullBitmap),i=s5(t.ArrayType,e.data),{length:o=i.length/lT(t),nullCount:a=e.nullBitmap?-1:0}=e;return new cs(t,n,o,a,[void 0,i,r])}visitDecimal(e){let{type:t,offset:n=0}=e,r=s9(e.nullBitmap),i=s5(t.ArrayType,e.data),{length:o=i.length/lT(t),nullCount:a=e.nullBitmap?-1:0}=e;return new cs(t,n,o,a,[void 0,i,r])}visitList(e){let{type:t,offset:n=0,child:r}=e,i=s9(e.nullBitmap),o=s5(Int32Array,e.valueOffsets),{length:a=o.length-1,nullCount:s=e.nullBitmap?-1:0}=e;return new cs(t,n,a,s,[o,void 0,i],[r])}visitStruct(e){let{type:t,offset:n=0,children:r=[]}=e,i=s9(e.nullBitmap),{length:o=r.reduce((e,{length:t})=>Math.max(e,t),0),nullCount:a=e.nullBitmap?-1:0}=e;return new cs(t,n,o,a,[void 0,void 0,i],r)}visitUnion(e){let{type:t,offset:n=0,children:r=[]}=e,i=s9(e.nullBitmap),o=s5(t.ArrayType,e.typeIds),{length:a=o.length,nullCount:s=e.nullBitmap?-1:0}=e;return lu.isSparseUnion(t)?new cs(t,n,a,s,[void 0,void 0,i,o],r):new cs(t,n,a,s,[s5(Int32Array,e.valueOffsets),void 0,i,o],r)}visitDictionary(e){let{type:t,offset:n=0}=e,r=s9(e.nullBitmap),i=s5(t.indices.ArrayType,e.data),{dictionary:o=new co([new cl().visit({type:t.dictionary})])}=e,{length:a=i.length,nullCount:s=e.nullBitmap?-1:0}=e;return new cs(t,n,a,s,[void 0,i,r],[],o)}visitInterval(e){let{type:t,offset:n=0}=e,r=s9(e.nullBitmap),i=s5(t.ArrayType,e.data),{length:o=i.length/lT(t),nullCount:a=e.nullBitmap?-1:0}=e;return new cs(t,n,o,a,[void 0,i,r])}visitFixedSizeList(e){let{type:t,offset:n=0,child:r=new cl().visit({type:t.valueType})}=e,i=s9(e.nullBitmap),{length:o=r.length/lT(t),nullCount:a=e.nullBitmap?-1:0}=e;return new cs(t,n,o,a,[void 0,void 0,i],[r])}visitMap(e){let{type:t,offset:n=0,child:r=new cl().visit({type:t.childType})}=e,i=s9(e.nullBitmap),o=s5(Int32Array,e.valueOffsets),{length:a=o.length-1,nullCount:s=e.nullBitmap?-1:0}=e;return new cs(t,n,a,s,[o,void 0,i],[r])}}function cu(e){return new cl().visit(e)}class cc{constructor(e=[],t,n){this.fields=e||[],this.metadata=t||new Map,n||(n=cf(e)),this.dictionaries=n}get[Symbol.toStringTag](){return"Schema"}get names(){return this.fields.map(e=>e.name)}toString(){return`Schema<{ ${this.fields.map((e,t)=>`${t}: ${e}`).join(", ")} }>`}select(e){let t=new Set(e);return new cc(this.fields.filter(e=>t.has(e.name)),this.metadata)}selectAt(e){return new cc(e.map(e=>this.fields[e]).filter(Boolean),this.metadata)}assign(...e){let t=e[0]instanceof cc?e[0]:new cc(Array.isArray(e[0])?e[0]:e),n=[...this.fields],r=ch(ch(new Map,this.metadata),t.metadata),i=t.fields.filter(e=>{let t=n.findIndex(t=>t.name===e.name);return!~t||(n[t]=e.clone({metadata:ch(ch(new Map,n[t].metadata),e.metadata)}))&&!1}),o=cf(i,new Map);return new cc([...n,...i],r,new Map([...this.dictionaries,...o]))}}cc.prototype.fields=null,cc.prototype.metadata=null,cc.prototype.dictionaries=null;class cd{constructor(e,t,n=!1,r){this.name=e,this.type=t,this.nullable=n,this.metadata=r||new Map}static new(...e){let[t,n,r,i]=e;return e[0]&&"object"==typeof e[0]&&({name:t}=e[0],void 0===n&&(n=e[0].type),void 0===r&&(r=e[0].nullable),void 0===i&&(i=e[0].metadata)),new cd(`${t}`,n,r,i)}get typeId(){return this.type.typeId}get[Symbol.toStringTag](){return"Field"}toString(){return`${this.name}: ${this.type}`}clone(...e){let[t,n,r,i]=e;return e[0]&&"object"==typeof e[0]?{name:t=this.name,type:n=this.type,nullable:r=this.nullable,metadata:i=this.metadata}=e[0]:[t=this.name,n=this.type,r=this.nullable,i=this.metadata]=e,cd.new(t,n,r,i)}}function ch(e,t){return new Map([...e||new Map,...t||new Map])}function cf(e,t=new Map){for(let n=-1,r=e.length;++n<r;){let r=e[n].type;if(lu.isDictionary(r))if(t.has(r.id)){if(t.get(r.id)!==r.dictionary)throw Error("Cannot create Schema containing two different dictionaries with the same Id")}else t.set(r.id,r.dictionary);r.children&&r.children.length>0&&cf(r.children,t)}return t}cd.prototype.type=null,cd.prototype.name=null,cd.prototype.nullable=null,cd.prototype.metadata=null;let cp=(e,t)=>(Math.ceil(e)*t+63&-64||64)/t;class cy{constructor(e,t=1){this.buffer=e,this.stride=t,this.BYTES_PER_ELEMENT=e.BYTES_PER_ELEMENT,this.ArrayType=e.constructor,this._resize(this.length=Math.ceil(e.length/t))}get byteLength(){return Math.ceil(this.length*this.stride)*this.BYTES_PER_ELEMENT}get reservedLength(){return this.buffer.length/this.stride}get reservedByteLength(){return this.buffer.byteLength}set(e,t){return this}append(e){return this.set(this.length,e)}reserve(e){if(e>0){this.length+=e;let t=this.stride,n=this.length*t,r=this.buffer.length;n>=r&&this._resize(0===r?cp(+n,this.BYTES_PER_ELEMENT):cp(2*n,this.BYTES_PER_ELEMENT))}return this}flush(e=this.length){e=cp(e*this.stride,this.BYTES_PER_ELEMENT);let t=((e,t=0)=>e.length>=t?e.subarray(0,t):s6(new e.constructor(t),e,0))(this.buffer,e);return this.clear(),t}clear(){return this.length=0,this._resize(0),this}_resize(e){return this.buffer=s6(new this.ArrayType(e),this.buffer)}}cy.prototype.offset=0;class cg extends cy{last(){return this.get(this.length-1)}get(e){return this.buffer[e]}set(e,t){return this.reserve(e-this.length+1),this.buffer[e*this.stride]=t,this}}class cm extends cg{constructor(e=new Uint8Array(0)){super(e,1/8),this.numValid=0}get numInvalid(){return this.length-this.numValid}get(e){return this.buffer[e>>3]>>e%8&1}set(e,t){let{buffer:n}=this.reserve(e-this.length+1),r=e>>3,i=e%8,o=n[r]>>i&1;return t?0===o&&(n[r]|=1<<i,++this.numValid):1===o&&(n[r]&=~(1<<i),--this.numValid),this}clear(){return this.numValid=0,super.clear()}}class cb extends cg{constructor(e=new Int32Array(1)){super(e,1)}append(e){return this.set(this.length-1,e)}set(e,t){let n=this.length-1,r=this.reserve(e-n+1).buffer;return n<e++&&r.fill(r[n],n,e),r[e]=r[e-1]+t,this}flush(e=this.length-1){return e>this.length&&this.set(e-1,0),super.flush(e+1)}}class cv{constructor({type:e,nullValues:t}){this.length=0,this.finished=!1,this.type=e,this.children=[],this.nullValues=t,this.stride=lT(e),this._nulls=new cm,t&&t.length>0&&(this._isValid=function(e){if(!e||e.length<=0)return function(e){return!0};let t="",n=e.filter(e=>e==e);return n.length>0&&(t=`
    switch (x) {${n.map(e=>{var t;return`
        case ${"bigint"!=typeof(t=e)?sK(t):sO?`${sK(t)}n`:`"${sK(t)}"`}:`}).join("")}
            return false;
    }`),e.length!==n.length&&(t=`if (x !== x) return false;
${t}`),Function("x",`${t}
return true;`)}(t))}static throughNode(e){throw Error('"throughNode" not available in this environment')}static throughDOM(e){throw Error('"throughDOM" not available in this environment')}toVector(){return new co([this.flush()])}get ArrayType(){return this.type.ArrayType}get nullCount(){return this._nulls.numInvalid}get numChildren(){return this.children.length}get byteLength(){let e=0,{_offsets:t,_values:n,_nulls:r,_typeIds:i,children:o}=this;return t&&(e+=t.byteLength),n&&(e+=n.byteLength),r&&(e+=r.byteLength),i&&(e+=i.byteLength),o.reduce((e,t)=>e+t.byteLength,e)}get reservedLength(){return this._nulls.reservedLength}get reservedByteLength(){let e=0;return this._offsets&&(e+=this._offsets.reservedByteLength),this._values&&(e+=this._values.reservedByteLength),this._nulls&&(e+=this._nulls.reservedByteLength),this._typeIds&&(e+=this._typeIds.reservedByteLength),this.children.reduce((e,t)=>e+t.reservedByteLength,e)}get valueOffsets(){return this._offsets?this._offsets.buffer:null}get values(){return this._values?this._values.buffer:null}get nullBitmap(){return this._nulls?this._nulls.buffer:null}get typeIds(){return this._typeIds?this._typeIds.buffer:null}append(e){return this.set(this.length,e)}isValid(e){return this._isValid(e)}set(e,t){return this.setValid(e,this.isValid(t))&&this.setValue(e,t),this}setValue(e,t){this._setValue(this,e,t)}setValid(e,t){return this.length=this._nulls.set(e,+t).length,t}addChild(e,t=`${this.numChildren}`){throw Error(`Cannot append children to non-nested type "${this.type}"`)}getChildAt(e){return this.children[e]||null}flush(){let e,t,n,r,{type:i,length:o,nullCount:a,_typeIds:s,_offsets:l,_values:u,_nulls:c}=this;(t=null==s?void 0:s.flush(o))?r=null==l?void 0:l.flush(o):e=(r=null==l?void 0:l.flush(o))?null==u?void 0:u.flush(l.last()):null==u?void 0:u.flush(o),a>0&&(n=null==c?void 0:c.flush(o));let d=this.children.map(e=>e.flush());return this.clear(),cu({type:i,length:o,nullCount:a,children:d,child:d[0],data:e,typeIds:t,nullBitmap:n,valueOffsets:r})}finish(){for(let e of(this.finished=!0,this.children))e.finish();return this}clear(){var e,t,n,r;for(let i of(this.length=0,null==(e=this._nulls)||e.clear(),null==(t=this._values)||t.clear(),null==(n=this._offsets)||n.clear(),null==(r=this._typeIds)||r.clear(),this.children))i.clear();return this}}cv.prototype.length=1,cv.prototype.stride=1,cv.prototype.children=null,cv.prototype.finished=!1,cv.prototype.nullValues=null,cv.prototype._isValid=()=>!0;class cw extends cv{constructor(e){super(e),this._values=new cg(new this.ArrayType(0),this.stride)}setValue(e,t){let n=this._values;return n.reserve(e-n.length+1),super.setValue(e,t)}}class c_ extends cv{constructor(e){super(e),this._pendingLength=0,this._offsets=new cb}setValue(e,t){let n=this._pending||(this._pending=new Map),r=n.get(e);r&&(this._pendingLength-=r.length),this._pendingLength+=t instanceof uA?t[uN].length:t.length,n.set(e,t)}setValid(e,t){return!!super.setValid(e,t)||((this._pending||(this._pending=new Map)).set(e,void 0),!1)}clear(){return this._pendingLength=0,this._pending=void 0,super.clear()}flush(){return this._flush(),super.flush()}finish(){return this._flush(),super.finish()}_flush(){let e=this._pending,t=this._pendingLength;return this._pendingLength=0,this._pending=void 0,e&&e.size>0&&this._flushPending(e,t),this}}class cx extends c_{constructor(e){super(e),this._values=new cy(new Uint8Array(0))}get byteLength(){let e=this._pendingLength+4*this.length;return this._offsets&&(e+=this._offsets.byteLength),this._values&&(e+=this._values.byteLength),this._nulls&&(e+=this._nulls.byteLength),e}setValue(e,t){return super.setValue(e,s9(t))}_flushPending(e,t){let n=this._offsets,r=this._values.reserve(t).buffer,i=0;for(let[t,o]of e)if(void 0===o)n.set(t,0);else{let e=o.length;r.set(o,i),n.set(t,e),i+=e}}}class cS extends cv{constructor(e){super(e),this._values=new cm}setValue(e,t){this._values.set(e,+t)}}class cE extends cw{}cE.prototype._setValue=lq;class cC extends cE{}cC.prototype._setValue=lW;class ck extends cE{}ck.prototype._setValue=lY;class cI extends cw{}cI.prototype._setValue=l6;class cM extends cv{constructor({type:e,nullValues:t,dictionaryHashFunction:n}){super({type:new lN(e.dictionary,e.indices,e.id,e.isOrdered)}),this._nulls=null,this._dictionaryOffset=0,this._keysToIndices=Object.create(null),this.indices=db({type:this.type.indices,nullValues:t}),this.dictionary=db({type:this.type.dictionary,nullValues:null}),"function"==typeof n&&(this.valueToKey=n)}get values(){return this.indices.values}get nullCount(){return this.indices.nullCount}get nullBitmap(){return this.indices.nullBitmap}get byteLength(){return this.indices.byteLength+this.dictionary.byteLength}get reservedLength(){return this.indices.reservedLength+this.dictionary.reservedLength}get reservedByteLength(){return this.indices.reservedByteLength+this.dictionary.reservedByteLength}isValid(e){return this.indices.isValid(e)}setValid(e,t){let n=this.indices;return t=n.setValid(e,t),this.length=n.length,t}setValue(e,t){let n=this._keysToIndices,r=this.valueToKey(t),i=n[r];return void 0===i&&(n[r]=i=this._dictionaryOffset+this.dictionary.append(t).length-1),this.indices.setValue(e,i)}flush(){let e=this.type,t=this._dictionary,n=this.dictionary.toVector(),r=this.indices.flush().clone(e);return r.dictionary=t?t.concat(n):n,this.finished||(this._dictionaryOffset+=n.length),this._dictionary=r.dictionary,this.clear(),r}finish(){return this.indices.finish(),this.dictionary.finish(),this._dictionaryOffset=0,this._keysToIndices=Object.create(null),super.finish()}clear(){return this.indices.clear(),this.dictionary.clear(),super.clear()}valueToKey(e){return"string"==typeof e?e:`${e}`}}class cN extends cw{}cN.prototype._setValue=lX;class cT extends cv{setValue(e,t){let[n]=this.children,r=e*this.stride;for(let e=-1,i=t.length;++e<i;)n.set(r+e,t[e])}addChild(e,t="0"){if(this.numChildren>0)throw Error("FixedSizeListBuilder can only have one child.");let n=this.children.push(e);return this.type=new lk(this.type.listSize,new cd(t,e.type,!0)),n}}class cA extends cw{setValue(e,t){this._values.set(e,t)}}class cO extends cA{setValue(e,t){super.setValue(e,lR(t))}}class cD extends cA{}class cB extends cA{}class cP extends cw{}cP.prototype._setValue=l9;class cL extends cP{}cL.prototype._setValue=l7;class cR extends cP{}cR.prototype._setValue=ue;class cz extends cw{setValue(e,t){this._values.set(e,t)}}class cF extends cz{}class cU extends cz{}class cV extends cz{}class c$ extends cz{}class cj extends cz{}class cH extends cz{}class cW extends cz{}class cY extends cz{}class cX extends c_{constructor(e){super(e),this._offsets=new cb}addChild(e,t="0"){if(this.numChildren>0)throw Error("ListBuilder can only have one child.");return this.children[this.numChildren]=e,this.type=new lx(new cd(t,e.type,!0)),this.numChildren-1}_flushPending(e){let t=this._offsets,[n]=this.children;for(let[r,i]of e)if(void 0===i)t.set(r,0);else{let e=i.length,o=t.set(r,e).buffer[r];for(let t=-1;++t<e;)n.set(o+t,i[t])}}}class cq extends c_{set(e,t){return super.set(e,t)}setValue(e,t){let n=t instanceof Map?t:new Map(Object.entries(t)),r=this._pending||(this._pending=new Map),i=r.get(e);i&&(this._pendingLength-=i.size),this._pendingLength+=n.size,r.set(e,n)}addChild(e,t=`${this.numChildren}`){if(this.numChildren>0)throw Error("ListBuilder can only have one child.");return this.children[this.numChildren]=e,this.type=new lI(new cd(t,e.type,!0),this.type.keysSorted),this.numChildren-1}_flushPending(e){let t=this._offsets,[n]=this.children;for(let[r,i]of e)if(void 0===i)t.set(r,0);else{let{[r]:e,[r+1]:o}=t.set(r,i.size).buffer;for(let t of i.entries())if(n.set(e,t),++e>=o)break}}}class cK extends cv{setValue(e,t){}setValid(e,t){return this.length=Math.max(e+1,this.length),t}}class cG extends cv{setValue(e,t){let{children:n,type:r}=this;switch(Array.isArray(t)||t.constructor){case!0:return r.children.forEach((r,i)=>n[i].set(e,t[i]));case Map:return r.children.forEach((r,i)=>n[i].set(e,t.get(r.name)));default:return r.children.forEach((r,i)=>n[i].set(e,t[r.name]))}}setValid(e,t){return super.setValid(e,t)||this.children.forEach(n=>n.setValid(e,t)),t}addChild(e,t=`${this.numChildren}`){let n=this.children.push(e);return this.type=new lS([...this.type.children,new cd(t,e.type,!0)]),n}}class cZ extends cw{}cZ.prototype._setValue=lJ;class cQ extends cZ{}cQ.prototype._setValue=lK;class cJ extends cZ{}cJ.prototype._setValue=lG;class c0 extends cZ{}c0.prototype._setValue=lZ;class c1 extends cZ{}c1.prototype._setValue=lQ;class c2 extends cw{}c2.prototype._setValue=l4;class c3 extends c2{}c3.prototype._setValue=l0;class c4 extends c2{}c4.prototype._setValue=l1;class c6 extends c2{}c6.prototype._setValue=l2;class c8 extends c2{}c8.prototype._setValue=l3;class c5 extends cv{constructor(e){super(e),this._typeIds=new cg(new Int8Array(0),1),"function"==typeof e.valueToChildTypeId&&(this._valueToChildTypeId=e.valueToChildTypeId)}get typeIdToChildIndex(){return this.type.typeIdToChildIndex}append(e,t){return this.set(this.length,e,t)}set(e,t,n){return void 0===n&&(n=this._valueToChildTypeId(this,t,e)),this.setValid(e,this.isValid(t))&&this.setValue(e,t,n),this}setValue(e,t,n){this._typeIds.set(e,n);let r=this.type.typeIdToChildIndex[n],i=this.children[r];null==i||i.set(e,t)}addChild(e,t=`${this.children.length}`){let n=this.children.push(e),{type:{children:r,mode:i,typeIds:o}}=this,a=[...r,new cd(t,e.type)];return this.type=new lE(i,[...o,n],a),n}_valueToChildTypeId(e,t,n){throw Error("Cannot map UnionBuilder value to child typeId. Pass the `childTypeId` as the second argument to unionBuilder.append(), or supply a `valueToChildTypeId` function as part of the UnionBuilder constructor options.")}}class c9 extends c5{}class c7 extends c5{constructor(e){super(e),this._offsets=new cg(new Int32Array(0))}setValue(e,t,n){let r=this._typeIds.set(e,n).buffer[e],i=this.getChildAt(this.type.typeIdToChildIndex[r]),o=this._offsets.set(e,i.length).buffer[e];null==i||i.set(o,t)}}class de extends c_{constructor(e){super(e),this._values=new cy(new Uint8Array(0))}get byteLength(){let e=this._pendingLength+4*this.length;return this._offsets&&(e+=this._offsets.byteLength),this._values&&(e+=this._values.byteLength),this._nulls&&(e+=this._nulls.byteLength),e}setValue(e,t){return super.setValue(e,s3.encode(t))}_flushPending(e,t){}}de.prototype._flushPending=cx.prototype._flushPending;let dt=new class extends lA{visitNull(){return cK}visitBool(){return cS}visitInt(){return cz}visitInt8(){return cF}visitInt16(){return cU}visitInt32(){return cV}visitInt64(){return c$}visitUint8(){return cj}visitUint16(){return cH}visitUint32(){return cW}visitUint64(){return cY}visitFloat(){return cA}visitFloat16(){return cO}visitFloat32(){return cD}visitFloat64(){return cB}visitUtf8(){return de}visitBinary(){return cx}visitFixedSizeBinary(){return cN}visitDate(){return cE}visitDateDay(){return cC}visitDateMillisecond(){return ck}visitTimestamp(){return cZ}visitTimestampSecond(){return cQ}visitTimestampMillisecond(){return cJ}visitTimestampMicrosecond(){return c0}visitTimestampNanosecond(){return c1}visitTime(){return c2}visitTimeSecond(){return c3}visitTimeMillisecond(){return c4}visitTimeMicrosecond(){return c6}visitTimeNanosecond(){return c8}visitDecimal(){return cI}visitList(){return cX}visitStruct(){return cG}visitUnion(){return c5}visitDenseUnion(){return c7}visitSparseUnion(){return c9}visitDictionary(){return cM}visitInterval(){return cP}visitIntervalDayTime(){return cL}visitIntervalYearMonth(){return cR}visitFixedSizeList(){return cT}visitMap(){return cq}};class dn{constructor(...e){switch(e.length){case 2:if([this.schema]=e,!(this.schema instanceof cc)||([,this.data=cu({nullCount:0,type:new lS(this.schema.fields),children:this.schema.fields.map(e=>cu({type:e.type,nullCount:0}))})]=e,!(this.data instanceof cs)))throw TypeError("RecordBatch constructor expects a [Schema, Data] pair.");[this.schema,this.data]=dr(this.schema,this.data.children);break;case 1:{let[t]=e,{fields:n,children:r,length:i}=Object.keys(t).reduce((e,n,r)=>(e.children[r]=t[n],e.length=Math.max(e.length,t[n].length),e.fields[r]=cd.new({name:n,type:t[n].type,nullable:!0}),e),{length:0,fields:[],children:[]}),o=new cc(n),a=cu({type:new lS(n),length:i,children:r,nullCount:0});[this.schema,this.data]=dr(o,a.children,i);break}default:throw TypeError("RecordBatch constructor expects an Object mapping names to child Data, or a [Schema, Data] pair.")}}get dictionaries(){return this._dictionaries||(this._dictionaries=function e(t,n,r=new Map){for(let i=-1,o=t.length;++i<o;){let o=t[i].type,a=n[i];if(lu.isDictionary(o))if(r.has(o.id)){if(r.get(o.id)!==a.dictionary)throw Error("Cannot create Schema containing two different dictionaries with the same Id")}else a.dictionary&&r.set(o.id,a.dictionary);o.children&&o.children.length>0&&e(o.children,a.children,r)}return r}(this.schema.fields,this.data.children))}get numCols(){return this.schema.fields.length}get numRows(){return this.data.length}get nullCount(){return this.data.nullCount}isValid(e){return this.data.getValid(e)}get(e){return uM.visit(this.data,e)}set(e,t){return ut.visit(this.data,e,t)}indexOf(e,t){return u3.visit(this.data,e,t)}getByteLength(e){return cn.visit(this.data,e)}[Symbol.iterator](){return u5.visit(new co([this.data]))}toArray(){return[...this]}concat(...e){return new dw(this.schema,[this,...e])}slice(e,t){let[n]=new co([this.data]).slice(e,t).data;return new dn(this.schema,n)}getChild(e){var t;return this.getChildAt(null==(t=this.schema.fields)?void 0:t.findIndex(t=>t.name===e))}getChildAt(e){return e>-1&&e<this.schema.fields.length?new co([this.data.children[e]]):null}setChild(e,t){var n;return this.setChildAt(null==(n=this.schema.fields)?void 0:n.findIndex(t=>t.name===e),t)}setChildAt(e,t){let n=this.schema,r=this.data;if(e>-1&&e<this.numCols){t||(t=new co([cu({type:new lc,length:this.numRows})]));let i=n.fields.slice(),o=r.children.slice(),a=i[e].clone({type:t.type});[i[e],o[e]]=[a,t.data[0]],n=new cc(i,new Map(this.schema.metadata)),r=cu({type:new lS(i),children:o})}return new dn(n,r)}select(e){let t=this.schema.select(e),n=new lS(t.fields),r=[];for(let t of e){let e=this.schema.fields.findIndex(e=>e.name===t);~e&&(r[e]=this.data.children[e])}return new dn(t,cu({type:n,length:this.numRows,children:r}))}selectAt(e){let t=this.schema.selectAt(e),n=e.map(e=>this.data.children[e]).filter(Boolean),r=cu({type:new lS(t.fields),length:this.numRows,children:n});return new dn(t,r)}}function dr(e,t,n=t.reduce((e,t)=>Math.max(e,t.length),0)){var r;let i=[...e.fields],o=[...t],a=(n+63&-64)>>3;for(let[s,l]of e.fields.entries()){let e=t[s];e&&e.length===n||(i[s]=l.clone({nullable:!0}),o[s]=null!=(r=null==e?void 0:e._changeLengthAndBackfillNullBitmap(n))?r:cu({type:l.type,length:n,nullCount:n,nullBitmap:new Uint8Array(a)}))}return[e.assign(i),cu({type:new lS(i),length:n,children:o})]}dn[Symbol.toStringTag]=((H=dn.prototype)._nullCount=-1,H[Symbol.isConcatSpreadable]=!0,"RecordBatch");class di extends dn{constructor(e){super(e,cu({type:new lS(e.fields),nullCount:0,children:e.fields.map(e=>cu({type:e.type}))}))}}class da extends lA{compareSchemas(e,t){return e===t||t instanceof e.constructor&&this.compareManyFields(e.fields,t.fields)}compareManyFields(e,t){return e===t||Array.isArray(e)&&Array.isArray(t)&&e.length===t.length&&e.every((e,n)=>this.compareFields(e,t[n]))}compareFields(e,t){return e===t||t instanceof e.constructor&&e.name===t.name&&e.nullable===t.nullable&&this.visit(e.type,t.type)}}function ds(e,t){return t instanceof e.constructor}function dl(e,t){return e===t||ds(e,t)}function du(e,t){return e===t||ds(e,t)&&e.bitWidth===t.bitWidth&&e.isSigned===t.isSigned}function dc(e,t){return e===t||ds(e,t)&&e.precision===t.precision}function dd(e,t){return e===t||ds(e,t)&&e.unit===t.unit}function dh(e,t){return e===t||ds(e,t)&&e.unit===t.unit&&e.timezone===t.timezone}function df(e,t){return e===t||ds(e,t)&&e.unit===t.unit&&e.bitWidth===t.bitWidth}function dp(e,t){return e===t||ds(e,t)&&e.mode===t.mode&&e.typeIds.every((e,n)=>e===t.typeIds[n])&&dg.compareManyFields(e.children,t.children)}function dy(e,t){return e===t||ds(e,t)&&e.unit===t.unit}da.prototype.visitNull=dl,da.prototype.visitBool=dl,da.prototype.visitInt=du,da.prototype.visitInt8=du,da.prototype.visitInt16=du,da.prototype.visitInt32=du,da.prototype.visitInt64=du,da.prototype.visitUint8=du,da.prototype.visitUint16=du,da.prototype.visitUint32=du,da.prototype.visitUint64=du,da.prototype.visitFloat=dc,da.prototype.visitFloat16=dc,da.prototype.visitFloat32=dc,da.prototype.visitFloat64=dc,da.prototype.visitUtf8=dl,da.prototype.visitBinary=dl,da.prototype.visitFixedSizeBinary=function(e,t){return e===t||ds(e,t)&&e.byteWidth===t.byteWidth},da.prototype.visitDate=dd,da.prototype.visitDateDay=dd,da.prototype.visitDateMillisecond=dd,da.prototype.visitTimestamp=dh,da.prototype.visitTimestampSecond=dh,da.prototype.visitTimestampMillisecond=dh,da.prototype.visitTimestampMicrosecond=dh,da.prototype.visitTimestampNanosecond=dh,da.prototype.visitTime=df,da.prototype.visitTimeSecond=df,da.prototype.visitTimeMillisecond=df,da.prototype.visitTimeMicrosecond=df,da.prototype.visitTimeNanosecond=df,da.prototype.visitDecimal=dl,da.prototype.visitList=function(e,t){return e===t||ds(e,t)&&e.children.length===t.children.length&&dg.compareManyFields(e.children,t.children)},da.prototype.visitStruct=function(e,t){return e===t||ds(e,t)&&e.children.length===t.children.length&&dg.compareManyFields(e.children,t.children)},da.prototype.visitUnion=dp,da.prototype.visitDenseUnion=dp,da.prototype.visitSparseUnion=dp,da.prototype.visitDictionary=function(e,t){return e===t||ds(e,t)&&e.id===t.id&&e.isOrdered===t.isOrdered&&dg.visit(e.indices,t.indices)&&dg.visit(e.dictionary,t.dictionary)},da.prototype.visitInterval=dy,da.prototype.visitIntervalDayTime=dy,da.prototype.visitIntervalYearMonth=dy,da.prototype.visitFixedSizeList=function(e,t){return e===t||ds(e,t)&&e.listSize===t.listSize&&e.children.length===t.children.length&&dg.compareManyFields(e.children,t.children)},da.prototype.visitMap=function(e,t){return e===t||ds(e,t)&&e.keysSorted===t.keysSorted&&e.children.length===t.children.length&&dg.compareManyFields(e.children,t.children)};let dg=new da;function dm(e,t){return dg.compareSchemas(e,t)}function db(e){let t=e.type,n=new(dt.getVisitFn(t)())(e);if(t.children&&t.children.length>0){let r=e.children||[],i={nullValues:e.nullValues},o=Array.isArray(r)?(e,t)=>r[t]||i:({name:e})=>r[e]||i;for(let[e,r]of t.children.entries()){let{type:t}=r,i=o(r,e);n.children.push(db(Object.assign(Object.assign({},i),{type:t})))}}return n}function dv(e,t){return function(e,t){let n=[...e.fields],r=[],i={numBatches:t.reduce((e,t)=>Math.max(e,t.length),0)},o=0,a=0,s=-1,l=t.length,u,c=[];for(;i.numBatches-- >0;){for(a=1/0,s=-1;++s<l;)c[s]=u=t[s].shift(),a=Math.min(a,u?u.length:a);Number.isFinite(a)&&(c=function(e,t,n,r,i){var o;let a=(t+63&-64)>>3;for(let s=-1,l=r.length;++s<l;){let l=n[s],u=null==l?void 0:l.length;if(u>=t)u===t?n[s]=l:(n[s]=l.slice(0,t),i.numBatches=Math.max(i.numBatches,r[s].unshift(l.slice(t,u-t))));else{let r=e[s];e[s]=r.clone({nullable:!0}),n[s]=null!=(o=null==l?void 0:l._changeLengthAndBackfillNullBitmap(t))?o:cu({type:r.type,length:t,nullCount:t,nullBitmap:new Uint8Array(a)})}}return n}(n,a,c,t,i),a>0&&(r[o++]=cu({type:new lS(n),length:a,nullCount:0,children:c.slice()})))}return[e=e.assign(n),r.map(t=>new dn(e,t))]}(e,t.map(e=>e.data.concat()))}class dw{constructor(...e){var t,n;let r,i;if(0===e.length)return this.batches=[],this.schema=new cc([]),this._offsets=[0],this;e[0]instanceof cc&&(r=e.shift()),e[e.length-1]instanceof Uint32Array&&(i=e.pop());let o=e=>{if(e){if(e instanceof dn)return[e];else if(e instanceof dw)return e.batches;else if(e instanceof cs){if(e.type instanceof lS)return[new dn(new cc(e.type.children),e)]}else if(Array.isArray(e))return e.flatMap(e=>o(e));else if("function"==typeof e[Symbol.iterator])return[...e].flatMap(e=>o(e));else if("object"==typeof e){let t=Object.keys(e),n=t.map(t=>new co([e[t]])),[,r]=dv(new cc(t.map((e,t)=>new cd(String(e),n[t].type))),n);return 0===r.length?[new dn(e)]:r}}return[]},a=e.flatMap(e=>o(e));if(!((r=null!=(n=null!=r?r:null==(t=a[0])?void 0:t.schema)?n:new cc([]))instanceof cc))throw TypeError("Table constructor expects a [Schema, RecordBatch[]] pair.");for(let e of a){if(!(e instanceof dn))throw TypeError("Table constructor expects a [Schema, RecordBatch[]] pair.");if(!dm(r,e.schema))throw TypeError("Table and inner RecordBatch schemas must be equivalent.")}this.schema=r,this.batches=a,this._offsets=null!=i?i:uV(this.data)}get data(){return this.batches.map(({data:e})=>e)}get numCols(){return this.schema.fields.length}get numRows(){return this.data.reduce((e,t)=>e+t.length,0)}get nullCount(){return -1===this._nullCount&&(this._nullCount=uU(this.data)),this._nullCount}isValid(e){return!1}get(e){return null}set(e,t){}indexOf(e,t){return -1}getByteLength(e){return 0}[Symbol.iterator](){return this.batches.length>0?u5.visit(new co(this.data)):[][Symbol.iterator]()}toArray(){return[...this]}toString(){return`[
  ${this.toArray().join(",\n  ")}
]`}concat(...e){let t=this.schema;return new dw(t,this.data.concat(e.flatMap(({data:e})=>e)).map(e=>new dn(t,e)))}slice(e,t){let n=this.schema;return[e,t]=uB({length:this.numRows},e,t),new dw(n,u$(this.data,this._offsets,e,t).map(e=>new dn(n,e)))}getChild(e){return this.getChildAt(this.schema.fields.findIndex(t=>t.name===e))}getChildAt(e){if(e>-1&&e<this.schema.fields.length){let t=this.data.map(t=>t.children[e]);if(0===t.length){let{type:n}=this.schema.fields[e],r=cu({type:n,length:0,nullCount:0});t.push(r._changeLengthAndBackfillNullBitmap(this.numRows))}return new co(t)}return null}setChild(e,t){var n;return this.setChildAt(null==(n=this.schema.fields)?void 0:n.findIndex(t=>t.name===e),t)}setChildAt(e,t){let n=this.schema,r=[...this.batches];if(e>-1&&e<this.numCols){t||(t=new co([cu({type:new lc,length:this.numRows})]));let i=n.fields.slice(),o=i[e].clone({type:t.type}),a=this.schema.fields.map((e,t)=>this.getChildAt(t));[i[e],a[e]]=[o,t],[n,r]=dv(n,a)}return new dw(n,r)}select(e){let t=this.schema.fields.reduce((e,t,n)=>e.set(t.name,n),new Map);return this.selectAt(e.map(e=>t.get(e)).filter(e=>e>-1))}selectAt(e){return new dw(this.schema.selectAt(e),this.batches.map(t=>t.selectAt(e)))}assign(e){let t=this.schema.fields,[n,r]=e.schema.fields.reduce((e,n,r)=>{let[i,o]=e,a=t.findIndex(e=>e.name===n.name);return~a?o[a]=r:i.push(r),e},[[],[]]);return new dw(...dv(this.schema.assign(e.schema),[...t.map((e,t)=>[t,r[t]]).map(([t,n])=>void 0===n?this.getChildAt(t):e.getChildAt(n)),...n.map(t=>e.getChildAt(t))].filter(Boolean)))}}dw[Symbol.toStringTag]=((W=dw.prototype).schema=null,W.batches=[],W._offsets=new Uint32Array([0]),W._nullCount=-1,W[Symbol.isConcatSpreadable]=!0,W.isValid=uW(uH),W.get=uW(uM.getVisitFn(ek.Struct)),W.set=uY(ut.getVisitFn(ek.Struct)),W.indexOf=uX(u3.getVisitFn(ek.Struct)),W.getByteLength=uW(cn.getVisitFn(ek.Struct)),"Table");class d_{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}offset(){return this.bb.readInt64(this.bb_pos)}metaDataLength(){return this.bb.readInt32(this.bb_pos+8)}bodyLength(){return this.bb.readInt64(this.bb_pos+16)}static sizeOf(){return 24}static createBlock(e,t,n,r){return e.prep(8,24),e.writeInt64(r),e.pad(4),e.writeInt32(n),e.writeInt64(t),e.offset()}}let dx=new Int32Array(2),dS=new Float32Array(dx.buffer),dE=new Float64Array(dx.buffer),dC=1===new Uint16Array(new Uint8Array([1,0]).buffer)[0];class dk{constructor(e,t){this.low=0|e,this.high=0|t}static create(e,t){return 0==e&&0==t?dk.ZERO:new dk(e,t)}toFloat64(){return(this.low>>>0)+0x100000000*this.high}equals(e){return this.low==e.low&&this.high==e.high}}dk.ZERO=new dk(0,0),(Y=eM||(eM={}))[Y.UTF8_BYTES=1]="UTF8_BYTES",Y[Y.UTF16_STRING=2]="UTF16_STRING";class dI{constructor(e){this.bytes_=e,this.position_=0}static allocate(e){return new dI(new Uint8Array(e))}clear(){this.position_=0}bytes(){return this.bytes_}position(){return this.position_}setPosition(e){this.position_=e}capacity(){return this.bytes_.length}readInt8(e){return this.readUint8(e)<<24>>24}readUint8(e){return this.bytes_[e]}readInt16(e){return this.readUint16(e)<<16>>16}readUint16(e){return this.bytes_[e]|this.bytes_[e+1]<<8}readInt32(e){return this.bytes_[e]|this.bytes_[e+1]<<8|this.bytes_[e+2]<<16|this.bytes_[e+3]<<24}readUint32(e){return this.readInt32(e)>>>0}readInt64(e){return new dk(this.readInt32(e),this.readInt32(e+4))}readUint64(e){return new dk(this.readUint32(e),this.readUint32(e+4))}readFloat32(e){return dx[0]=this.readInt32(e),dS[0]}readFloat64(e){return dx[+!dC]=this.readInt32(e),dx[+!!dC]=this.readInt32(e+4),dE[0]}writeInt8(e,t){this.bytes_[e]=t}writeUint8(e,t){this.bytes_[e]=t}writeInt16(e,t){this.bytes_[e]=t,this.bytes_[e+1]=t>>8}writeUint16(e,t){this.bytes_[e]=t,this.bytes_[e+1]=t>>8}writeInt32(e,t){this.bytes_[e]=t,this.bytes_[e+1]=t>>8,this.bytes_[e+2]=t>>16,this.bytes_[e+3]=t>>24}writeUint32(e,t){this.bytes_[e]=t,this.bytes_[e+1]=t>>8,this.bytes_[e+2]=t>>16,this.bytes_[e+3]=t>>24}writeInt64(e,t){this.writeInt32(e,t.low),this.writeInt32(e+4,t.high)}writeUint64(e,t){this.writeUint32(e,t.low),this.writeUint32(e+4,t.high)}writeFloat32(e,t){dS[0]=t,this.writeInt32(e,dx[0])}writeFloat64(e,t){dE[0]=t,this.writeInt32(e,dx[+!dC]),this.writeInt32(e+4,dx[+!!dC])}getBufferIdentifier(){if(this.bytes_.length<this.position_+4+4)throw Error("FlatBuffers: ByteBuffer is too short to contain an identifier.");let e="";for(let t=0;t<4;t++)e+=String.fromCharCode(this.readInt8(this.position_+4+t));return e}__offset(e,t){let n=e-this.readInt32(e);return t<this.readInt16(n)?this.readInt16(n+t):0}__union(e,t){return e.bb_pos=t+this.readInt32(t),e.bb=this,e}__string(e,t){e+=this.readInt32(e);let n=this.readInt32(e),r="",i=0;if(e+=4,t===eM.UTF8_BYTES)return this.bytes_.subarray(e,e+n);for(;i<n;){let t,n=this.readUint8(e+i++);if(n<192)t=n;else{let r=this.readUint8(e+i++);if(n<224)t=(31&n)<<6|63&r;else{let o=this.readUint8(e+i++);t=n<240?(15&n)<<12|(63&r)<<6|63&o:(7&n)<<18|(63&r)<<12|(63&o)<<6|63&this.readUint8(e+i++)}}t<65536?r+=String.fromCharCode(t):(t-=65536,r+=String.fromCharCode((t>>10)+55296,(1023&t)+56320))}return r}__union_with_string(e,t){return"string"==typeof e?this.__string(t):this.__union(e,t)}__indirect(e){return e+this.readInt32(e)}__vector(e){return e+this.readInt32(e)+4}__vector_len(e){return this.readInt32(e+this.readInt32(e))}__has_identifier(e){if(4!=e.length)throw Error("FlatBuffers: file identifier must be length 4");for(let t=0;t<4;t++)if(e.charCodeAt(t)!=this.readInt8(this.position()+4+t))return!1;return!0}createLong(e,t){return dk.create(e,t)}createScalarList(e,t){let n=[];for(let r=0;r<t;++r)null!==e(r)&&n.push(e(r));return n}createObjList(e,t){let n=[];for(let r=0;r<t;++r){let t=e(r);null!==t&&n.push(t.unpack())}return n}}class dM{constructor(e){let t;this.minalign=1,this.vtable=null,this.vtable_in_use=0,this.isNested=!1,this.object_start=0,this.vtables=[],this.vector_num_elems=0,this.force_defaults=!1,this.string_maps=null,t=e||1024,this.bb=dI.allocate(t),this.space=t}clear(){this.bb.clear(),this.space=this.bb.capacity(),this.minalign=1,this.vtable=null,this.vtable_in_use=0,this.isNested=!1,this.object_start=0,this.vtables=[],this.vector_num_elems=0,this.force_defaults=!1,this.string_maps=null}forceDefaults(e){this.force_defaults=e}dataBuffer(){return this.bb}asUint8Array(){return this.bb.bytes().subarray(this.bb.position(),this.bb.position()+this.offset())}prep(e,t){e>this.minalign&&(this.minalign=e);let n=~(this.bb.capacity()-this.space+t)+1&e-1;for(;this.space<n+e+t;){let e=this.bb.capacity();this.bb=dM.growByteBuffer(this.bb),this.space+=this.bb.capacity()-e}this.pad(n)}pad(e){for(let t=0;t<e;t++)this.bb.writeInt8(--this.space,0)}writeInt8(e){this.bb.writeInt8(this.space-=1,e)}writeInt16(e){this.bb.writeInt16(this.space-=2,e)}writeInt32(e){this.bb.writeInt32(this.space-=4,e)}writeInt64(e){this.bb.writeInt64(this.space-=8,e)}writeFloat32(e){this.bb.writeFloat32(this.space-=4,e)}writeFloat64(e){this.bb.writeFloat64(this.space-=8,e)}addInt8(e){this.prep(1,0),this.writeInt8(e)}addInt16(e){this.prep(2,0),this.writeInt16(e)}addInt32(e){this.prep(4,0),this.writeInt32(e)}addInt64(e){this.prep(8,0),this.writeInt64(e)}addFloat32(e){this.prep(4,0),this.writeFloat32(e)}addFloat64(e){this.prep(8,0),this.writeFloat64(e)}addFieldInt8(e,t,n){(this.force_defaults||t!=n)&&(this.addInt8(t),this.slot(e))}addFieldInt16(e,t,n){(this.force_defaults||t!=n)&&(this.addInt16(t),this.slot(e))}addFieldInt32(e,t,n){(this.force_defaults||t!=n)&&(this.addInt32(t),this.slot(e))}addFieldInt64(e,t,n){(this.force_defaults||!t.equals(n))&&(this.addInt64(t),this.slot(e))}addFieldFloat32(e,t,n){(this.force_defaults||t!=n)&&(this.addFloat32(t),this.slot(e))}addFieldFloat64(e,t,n){(this.force_defaults||t!=n)&&(this.addFloat64(t),this.slot(e))}addFieldOffset(e,t,n){(this.force_defaults||t!=n)&&(this.addOffset(t),this.slot(e))}addFieldStruct(e,t,n){t!=n&&(this.nested(t),this.slot(e))}nested(e){if(e!=this.offset())throw Error("FlatBuffers: struct must be serialized inline.")}notNested(){if(this.isNested)throw Error("FlatBuffers: object serialization must not be nested.")}slot(e){null!==this.vtable&&(this.vtable[e]=this.offset())}offset(){return this.bb.capacity()-this.space}static growByteBuffer(e){let t=e.capacity();if(0xc0000000&t)throw Error("FlatBuffers: cannot grow buffer beyond 2 gigabytes.");let n=t<<1,r=dI.allocate(n);return r.setPosition(n-t),r.bytes().set(e.bytes(),n-t),r}addOffset(e){this.prep(4,0),this.writeInt32(this.offset()-e+4)}startObject(e){this.notNested(),null==this.vtable&&(this.vtable=[]),this.vtable_in_use=e;for(let t=0;t<e;t++)this.vtable[t]=0;this.isNested=!0,this.object_start=this.offset()}endObject(){if(null==this.vtable||!this.isNested)throw Error("FlatBuffers: endObject called without startObject");this.addInt32(0);let e=this.offset(),t=this.vtable_in_use-1;for(;t>=0&&0==this.vtable[t];t--);let n=t+1;for(;t>=0;t--)this.addInt16(0!=this.vtable[t]?e-this.vtable[t]:0);this.addInt16(e-this.object_start);let r=(n+2)*2;this.addInt16(r);let i=0,o=this.space;n:for(t=0;t<this.vtables.length;t++){let e=this.bb.capacity()-this.vtables[t];if(r==this.bb.readInt16(e)){for(let t=2;t<r;t+=2)if(this.bb.readInt16(o+t)!=this.bb.readInt16(e+t))continue n;i=this.vtables[t];break}}return i?(this.space=this.bb.capacity()-e,this.bb.writeInt32(this.space,i-e)):(this.vtables.push(this.offset()),this.bb.writeInt32(this.bb.capacity()-e,this.offset()-e)),this.isNested=!1,e}finish(e,t,n){let r=4*!!n;if(t){if(this.prep(this.minalign,8+r),4!=t.length)throw Error("FlatBuffers: file identifier must be length 4");for(let e=3;e>=0;e--)this.writeInt8(t.charCodeAt(e))}this.prep(this.minalign,4+r),this.addOffset(e),r&&this.addInt32(this.bb.capacity()-this.space),this.bb.setPosition(this.space)}finishSizePrefixed(e,t){this.finish(e,t,!0)}requiredField(e,t){let n=this.bb.capacity()-e,r=n-this.bb.readInt32(n);if(0==this.bb.readInt16(r+t))throw Error("FlatBuffers: field "+t+" must be set")}startVector(e,t,n){this.notNested(),this.vector_num_elems=t,this.prep(4,e*t),this.prep(n,e*t)}endVector(){return this.writeInt32(this.vector_num_elems),this.offset()}createSharedString(e){if(!e)return 0;if(this.string_maps||(this.string_maps=new Map),this.string_maps.has(e))return this.string_maps.get(e);let t=this.createString(e);return this.string_maps.set(e,t),t}createString(e){let t;if(!e)return 0;if(e instanceof Uint8Array)t=e;else{t=[];let n=0;for(;n<e.length;){let r,i=e.charCodeAt(n++);(r=i<55296||i>=56320?i:(i<<10)+e.charCodeAt(n++)+-0x35fdc00)<128?t.push(r):(r<2048?t.push(r>>6&31|192):(r<65536?t.push(r>>12&15|224):t.push(r>>18&7|240,r>>12&63|128),t.push(r>>6&63|128)),t.push(63&r|128))}}this.addInt8(0),this.startVector(1,t.length,1),this.bb.setPosition(this.space-=t.length);for(let e=0,n=this.space,r=this.bb.bytes();e<t.length;e++)r[n++]=t[e];return this.endVector()}createLong(e,t){return dk.create(e,t)}createObjectOffset(e){return null===e?0:"string"==typeof e?this.createString(e):e.pack(this)}createObjectOffsetList(e){let t=[];for(let n=0;n<e.length;++n){let r=e[n];if(null!==r)t.push(this.createObjectOffset(r));else throw Error("FlatBuffers: Argument for createObjectOffsetList cannot contain null.")}return t}createStructOffsetList(e,t){return t(this,e.length),this.createObjectOffsetList(e),this.endVector()}}class dN{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsKeyValue(e,t){return(t||new dN).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsKeyValue(e,t){return e.setPosition(e.position()+4),(t||new dN).__init(e.readInt32(e.position())+e.position(),e)}key(e){let t=this.bb.__offset(this.bb_pos,4);return t?this.bb.__string(this.bb_pos+t,e):null}value(e){let t=this.bb.__offset(this.bb_pos,6);return t?this.bb.__string(this.bb_pos+t,e):null}static startKeyValue(e){e.startObject(2)}static addKey(e,t){e.addFieldOffset(0,t,0)}static addValue(e,t){e.addFieldOffset(1,t,0)}static endKeyValue(e){return e.endObject()}static createKeyValue(e,t,n){return dN.startKeyValue(e),dN.addKey(e,t),dN.addValue(e,n),dN.endKeyValue(e)}}(X=eN||(eN={}))[X.V1=0]="V1",X[X.V2=1]="V2",X[X.V3=2]="V3",X[X.V4=3]="V4",X[X.V5=4]="V5",(q=eT||(eT={}))[q.Little=0]="Little",q[q.Big=1]="Big",(K=eA||(eA={}))[K.DenseArray=0]="DenseArray";class dT{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsInt(e,t){return(t||new dT).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsInt(e,t){return e.setPosition(e.position()+4),(t||new dT).__init(e.readInt32(e.position())+e.position(),e)}bitWidth(){let e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt32(this.bb_pos+e):0}isSigned(){let e=this.bb.__offset(this.bb_pos,6);return!!e&&!!this.bb.readInt8(this.bb_pos+e)}static startInt(e){e.startObject(2)}static addBitWidth(e,t){e.addFieldInt32(0,t,0)}static addIsSigned(e,t){e.addFieldInt8(1,+t,0)}static endInt(e){return e.endObject()}static createInt(e,t,n){return dT.startInt(e),dT.addBitWidth(e,t),dT.addIsSigned(e,n),dT.endInt(e)}}class dA{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsDictionaryEncoding(e,t){return(t||new dA).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsDictionaryEncoding(e,t){return e.setPosition(e.position()+4),(t||new dA).__init(e.readInt32(e.position())+e.position(),e)}id(){let e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt64(this.bb_pos+e):this.bb.createLong(0,0)}indexType(e){let t=this.bb.__offset(this.bb_pos,6);return t?(e||new dT).__init(this.bb.__indirect(this.bb_pos+t),this.bb):null}isOrdered(){let e=this.bb.__offset(this.bb_pos,8);return!!e&&!!this.bb.readInt8(this.bb_pos+e)}dictionaryKind(){let e=this.bb.__offset(this.bb_pos,10);return e?this.bb.readInt16(this.bb_pos+e):eA.DenseArray}static startDictionaryEncoding(e){e.startObject(4)}static addId(e,t){e.addFieldInt64(0,t,e.createLong(0,0))}static addIndexType(e,t){e.addFieldOffset(1,t,0)}static addIsOrdered(e,t){e.addFieldInt8(2,+t,0)}static addDictionaryKind(e,t){e.addFieldInt16(3,t,eA.DenseArray)}static endDictionaryEncoding(e){return e.endObject()}}class dO{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsBinary(e,t){return(t||new dO).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsBinary(e,t){return e.setPosition(e.position()+4),(t||new dO).__init(e.readInt32(e.position())+e.position(),e)}static startBinary(e){e.startObject(0)}static endBinary(e){return e.endObject()}static createBinary(e){return dO.startBinary(e),dO.endBinary(e)}}class dD{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsBool(e,t){return(t||new dD).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsBool(e,t){return e.setPosition(e.position()+4),(t||new dD).__init(e.readInt32(e.position())+e.position(),e)}static startBool(e){e.startObject(0)}static endBool(e){return e.endObject()}static createBool(e){return dD.startBool(e),dD.endBool(e)}}(G=eO||(eO={}))[G.DAY=0]="DAY",G[G.MILLISECOND=1]="MILLISECOND";class dB{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsDate(e,t){return(t||new dB).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsDate(e,t){return e.setPosition(e.position()+4),(t||new dB).__init(e.readInt32(e.position())+e.position(),e)}unit(){let e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt16(this.bb_pos+e):eO.MILLISECOND}static startDate(e){e.startObject(1)}static addUnit(e,t){e.addFieldInt16(0,t,eO.MILLISECOND)}static endDate(e){return e.endObject()}static createDate(e,t){return dB.startDate(e),dB.addUnit(e,t),dB.endDate(e)}}class dP{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsDecimal(e,t){return(t||new dP).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsDecimal(e,t){return e.setPosition(e.position()+4),(t||new dP).__init(e.readInt32(e.position())+e.position(),e)}precision(){let e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt32(this.bb_pos+e):0}scale(){let e=this.bb.__offset(this.bb_pos,6);return e?this.bb.readInt32(this.bb_pos+e):0}bitWidth(){let e=this.bb.__offset(this.bb_pos,8);return e?this.bb.readInt32(this.bb_pos+e):128}static startDecimal(e){e.startObject(3)}static addPrecision(e,t){e.addFieldInt32(0,t,0)}static addScale(e,t){e.addFieldInt32(1,t,0)}static addBitWidth(e,t){e.addFieldInt32(2,t,128)}static endDecimal(e){return e.endObject()}static createDecimal(e,t,n,r){return dP.startDecimal(e),dP.addPrecision(e,t),dP.addScale(e,n),dP.addBitWidth(e,r),dP.endDecimal(e)}}(Z=eD||(eD={}))[Z.SECOND=0]="SECOND",Z[Z.MILLISECOND=1]="MILLISECOND",Z[Z.MICROSECOND=2]="MICROSECOND",Z[Z.NANOSECOND=3]="NANOSECOND";class dL{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsFixedSizeBinary(e,t){return(t||new dL).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsFixedSizeBinary(e,t){return e.setPosition(e.position()+4),(t||new dL).__init(e.readInt32(e.position())+e.position(),e)}byteWidth(){let e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt32(this.bb_pos+e):0}static startFixedSizeBinary(e){e.startObject(1)}static addByteWidth(e,t){e.addFieldInt32(0,t,0)}static endFixedSizeBinary(e){return e.endObject()}static createFixedSizeBinary(e,t){return dL.startFixedSizeBinary(e),dL.addByteWidth(e,t),dL.endFixedSizeBinary(e)}}class dR{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsFixedSizeList(e,t){return(t||new dR).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsFixedSizeList(e,t){return e.setPosition(e.position()+4),(t||new dR).__init(e.readInt32(e.position())+e.position(),e)}listSize(){let e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt32(this.bb_pos+e):0}static startFixedSizeList(e){e.startObject(1)}static addListSize(e,t){e.addFieldInt32(0,t,0)}static endFixedSizeList(e){return e.endObject()}static createFixedSizeList(e,t){return dR.startFixedSizeList(e),dR.addListSize(e,t),dR.endFixedSizeList(e)}}(Q=eB||(eB={}))[Q.HALF=0]="HALF",Q[Q.SINGLE=1]="SINGLE",Q[Q.DOUBLE=2]="DOUBLE";class dz{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsFloatingPoint(e,t){return(t||new dz).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsFloatingPoint(e,t){return e.setPosition(e.position()+4),(t||new dz).__init(e.readInt32(e.position())+e.position(),e)}precision(){let e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt16(this.bb_pos+e):eB.HALF}static startFloatingPoint(e){e.startObject(1)}static addPrecision(e,t){e.addFieldInt16(0,t,eB.HALF)}static endFloatingPoint(e){return e.endObject()}static createFloatingPoint(e,t){return dz.startFloatingPoint(e),dz.addPrecision(e,t),dz.endFloatingPoint(e)}}(J=eP||(eP={}))[J.YEAR_MONTH=0]="YEAR_MONTH",J[J.DAY_TIME=1]="DAY_TIME",J[J.MONTH_DAY_NANO=2]="MONTH_DAY_NANO";class dF{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsInterval(e,t){return(t||new dF).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsInterval(e,t){return e.setPosition(e.position()+4),(t||new dF).__init(e.readInt32(e.position())+e.position(),e)}unit(){let e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt16(this.bb_pos+e):eP.YEAR_MONTH}static startInterval(e){e.startObject(1)}static addUnit(e,t){e.addFieldInt16(0,t,eP.YEAR_MONTH)}static endInterval(e){return e.endObject()}static createInterval(e,t){return dF.startInterval(e),dF.addUnit(e,t),dF.endInterval(e)}}class dU{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsList(e,t){return(t||new dU).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsList(e,t){return e.setPosition(e.position()+4),(t||new dU).__init(e.readInt32(e.position())+e.position(),e)}static startList(e){e.startObject(0)}static endList(e){return e.endObject()}static createList(e){return dU.startList(e),dU.endList(e)}}class dV{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsMap(e,t){return(t||new dV).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsMap(e,t){return e.setPosition(e.position()+4),(t||new dV).__init(e.readInt32(e.position())+e.position(),e)}keysSorted(){let e=this.bb.__offset(this.bb_pos,4);return!!e&&!!this.bb.readInt8(this.bb_pos+e)}static startMap(e){e.startObject(1)}static addKeysSorted(e,t){e.addFieldInt8(0,+t,0)}static endMap(e){return e.endObject()}static createMap(e,t){return dV.startMap(e),dV.addKeysSorted(e,t),dV.endMap(e)}}class d${constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsNull(e,t){return(t||new d$).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsNull(e,t){return e.setPosition(e.position()+4),(t||new d$).__init(e.readInt32(e.position())+e.position(),e)}static startNull(e){e.startObject(0)}static endNull(e){return e.endObject()}static createNull(e){return d$.startNull(e),d$.endNull(e)}}class dj{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsStruct_(e,t){return(t||new dj).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsStruct_(e,t){return e.setPosition(e.position()+4),(t||new dj).__init(e.readInt32(e.position())+e.position(),e)}static startStruct_(e){e.startObject(0)}static endStruct_(e){return e.endObject()}static createStruct_(e){return dj.startStruct_(e),dj.endStruct_(e)}}class dH{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsTime(e,t){return(t||new dH).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsTime(e,t){return e.setPosition(e.position()+4),(t||new dH).__init(e.readInt32(e.position())+e.position(),e)}unit(){let e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt16(this.bb_pos+e):eD.MILLISECOND}bitWidth(){let e=this.bb.__offset(this.bb_pos,6);return e?this.bb.readInt32(this.bb_pos+e):32}static startTime(e){e.startObject(2)}static addUnit(e,t){e.addFieldInt16(0,t,eD.MILLISECOND)}static addBitWidth(e,t){e.addFieldInt32(1,t,32)}static endTime(e){return e.endObject()}static createTime(e,t,n){return dH.startTime(e),dH.addUnit(e,t),dH.addBitWidth(e,n),dH.endTime(e)}}class dW{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsTimestamp(e,t){return(t||new dW).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsTimestamp(e,t){return e.setPosition(e.position()+4),(t||new dW).__init(e.readInt32(e.position())+e.position(),e)}unit(){let e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt16(this.bb_pos+e):eD.SECOND}timezone(e){let t=this.bb.__offset(this.bb_pos,6);return t?this.bb.__string(this.bb_pos+t,e):null}static startTimestamp(e){e.startObject(2)}static addUnit(e,t){e.addFieldInt16(0,t,eD.SECOND)}static addTimezone(e,t){e.addFieldOffset(1,t,0)}static endTimestamp(e){return e.endObject()}static createTimestamp(e,t,n){return dW.startTimestamp(e),dW.addUnit(e,t),dW.addTimezone(e,n),dW.endTimestamp(e)}}(ee=eL||(eL={}))[ee.Sparse=0]="Sparse",ee[ee.Dense=1]="Dense";class dY{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsUnion(e,t){return(t||new dY).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsUnion(e,t){return e.setPosition(e.position()+4),(t||new dY).__init(e.readInt32(e.position())+e.position(),e)}mode(){let e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt16(this.bb_pos+e):eL.Sparse}typeIds(e){let t=this.bb.__offset(this.bb_pos,6);return t?this.bb.readInt32(this.bb.__vector(this.bb_pos+t)+4*e):0}typeIdsLength(){let e=this.bb.__offset(this.bb_pos,6);return e?this.bb.__vector_len(this.bb_pos+e):0}typeIdsArray(){let e=this.bb.__offset(this.bb_pos,6);return e?new Int32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+e),this.bb.__vector_len(this.bb_pos+e)):null}static startUnion(e){e.startObject(2)}static addMode(e,t){e.addFieldInt16(0,t,eL.Sparse)}static addTypeIds(e,t){e.addFieldOffset(1,t,0)}static createTypeIdsVector(e,t){e.startVector(4,t.length,4);for(let n=t.length-1;n>=0;n--)e.addInt32(t[n]);return e.endVector()}static startTypeIdsVector(e,t){e.startVector(4,t,4)}static endUnion(e){return e.endObject()}static createUnion(e,t,n){return dY.startUnion(e),dY.addMode(e,t),dY.addTypeIds(e,n),dY.endUnion(e)}}class dX{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsUtf8(e,t){return(t||new dX).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsUtf8(e,t){return e.setPosition(e.position()+4),(t||new dX).__init(e.readInt32(e.position())+e.position(),e)}static startUtf8(e){e.startObject(0)}static endUtf8(e){return e.endObject()}static createUtf8(e){return dX.startUtf8(e),dX.endUtf8(e)}}(et=eR||(eR={}))[et.NONE=0]="NONE",et[et.Null=1]="Null",et[et.Int=2]="Int",et[et.FloatingPoint=3]="FloatingPoint",et[et.Binary=4]="Binary",et[et.Utf8=5]="Utf8",et[et.Bool=6]="Bool",et[et.Decimal=7]="Decimal",et[et.Date=8]="Date",et[et.Time=9]="Time",et[et.Timestamp=10]="Timestamp",et[et.Interval=11]="Interval",et[et.List=12]="List",et[et.Struct_=13]="Struct_",et[et.Union=14]="Union",et[et.FixedSizeBinary=15]="FixedSizeBinary",et[et.FixedSizeList=16]="FixedSizeList",et[et.Map=17]="Map",et[et.Duration=18]="Duration",et[et.LargeBinary=19]="LargeBinary",et[et.LargeUtf8=20]="LargeUtf8",et[et.LargeList=21]="LargeList";class dq{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsField(e,t){return(t||new dq).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsField(e,t){return e.setPosition(e.position()+4),(t||new dq).__init(e.readInt32(e.position())+e.position(),e)}name(e){let t=this.bb.__offset(this.bb_pos,4);return t?this.bb.__string(this.bb_pos+t,e):null}nullable(){let e=this.bb.__offset(this.bb_pos,6);return!!e&&!!this.bb.readInt8(this.bb_pos+e)}typeType(){let e=this.bb.__offset(this.bb_pos,8);return e?this.bb.readUint8(this.bb_pos+e):eR.NONE}type(e){let t=this.bb.__offset(this.bb_pos,10);return t?this.bb.__union(e,this.bb_pos+t):null}dictionary(e){let t=this.bb.__offset(this.bb_pos,12);return t?(e||new dA).__init(this.bb.__indirect(this.bb_pos+t),this.bb):null}children(e,t){let n=this.bb.__offset(this.bb_pos,14);return n?(t||new dq).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+n)+4*e),this.bb):null}childrenLength(){let e=this.bb.__offset(this.bb_pos,14);return e?this.bb.__vector_len(this.bb_pos+e):0}customMetadata(e,t){let n=this.bb.__offset(this.bb_pos,16);return n?(t||new dN).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+n)+4*e),this.bb):null}customMetadataLength(){let e=this.bb.__offset(this.bb_pos,16);return e?this.bb.__vector_len(this.bb_pos+e):0}static startField(e){e.startObject(7)}static addName(e,t){e.addFieldOffset(0,t,0)}static addNullable(e,t){e.addFieldInt8(1,+t,0)}static addTypeType(e,t){e.addFieldInt8(2,t,eR.NONE)}static addType(e,t){e.addFieldOffset(3,t,0)}static addDictionary(e,t){e.addFieldOffset(4,t,0)}static addChildren(e,t){e.addFieldOffset(5,t,0)}static createChildrenVector(e,t){e.startVector(4,t.length,4);for(let n=t.length-1;n>=0;n--)e.addOffset(t[n]);return e.endVector()}static startChildrenVector(e,t){e.startVector(4,t,4)}static addCustomMetadata(e,t){e.addFieldOffset(6,t,0)}static createCustomMetadataVector(e,t){e.startVector(4,t.length,4);for(let n=t.length-1;n>=0;n--)e.addOffset(t[n]);return e.endVector()}static startCustomMetadataVector(e,t){e.startVector(4,t,4)}static endField(e){return e.endObject()}}class dK{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsSchema(e,t){return(t||new dK).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsSchema(e,t){return e.setPosition(e.position()+4),(t||new dK).__init(e.readInt32(e.position())+e.position(),e)}endianness(){let e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt16(this.bb_pos+e):eT.Little}fields(e,t){let n=this.bb.__offset(this.bb_pos,6);return n?(t||new dq).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+n)+4*e),this.bb):null}fieldsLength(){let e=this.bb.__offset(this.bb_pos,6);return e?this.bb.__vector_len(this.bb_pos+e):0}customMetadata(e,t){let n=this.bb.__offset(this.bb_pos,8);return n?(t||new dN).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+n)+4*e),this.bb):null}customMetadataLength(){let e=this.bb.__offset(this.bb_pos,8);return e?this.bb.__vector_len(this.bb_pos+e):0}features(e){let t=this.bb.__offset(this.bb_pos,10);return t?this.bb.readInt64(this.bb.__vector(this.bb_pos+t)+8*e):this.bb.createLong(0,0)}featuresLength(){let e=this.bb.__offset(this.bb_pos,10);return e?this.bb.__vector_len(this.bb_pos+e):0}static startSchema(e){e.startObject(4)}static addEndianness(e,t){e.addFieldInt16(0,t,eT.Little)}static addFields(e,t){e.addFieldOffset(1,t,0)}static createFieldsVector(e,t){e.startVector(4,t.length,4);for(let n=t.length-1;n>=0;n--)e.addOffset(t[n]);return e.endVector()}static startFieldsVector(e,t){e.startVector(4,t,4)}static addCustomMetadata(e,t){e.addFieldOffset(2,t,0)}static createCustomMetadataVector(e,t){e.startVector(4,t.length,4);for(let n=t.length-1;n>=0;n--)e.addOffset(t[n]);return e.endVector()}static startCustomMetadataVector(e,t){e.startVector(4,t,4)}static addFeatures(e,t){e.addFieldOffset(3,t,0)}static createFeaturesVector(e,t){e.startVector(8,t.length,8);for(let n=t.length-1;n>=0;n--)e.addInt64(t[n]);return e.endVector()}static startFeaturesVector(e,t){e.startVector(8,t,8)}static endSchema(e){return e.endObject()}static finishSchemaBuffer(e,t){e.finish(t)}static finishSizePrefixedSchemaBuffer(e,t){e.finish(t,void 0,!0)}static createSchema(e,t,n,r,i){return dK.startSchema(e),dK.addEndianness(e,t),dK.addFields(e,n),dK.addCustomMetadata(e,r),dK.addFeatures(e,i),dK.endSchema(e)}}class dG{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsFooter(e,t){return(t||new dG).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsFooter(e,t){return e.setPosition(e.position()+4),(t||new dG).__init(e.readInt32(e.position())+e.position(),e)}version(){let e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt16(this.bb_pos+e):eN.V1}schema(e){let t=this.bb.__offset(this.bb_pos,6);return t?(e||new dK).__init(this.bb.__indirect(this.bb_pos+t),this.bb):null}dictionaries(e,t){let n=this.bb.__offset(this.bb_pos,8);return n?(t||new d_).__init(this.bb.__vector(this.bb_pos+n)+24*e,this.bb):null}dictionariesLength(){let e=this.bb.__offset(this.bb_pos,8);return e?this.bb.__vector_len(this.bb_pos+e):0}recordBatches(e,t){let n=this.bb.__offset(this.bb_pos,10);return n?(t||new d_).__init(this.bb.__vector(this.bb_pos+n)+24*e,this.bb):null}recordBatchesLength(){let e=this.bb.__offset(this.bb_pos,10);return e?this.bb.__vector_len(this.bb_pos+e):0}customMetadata(e,t){let n=this.bb.__offset(this.bb_pos,12);return n?(t||new dN).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+n)+4*e),this.bb):null}customMetadataLength(){let e=this.bb.__offset(this.bb_pos,12);return e?this.bb.__vector_len(this.bb_pos+e):0}static startFooter(e){e.startObject(5)}static addVersion(e,t){e.addFieldInt16(0,t,eN.V1)}static addSchema(e,t){e.addFieldOffset(1,t,0)}static addDictionaries(e,t){e.addFieldOffset(2,t,0)}static startDictionariesVector(e,t){e.startVector(24,t,8)}static addRecordBatches(e,t){e.addFieldOffset(3,t,0)}static startRecordBatchesVector(e,t){e.startVector(24,t,8)}static addCustomMetadata(e,t){e.addFieldOffset(4,t,0)}static createCustomMetadataVector(e,t){e.startVector(4,t.length,4);for(let n=t.length-1;n>=0;n--)e.addOffset(t[n]);return e.endVector()}static startCustomMetadataVector(e,t){e.startVector(4,t,4)}static endFooter(e){return e.endObject()}static finishFooterBuffer(e,t){e.finish(t)}static finishSizePrefixedFooterBuffer(e,t){e.finish(t,void 0,!0)}}class dZ{constructor(e,t=ev.V4,n,r){this.schema=e,this.version=t,n&&(this._recordBatches=n),r&&(this._dictionaryBatches=r)}static decode(e){e=new dI(s9(e));let t=dG.getRootAsFooter(e);return new dQ(cc.decode(t.schema()),t)}static encode(e){let t=new dM,n=cc.encode(t,e.schema);for(let n of(dG.startRecordBatchesVector(t,e.numRecordBatches),[...e.recordBatches()].slice().reverse()))dJ.encode(t,n);let r=t.endVector();for(let n of(dG.startDictionariesVector(t,e.numDictionaries),[...e.dictionaryBatches()].slice().reverse()))dJ.encode(t,n);let i=t.endVector();return dG.startFooter(t),dG.addSchema(t,n),dG.addVersion(t,ev.V4),dG.addRecordBatches(t,r),dG.addDictionaries(t,i),dG.finishFooterBuffer(t,dG.endFooter(t)),t.asUint8Array()}get numRecordBatches(){return this._recordBatches.length}get numDictionaries(){return this._dictionaryBatches.length}*recordBatches(){for(let e,t=-1,n=this.numRecordBatches;++t<n;)(e=this.getRecordBatch(t))&&(yield e)}*dictionaryBatches(){for(let e,t=-1,n=this.numDictionaries;++t<n;)(e=this.getDictionaryBatch(t))&&(yield e)}getRecordBatch(e){return e>=0&&e<this.numRecordBatches&&this._recordBatches[e]||null}getDictionaryBatch(e){return e>=0&&e<this.numDictionaries&&this._dictionaryBatches[e]||null}}class dQ extends dZ{constructor(e,t){super(e,t.version()),this._footer=t}get numRecordBatches(){return this._footer.recordBatchesLength()}get numDictionaries(){return this._footer.dictionariesLength()}getRecordBatch(e){if(e>=0&&e<this.numRecordBatches){let t=this._footer.recordBatches(e);if(t)return dJ.decode(t)}return null}getDictionaryBatch(e){if(e>=0&&e<this.numDictionaries){let t=this._footer.dictionaries(e);if(t)return dJ.decode(t)}return null}}class dJ{constructor(e,t,n){this.metaDataLength=e,this.offset="number"==typeof n?n:n.low,this.bodyLength="number"==typeof t?t:t.low}static decode(e){return new dJ(e.metaDataLength(),e.bodyLength(),e.offset())}static encode(e,t){let{metaDataLength:n}=t,r=new dk(t.offset,0),i=new dk(t.bodyLength,0);return d_.createBlock(e,r,n,i)}}var d0={fromIterable:e=>d1(function*(e){let t,n=!1,r=[],i,o,a,s=0;({cmd:o,size:a}=yield null);let l=(function*(e,t){let n=function*(e){yield e},r="string"==typeof t||ArrayBuffer.isView(t)||t instanceof ArrayBuffer||t instanceof s4?n(t):sF(t)?t:n(t);return yield*s7(function*(t){let n=null;do n=t.next((yield s5(e,n)));while(!n.done)}(r[Symbol.iterator]())),new e})(Uint8Array,e)[Symbol.iterator]();try{do if({done:t,value:i}=Number.isNaN(a-s)?l.next():l.next(a-s),!t&&i.byteLength>0&&(r.push(i),s+=i.byteLength),t||a<=s)do({cmd:o,size:a}=yield"peek"===o?s8(r,a)[0]:([i,r,s]=s8(r,a),i));while(a<s)while(!t)}catch(e){n=!0,"function"==typeof l.throw&&l.throw(e)}finally{!1===n&&"function"==typeof l.return&&l.return(null)}return null}(e)),fromAsyncIterable:e=>d1(function(e){return sQ(this,arguments,function*(){let t,n=!1,r=[],i,o,a,s=0;({cmd:o,size:a}=yield yield sZ(null));let l=(function e(t,n){return sQ(this,arguments,function*(){if(sz(n))return yield sZ((yield sZ((yield*sJ(s0(e(t,(yield sZ(n)))))))));let r=function(e){return sQ(this,arguments,function*(){yield yield sZ((yield sZ(e)))})},i="string"==typeof n||ArrayBuffer.isView(n)||n instanceof ArrayBuffer||n instanceof s4?r(n):sF(n)?function(e){return sQ(this,arguments,function*(){yield sZ((yield*sJ(s0(s7(function*(e){let t=null;do t=e.next((yield null==t?void 0:t.value));while(!t.done)}(e[Symbol.iterator]()))))))})}(n):sU(n)?n:r(n);return yield sZ((yield*sJ(s0(s7(function(e){return sQ(this,arguments,function*(){let n=null;do n=yield sZ(e.next((yield yield sZ(s5(t,n)))));while(!n.done)})}(i[Symbol.asyncIterator]())))))),yield sZ(new t)})})(Uint8Array,e)[Symbol.asyncIterator]();try{do if({done:t,value:i}=Number.isNaN(a-s)?yield sZ(l.next()):yield sZ(l.next(a-s)),!t&&i.byteLength>0&&(r.push(i),s+=i.byteLength),t||a<=s)do({cmd:o,size:a}=yield yield sZ("peek"===o?s8(r,a)[0]:([i,r,s]=s8(r,a),i)));while(a<s)while(!t)}catch(e){n=!0,"function"==typeof l.throw&&(yield sZ(l.throw(e)))}finally{!1===n&&"function"==typeof l.return&&(yield sZ(l.return(new Uint8Array(0))))}return yield sZ(null)})}(e)),fromDOMStream:e=>d1(function(e){return sQ(this,arguments,function*(){let t=!1,n=!1,r=[],i,o,a,s=0;({cmd:o,size:a}=yield yield sZ(null));let l=new d2(e);try{do if({done:t,value:i}=Number.isNaN(a-s)?yield sZ(l.read()):yield sZ(l.read(a-s)),!t&&i.byteLength>0&&(r.push(s9(i)),s+=i.byteLength),t||a<=s)do({cmd:o,size:a}=yield yield sZ("peek"===o?s8(r,a)[0]:([i,r,s]=s8(r,a),i)));while(a<s)while(!t)}catch(e){n=!0,yield sZ(l.cancel(e))}finally{!1===n?yield sZ(l.cancel()):e.locked&&l.releaseLock()}return yield sZ(null)})}(e)),fromNodeStream:e=>d1(function(e){return sQ(this,arguments,function*(){let t=[],n="error",r=!1,i=null,o,a,s=0,l=[],u;if({cmd:o,size:a}=yield yield sZ(null),e.isTTY)return yield yield sZ(new Uint8Array(0)),yield sZ(null);try{t[0]=d3(e,"end"),t[1]=d3(e,"error");do{if(t[2]=d3(e,"readable"),[n,i]=yield sZ(Promise.race(t.map(e=>e[2]))),"error"===n)break;if((r="end"===n)||(Number.isFinite(a-s)?(u=s9(e.read(a-s))).byteLength<a-s&&(u=s9(e.read())):u=s9(e.read()),u.byteLength>0&&(l.push(u),s+=u.byteLength)),r||a<=s)do({cmd:o,size:a}=yield yield sZ("peek"===o?s8(l,a)[0]:([u,l,s]=s8(l,a),u)));while(a<s)}while(!r)}finally{var c,d;yield sZ((c=t,d="error"===n?i:null,u=l=null,new Promise((t,n)=>{for(let[t,n]of c)e.off(t,n);try{let t=e.destroy;t&&t.call(e,d),d=void 0}catch(e){d=e||d}finally{null!=d?n(d):t()}})))}return yield sZ(null)})}(e)),toDOMStream(e,t){throw Error('"toDOMStream" not available in this environment')},toNodeStream(e,t){throw Error('"toNodeStream" not available in this environment')}};let d1=e=>(e.next(),e);class d2{constructor(e){this.source=e,this.reader=null,this.reader=this.source.getReader(),this.reader.closed.catch(()=>{})}get closed(){return this.reader?this.reader.closed.catch(()=>{}):Promise.resolve()}releaseLock(){this.reader&&this.reader.releaseLock(),this.reader=null}cancel(e){return sG(this,void 0,void 0,function*(){let{reader:t,source:n}=this;t&&(yield t.cancel(e).catch(()=>{})),n&&n.locked&&this.releaseLock()})}read(e){return sG(this,void 0,void 0,function*(){if(0===e)return{done:null==this.reader,value:new Uint8Array(0)};let t=yield this.reader.read();return t.done||(t.value=s9(t)),t})}}let d3=(e,t)=>{let n,r=e=>n([t,e]);return[t,r,new Promise(i=>(n=i)&&e.once(t,r))]},d4=Object.freeze({done:!0,value:void 0});class d6{constructor(e){this._json=e}get schema(){return this._json.schema}get batches(){return this._json.batches||[]}get dictionaries(){return this._json.dictionaries||[]}}class d8{tee(){return this._getDOMStream().tee()}pipe(e,t){return this._getNodeStream().pipe(e,t)}pipeTo(e,t){return this._getDOMStream().pipeTo(e,t)}pipeThrough(e,t){return this._getDOMStream().pipeThrough(e,t)}_getDOMStream(){return this._DOMStream||(this._DOMStream=this.toDOMStream())}_getNodeStream(){return this._nodeStream||(this._nodeStream=this.toNodeStream())}}class d5 extends d8{constructor(){super(),this._values=[],this.resolvers=[],this._closedPromise=new Promise(e=>this._closedPromiseResolve=e)}get closed(){return this._closedPromise}cancel(e){return sG(this,void 0,void 0,function*(){yield this.return(e)})}write(e){this._ensureOpen()&&(this.resolvers.length<=0?this._values.push(e):this.resolvers.shift().resolve({done:!1,value:e}))}abort(e){this._closedPromiseResolve&&(this.resolvers.length<=0?this._error={error:e}:this.resolvers.shift().reject({done:!0,value:e}))}close(){if(this._closedPromiseResolve){let{resolvers:e}=this;for(;e.length>0;)e.shift().resolve(d4);this._closedPromiseResolve(),this._closedPromiseResolve=void 0}}[Symbol.asyncIterator](){return this}toDOMStream(e){return d0.toDOMStream(this._closedPromiseResolve||this._error?this:this._values,e)}toNodeStream(e){return d0.toNodeStream(this._closedPromiseResolve||this._error?this:this._values,e)}throw(e){return sG(this,void 0,void 0,function*(){return yield this.abort(e),d4})}return(e){return sG(this,void 0,void 0,function*(){return yield this.close(),d4})}read(e){return sG(this,void 0,void 0,function*(){return(yield this.next(e,"read")).value})}peek(e){return sG(this,void 0,void 0,function*(){return(yield this.next(e,"peek")).value})}next(){return this._values.length>0?Promise.resolve({done:!1,value:this._values.shift()}):this._error?Promise.reject({done:!0,value:this._error.error}):this._closedPromiseResolve?new Promise((e,t)=>{this.resolvers.push({resolve:e,reject:t})}):Promise.resolve(d4)}_ensureOpen(){if(this._closedPromiseResolve)return!0;throw Error("AsyncQueue is closed")}}class d9 extends d5{write(e){if((e=s9(e)).byteLength>0)return super.write(e)}toString(e=!1){return e?s2(this.toUint8Array(!0)):this.toUint8Array(!1).then(s2)}toUint8Array(e=!1){return e?s8(this._values)[0]:sG(this,void 0,void 0,function*(){var e,t;let n=[],r=0;try{for(var i,o=s0(this);!(i=yield o.next()).done;){let e=i.value;n.push(e),r+=e.byteLength}}catch(t){e={error:t}}finally{try{i&&!i.done&&(t=o.return)&&(yield t.call(o))}finally{if(e)throw e.error}}return s8(n,r)[0]})}}class d7{constructor(e){e&&(this.source=new ht(d0.fromIterable(e)))}[Symbol.iterator](){return this}next(e){return this.source.next(e)}throw(e){return this.source.throw(e)}return(e){return this.source.return(e)}peek(e){return this.source.peek(e)}read(e){return this.source.read(e)}}class he{constructor(e){e instanceof he?this.source=e.source:e instanceof d9?this.source=new hn(d0.fromAsyncIterable(e)):sX(e)?this.source=new hn(d0.fromNodeStream(e)):sY(e)?this.source=new hn(d0.fromDOMStream(e)):sH(e)?this.source=new hn(d0.fromDOMStream(e.body)):sF(e)?this.source=new hn(d0.fromIterable(e)):sz(e)?this.source=new hn(d0.fromAsyncIterable(e)):sU(e)&&(this.source=new hn(d0.fromAsyncIterable(e)))}[Symbol.asyncIterator](){return this}next(e){return this.source.next(e)}throw(e){return this.source.throw(e)}return(e){return this.source.return(e)}get closed(){return this.source.closed}cancel(e){return this.source.cancel(e)}peek(e){return this.source.peek(e)}read(e){return this.source.read(e)}}class ht{constructor(e){this.source=e}cancel(e){this.return(e)}peek(e){return this.next(e,"peek").value}read(e){return this.next(e,"read").value}next(e,t="read"){return this.source.next({cmd:t,size:e})}throw(e){return Object.create(this.source.throw&&this.source.throw(e)||d4)}return(e){return Object.create(this.source.return&&this.source.return(e)||d4)}}class hn{constructor(e){this.source=e,this._closedPromise=new Promise(e=>this._closedPromiseResolve=e)}cancel(e){return sG(this,void 0,void 0,function*(){yield this.return(e)})}get closed(){return this._closedPromise}read(e){return sG(this,void 0,void 0,function*(){return(yield this.next(e,"read")).value})}peek(e){return sG(this,void 0,void 0,function*(){return(yield this.next(e,"peek")).value})}next(e,t="read"){return sG(this,void 0,void 0,function*(){return yield this.source.next({cmd:t,size:e})})}throw(e){return sG(this,void 0,void 0,function*(){let t=this.source.throw&&(yield this.source.throw(e))||d4;return this._closedPromiseResolve&&this._closedPromiseResolve(),this._closedPromiseResolve=void 0,Object.create(t)})}return(e){return sG(this,void 0,void 0,function*(){let t=this.source.return&&(yield this.source.return(e))||d4;return this._closedPromiseResolve&&this._closedPromiseResolve(),this._closedPromiseResolve=void 0,Object.create(t)})}}class hr extends d7{constructor(e,t){super(),this.position=0,this.buffer=s9(e),this.size=void 0===t?this.buffer.byteLength:t}readInt32(e){let{buffer:t,byteOffset:n}=this.readAt(e,4);return new DataView(t,n).getInt32(0,!0)}seek(e){return this.position=Math.min(e,this.size),e<this.size}read(e){let{buffer:t,size:n,position:r}=this;return t&&r<n?("number"!=typeof e&&(e=1/0),this.position=Math.min(n,r+Math.min(n-r,e)),t.subarray(r,this.position)):null}readAt(e,t){let n=this.buffer,r=Math.min(this.size,e+t);return n?n.subarray(e,r):new Uint8Array(t)}close(){this.buffer&&(this.buffer=null)}throw(e){return this.close(),{done:!0,value:e}}return(e){return this.close(),{done:!0,value:e}}}class hi extends he{constructor(e,t){super(),this.position=0,this._handle=e,"number"==typeof t?this.size=t:this._pending=sG(this,void 0,void 0,function*(){this.size=(yield e.stat()).size,delete this._pending})}readInt32(e){return sG(this,void 0,void 0,function*(){let{buffer:t,byteOffset:n}=yield this.readAt(e,4);return new DataView(t,n).getInt32(0,!0)})}seek(e){return sG(this,void 0,void 0,function*(){return this._pending&&(yield this._pending),this.position=Math.min(e,this.size),e<this.size})}read(e){return sG(this,void 0,void 0,function*(){this._pending&&(yield this._pending);let{_handle:t,size:n,position:r}=this;if(t&&r<n){"number"!=typeof e&&(e=1/0);let i=r,o=0,a=0,s=Math.min(n,i+Math.min(n-i,e)),l=new Uint8Array(Math.max(0,(this.position=s)-i));for(;(i+=a)<s&&(o+=a)<l.byteLength;)({bytesRead:a}=yield t.read(l,o,l.byteLength-o,i));return l}return null})}readAt(e,t){return sG(this,void 0,void 0,function*(){this._pending&&(yield this._pending);let{_handle:n,size:r}=this;if(n&&e+t<r){let i=new Uint8Array(Math.min(r,e+t)-e);return(yield n.read(i,0,t,e)).buffer}return new Uint8Array(t)})}close(){return sG(this,void 0,void 0,function*(){let e=this._handle;this._handle=null,e&&(yield e.close())})}throw(e){return sG(this,void 0,void 0,function*(){return yield this.close(),{done:!0,value:e}})}return(e){return sG(this,void 0,void 0,function*(){return yield this.close(),{done:!0,value:e}})}}function ho(e){return e<0&&(e=0xffffffff+e+1),`0x${e.toString(16)}`}let ha=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8];class hs{constructor(e){this.buffer=e}high(){return this.buffer[1]}low(){return this.buffer[0]}_times(e){let t=new Uint32Array([this.buffer[1]>>>16,65535&this.buffer[1],this.buffer[0]>>>16,65535&this.buffer[0]]),n=new Uint32Array([e.buffer[1]>>>16,65535&e.buffer[1],e.buffer[0]>>>16,65535&e.buffer[0]]),r=t[3]*n[3];this.buffer[0]=65535&r;let i=r>>>16;return i+=(r=t[2]*n[3])+(r=t[3]*n[2]>>>0),this.buffer[0]+=i<<16,this.buffer[1]=65536*(i>>>0<r),this.buffer[1]+=i>>>16,this.buffer[1]+=t[1]*n[3]+t[2]*n[2]+t[3]*n[1],this.buffer[1]+=t[0]*n[3]+t[1]*n[2]+t[2]*n[1]+t[3]*n[0]<<16,this}_plus(e){let t=this.buffer[0]+e.buffer[0]>>>0;this.buffer[1]+=e.buffer[1],t<this.buffer[0]>>>0&&++this.buffer[1],this.buffer[0]=t}lessThan(e){return this.buffer[1]<e.buffer[1]||this.buffer[1]===e.buffer[1]&&this.buffer[0]<e.buffer[0]}equals(e){return this.buffer[1]===e.buffer[1]&&this.buffer[0]==e.buffer[0]}greaterThan(e){return e.lessThan(this)}hex(){return`${ho(this.buffer[1])} ${ho(this.buffer[0])}`}}class hl extends hs{times(e){return this._times(e),this}plus(e){return this._plus(e),this}static from(e,t=new Uint32Array(2)){return hl.fromString("string"==typeof e?e:e.toString(),t)}static fromNumber(e,t=new Uint32Array(2)){return hl.fromString(e.toString(),t)}static fromString(e,t=new Uint32Array(2)){let n=e.length,r=new hl(t);for(let t=0;t<n;){let i=8<n-t?8:n-t,o=new hl(new Uint32Array([Number.parseInt(e.slice(t,t+i),10),0])),a=new hl(new Uint32Array([ha[i],0]));r.times(a),r.plus(o),t+=i}return r}static convertArray(e){let t=new Uint32Array(2*e.length);for(let n=-1,r=e.length;++n<r;)hl.from(e[n],new Uint32Array(t.buffer,t.byteOffset+2*n*4,2));return t}static multiply(e,t){return new hl(new Uint32Array(e.buffer)).times(t)}static add(e,t){return new hl(new Uint32Array(e.buffer)).plus(t)}}class hu extends hs{negate(){return this.buffer[0]=~this.buffer[0]+1,this.buffer[1]=~this.buffer[1],0==this.buffer[0]&&++this.buffer[1],this}times(e){return this._times(e),this}plus(e){return this._plus(e),this}lessThan(e){let t=0|this.buffer[1],n=0|e.buffer[1];return t<n||t===n&&this.buffer[0]<e.buffer[0]}static from(e,t=new Uint32Array(2)){return hu.fromString("string"==typeof e?e:e.toString(),t)}static fromNumber(e,t=new Uint32Array(2)){return hu.fromString(e.toString(),t)}static fromString(e,t=new Uint32Array(2)){let n=e.startsWith("-"),r=e.length,i=new hu(t);for(let t=+!!n;t<r;){let n=8<r-t?8:r-t,o=new hu(new Uint32Array([Number.parseInt(e.slice(t,t+n),10),0])),a=new hu(new Uint32Array([ha[n],0]));i.times(a),i.plus(o),t+=n}return n?i.negate():i}static convertArray(e){let t=new Uint32Array(2*e.length);for(let n=-1,r=e.length;++n<r;)hu.from(e[n],new Uint32Array(t.buffer,t.byteOffset+2*n*4,2));return t}static multiply(e,t){return new hu(new Uint32Array(e.buffer)).times(t)}static add(e,t){return new hu(new Uint32Array(e.buffer)).plus(t)}}class hc{constructor(e){this.buffer=e}high(){return new hu(new Uint32Array(this.buffer.buffer,this.buffer.byteOffset+8,2))}low(){return new hu(new Uint32Array(this.buffer.buffer,this.buffer.byteOffset,2))}negate(){return this.buffer[0]=~this.buffer[0]+1,this.buffer[1]=~this.buffer[1],this.buffer[2]=~this.buffer[2],this.buffer[3]=~this.buffer[3],0==this.buffer[0]&&++this.buffer[1],0==this.buffer[1]&&++this.buffer[2],0==this.buffer[2]&&++this.buffer[3],this}times(e){let t=new hl(new Uint32Array([this.buffer[3],0])),n=new hl(new Uint32Array([this.buffer[2],0])),r=new hl(new Uint32Array([this.buffer[1],0])),i=new hl(new Uint32Array([this.buffer[0],0])),o=new hl(new Uint32Array([e.buffer[3],0])),a=new hl(new Uint32Array([e.buffer[2],0])),s=new hl(new Uint32Array([e.buffer[1],0])),l=new hl(new Uint32Array([e.buffer[0],0])),u=hl.multiply(i,l);this.buffer[0]=u.low();let c=new hl(new Uint32Array([u.high(),0]));return u=hl.multiply(r,l),c.plus(u),u=hl.multiply(i,s),c.plus(u),this.buffer[1]=c.low(),this.buffer[3]=+!!c.lessThan(u),this.buffer[2]=c.high(),new hl(new Uint32Array(this.buffer.buffer,this.buffer.byteOffset+8,2)).plus(hl.multiply(n,l)).plus(hl.multiply(r,s)).plus(hl.multiply(i,a)),this.buffer[3]+=hl.multiply(t,l).plus(hl.multiply(n,s)).plus(hl.multiply(r,a)).plus(hl.multiply(i,o)).low(),this}plus(e){let t=new Uint32Array(4);return t[3]=this.buffer[3]+e.buffer[3]>>>0,t[2]=this.buffer[2]+e.buffer[2]>>>0,t[1]=this.buffer[1]+e.buffer[1]>>>0,t[0]=this.buffer[0]+e.buffer[0]>>>0,t[0]<this.buffer[0]>>>0&&++t[1],t[1]<this.buffer[1]>>>0&&++t[2],t[2]<this.buffer[2]>>>0&&++t[3],this.buffer[3]=t[3],this.buffer[2]=t[2],this.buffer[1]=t[1],this.buffer[0]=t[0],this}hex(){return`${ho(this.buffer[3])} ${ho(this.buffer[2])} ${ho(this.buffer[1])} ${ho(this.buffer[0])}`}static multiply(e,t){return new hc(new Uint32Array(e.buffer)).times(t)}static add(e,t){return new hc(new Uint32Array(e.buffer)).plus(t)}static from(e,t=new Uint32Array(4)){return hc.fromString("string"==typeof e?e:e.toString(),t)}static fromNumber(e,t=new Uint32Array(4)){return hc.fromString(e.toString(),t)}static fromString(e,t=new Uint32Array(4)){let n=e.startsWith("-"),r=e.length,i=new hc(t);for(let t=+!!n;t<r;){let n=8<r-t?8:r-t,o=new hc(new Uint32Array([Number.parseInt(e.slice(t,t+n),10),0,0,0])),a=new hc(new Uint32Array([ha[n],0,0,0]));i.times(a),i.plus(o),t+=n}return n?i.negate():i}static convertArray(e){let t=new Uint32Array(4*e.length);for(let n=-1,r=e.length;++n<r;)hc.from(e[n],new Uint32Array(t.buffer,t.byteOffset+16*n,4));return t}}class hd extends lA{constructor(e,t,n,r){super(),this.nodesIndex=-1,this.buffersIndex=-1,this.bytes=e,this.nodes=t,this.buffers=n,this.dictionaries=r}visit(e){return super.visit(e instanceof cd?e.type:e)}visitNull(e,{length:t}=this.nextFieldNode()){return cu({type:e,length:t})}visitBool(e,{length:t,nullCount:n}=this.nextFieldNode()){return cu({type:e,length:t,nullCount:n,nullBitmap:this.readNullBitmap(e,n),data:this.readData(e)})}visitInt(e,{length:t,nullCount:n}=this.nextFieldNode()){return cu({type:e,length:t,nullCount:n,nullBitmap:this.readNullBitmap(e,n),data:this.readData(e)})}visitFloat(e,{length:t,nullCount:n}=this.nextFieldNode()){return cu({type:e,length:t,nullCount:n,nullBitmap:this.readNullBitmap(e,n),data:this.readData(e)})}visitUtf8(e,{length:t,nullCount:n}=this.nextFieldNode()){return cu({type:e,length:t,nullCount:n,nullBitmap:this.readNullBitmap(e,n),valueOffsets:this.readOffsets(e),data:this.readData(e)})}visitBinary(e,{length:t,nullCount:n}=this.nextFieldNode()){return cu({type:e,length:t,nullCount:n,nullBitmap:this.readNullBitmap(e,n),valueOffsets:this.readOffsets(e),data:this.readData(e)})}visitFixedSizeBinary(e,{length:t,nullCount:n}=this.nextFieldNode()){return cu({type:e,length:t,nullCount:n,nullBitmap:this.readNullBitmap(e,n),data:this.readData(e)})}visitDate(e,{length:t,nullCount:n}=this.nextFieldNode()){return cu({type:e,length:t,nullCount:n,nullBitmap:this.readNullBitmap(e,n),data:this.readData(e)})}visitTimestamp(e,{length:t,nullCount:n}=this.nextFieldNode()){return cu({type:e,length:t,nullCount:n,nullBitmap:this.readNullBitmap(e,n),data:this.readData(e)})}visitTime(e,{length:t,nullCount:n}=this.nextFieldNode()){return cu({type:e,length:t,nullCount:n,nullBitmap:this.readNullBitmap(e,n),data:this.readData(e)})}visitDecimal(e,{length:t,nullCount:n}=this.nextFieldNode()){return cu({type:e,length:t,nullCount:n,nullBitmap:this.readNullBitmap(e,n),data:this.readData(e)})}visitList(e,{length:t,nullCount:n}=this.nextFieldNode()){return cu({type:e,length:t,nullCount:n,nullBitmap:this.readNullBitmap(e,n),valueOffsets:this.readOffsets(e),child:this.visit(e.children[0])})}visitStruct(e,{length:t,nullCount:n}=this.nextFieldNode()){return cu({type:e,length:t,nullCount:n,nullBitmap:this.readNullBitmap(e,n),children:this.visitMany(e.children)})}visitUnion(e){return e.mode===ew.Sparse?this.visitSparseUnion(e):this.visitDenseUnion(e)}visitDenseUnion(e,{length:t,nullCount:n}=this.nextFieldNode()){return cu({type:e,length:t,nullCount:n,nullBitmap:this.readNullBitmap(e,n),typeIds:this.readTypeIds(e),valueOffsets:this.readOffsets(e),children:this.visitMany(e.children)})}visitSparseUnion(e,{length:t,nullCount:n}=this.nextFieldNode()){return cu({type:e,length:t,nullCount:n,nullBitmap:this.readNullBitmap(e,n),typeIds:this.readTypeIds(e),children:this.visitMany(e.children)})}visitDictionary(e,{length:t,nullCount:n}=this.nextFieldNode()){return cu({type:e,length:t,nullCount:n,nullBitmap:this.readNullBitmap(e,n),data:this.readData(e.indices),dictionary:this.readDictionary(e)})}visitInterval(e,{length:t,nullCount:n}=this.nextFieldNode()){return cu({type:e,length:t,nullCount:n,nullBitmap:this.readNullBitmap(e,n),data:this.readData(e)})}visitFixedSizeList(e,{length:t,nullCount:n}=this.nextFieldNode()){return cu({type:e,length:t,nullCount:n,nullBitmap:this.readNullBitmap(e,n),child:this.visit(e.children[0])})}visitMap(e,{length:t,nullCount:n}=this.nextFieldNode()){return cu({type:e,length:t,nullCount:n,nullBitmap:this.readNullBitmap(e,n),valueOffsets:this.readOffsets(e),child:this.visit(e.children[0])})}nextFieldNode(){return this.nodes[++this.nodesIndex]}nextBufferRange(){return this.buffers[++this.buffersIndex]}readNullBitmap(e,t,n=this.nextBufferRange()){return t>0&&this.readData(e,n)||new Uint8Array(0)}readOffsets(e,t){return this.readData(e,t)}readTypeIds(e,t){return this.readData(e,t)}readData(e,{length:t,offset:n}=this.nextBufferRange()){return this.bytes.subarray(n,n+t)}readDictionary(e){return this.dictionaries.get(e.id)}}class hh extends hd{constructor(e,t,n,r){super(new Uint8Array(0),t,n,r),this.sources=e}readNullBitmap(e,t,{offset:n}=this.nextBufferRange()){return t<=0?new Uint8Array(0):uZ(this.sources[n])}readOffsets(e,{offset:t}=this.nextBufferRange()){return s5(Uint8Array,s5(Int32Array,this.sources[t]))}readTypeIds(e,{offset:t}=this.nextBufferRange()){return s5(Uint8Array,s5(e.ArrayType,this.sources[t]))}readData(e,{offset:t}=this.nextBufferRange()){let{sources:n}=this;if(lu.isTimestamp(e)||(lu.isInt(e)||lu.isTime(e))&&64===e.bitWidth)return s5(Uint8Array,hu.convertArray(n[t]));if(lu.isDate(e)&&e.unit===ex.MILLISECOND)return s5(Uint8Array,hu.convertArray(n[t]));if(lu.isDecimal(e))return s5(Uint8Array,hc.convertArray(n[t]));if(lu.isBinary(e)||lu.isFixedSizeBinary(e))return function(e){let t=e.join(""),n=new Uint8Array(t.length/2);for(let e=0;e<t.length;e+=2)n[e>>1]=Number.parseInt(t.slice(e,e+2),16);return n}(n[t]);else if(lu.isBool(e))return uZ(n[t]);else if(lu.isUtf8(e)){let e;return e=n[t].join(""),s3.encode(e)}return s5(Uint8Array,s5(e.ArrayType,n[t].map(e=>+e)))}}(en=ez||(ez={}))[en.BUFFER=0]="BUFFER",(er=eF||(eF={}))[er.LZ4_FRAME=0]="LZ4_FRAME",er[er.ZSTD=1]="ZSTD";class hf{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsBodyCompression(e,t){return(t||new hf).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsBodyCompression(e,t){return e.setPosition(e.position()+4),(t||new hf).__init(e.readInt32(e.position())+e.position(),e)}codec(){let e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt8(this.bb_pos+e):eF.LZ4_FRAME}method(){let e=this.bb.__offset(this.bb_pos,6);return e?this.bb.readInt8(this.bb_pos+e):ez.BUFFER}static startBodyCompression(e){e.startObject(2)}static addCodec(e,t){e.addFieldInt8(0,t,eF.LZ4_FRAME)}static addMethod(e,t){e.addFieldInt8(1,t,ez.BUFFER)}static endBodyCompression(e){return e.endObject()}static createBodyCompression(e,t,n){return hf.startBodyCompression(e),hf.addCodec(e,t),hf.addMethod(e,n),hf.endBodyCompression(e)}}class hp{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}offset(){return this.bb.readInt64(this.bb_pos)}length(){return this.bb.readInt64(this.bb_pos+8)}static sizeOf(){return 16}static createBuffer(e,t,n){return e.prep(8,16),e.writeInt64(n),e.writeInt64(t),e.offset()}}class hy{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}length(){return this.bb.readInt64(this.bb_pos)}nullCount(){return this.bb.readInt64(this.bb_pos+8)}static sizeOf(){return 16}static createFieldNode(e,t,n){return e.prep(8,16),e.writeInt64(n),e.writeInt64(t),e.offset()}}class hg{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsRecordBatch(e,t){return(t||new hg).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsRecordBatch(e,t){return e.setPosition(e.position()+4),(t||new hg).__init(e.readInt32(e.position())+e.position(),e)}length(){let e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt64(this.bb_pos+e):this.bb.createLong(0,0)}nodes(e,t){let n=this.bb.__offset(this.bb_pos,6);return n?(t||new hy).__init(this.bb.__vector(this.bb_pos+n)+16*e,this.bb):null}nodesLength(){let e=this.bb.__offset(this.bb_pos,6);return e?this.bb.__vector_len(this.bb_pos+e):0}buffers(e,t){let n=this.bb.__offset(this.bb_pos,8);return n?(t||new hp).__init(this.bb.__vector(this.bb_pos+n)+16*e,this.bb):null}buffersLength(){let e=this.bb.__offset(this.bb_pos,8);return e?this.bb.__vector_len(this.bb_pos+e):0}compression(e){let t=this.bb.__offset(this.bb_pos,10);return t?(e||new hf).__init(this.bb.__indirect(this.bb_pos+t),this.bb):null}static startRecordBatch(e){e.startObject(4)}static addLength(e,t){e.addFieldInt64(0,t,e.createLong(0,0))}static addNodes(e,t){e.addFieldOffset(1,t,0)}static startNodesVector(e,t){e.startVector(16,t,8)}static addBuffers(e,t){e.addFieldOffset(2,t,0)}static startBuffersVector(e,t){e.startVector(16,t,8)}static addCompression(e,t){e.addFieldOffset(3,t,0)}static endRecordBatch(e){return e.endObject()}}class hm{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsDictionaryBatch(e,t){return(t||new hm).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsDictionaryBatch(e,t){return e.setPosition(e.position()+4),(t||new hm).__init(e.readInt32(e.position())+e.position(),e)}id(){let e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt64(this.bb_pos+e):this.bb.createLong(0,0)}data(e){let t=this.bb.__offset(this.bb_pos,6);return t?(e||new hg).__init(this.bb.__indirect(this.bb_pos+t),this.bb):null}isDelta(){let e=this.bb.__offset(this.bb_pos,8);return!!e&&!!this.bb.readInt8(this.bb_pos+e)}static startDictionaryBatch(e){e.startObject(3)}static addId(e,t){e.addFieldInt64(0,t,e.createLong(0,0))}static addData(e,t){e.addFieldOffset(1,t,0)}static addIsDelta(e,t){e.addFieldInt8(2,+t,0)}static endDictionaryBatch(e){return e.endObject()}}(ei=eU||(eU={}))[ei.Row=0]="Row",ei[ei.Column=1]="Column",(eo=eV||(eV={}))[eo.NONE=0]="NONE",eo[eo.SparseTensorIndexCOO=1]="SparseTensorIndexCOO",eo[eo.SparseMatrixIndexCSX=2]="SparseMatrixIndexCSX",eo[eo.SparseTensorIndexCSF=3]="SparseTensorIndexCSF",(ea=e$||(e$={}))[ea.NONE=0]="NONE",ea[ea.Schema=1]="Schema",ea[ea.DictionaryBatch=2]="DictionaryBatch",ea[ea.RecordBatch=3]="RecordBatch",ea[ea.Tensor=4]="Tensor",ea[ea.SparseTensor=5]="SparseTensor";class hb{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsMessage(e,t){return(t||new hb).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsMessage(e,t){return e.setPosition(e.position()+4),(t||new hb).__init(e.readInt32(e.position())+e.position(),e)}version(){let e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt16(this.bb_pos+e):eN.V1}headerType(){let e=this.bb.__offset(this.bb_pos,6);return e?this.bb.readUint8(this.bb_pos+e):e$.NONE}header(e){let t=this.bb.__offset(this.bb_pos,8);return t?this.bb.__union(e,this.bb_pos+t):null}bodyLength(){let e=this.bb.__offset(this.bb_pos,10);return e?this.bb.readInt64(this.bb_pos+e):this.bb.createLong(0,0)}customMetadata(e,t){let n=this.bb.__offset(this.bb_pos,12);return n?(t||new dN).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+n)+4*e),this.bb):null}customMetadataLength(){let e=this.bb.__offset(this.bb_pos,12);return e?this.bb.__vector_len(this.bb_pos+e):0}static startMessage(e){e.startObject(5)}static addVersion(e,t){e.addFieldInt16(0,t,eN.V1)}static addHeaderType(e,t){e.addFieldInt8(1,t,e$.NONE)}static addHeader(e,t){e.addFieldOffset(2,t,0)}static addBodyLength(e,t){e.addFieldInt64(3,t,e.createLong(0,0))}static addCustomMetadata(e,t){e.addFieldOffset(4,t,0)}static createCustomMetadataVector(e,t){e.startVector(4,t.length,4);for(let n=t.length-1;n>=0;n--)e.addOffset(t[n]);return e.endVector()}static startCustomMetadataVector(e,t){e.startVector(4,t,4)}static endMessage(e){return e.endObject()}static finishMessageBuffer(e,t){e.finish(t)}static finishSizePrefixedMessageBuffer(e,t){e.finish(t,void 0,!0)}static createMessage(e,t,n,r,i,o){return hb.startMessage(e),hb.addVersion(e,t),hb.addHeaderType(e,n),hb.addHeader(e,r),hb.addBodyLength(e,i),hb.addCustomMetadata(e,o),hb.endMessage(e)}}let hv=new class extends lA{visit(e,t){return null==e||null==t?void 0:super.visit(e,t)}visitNull(e,t){return d$.startNull(t),d$.endNull(t)}visitInt(e,t){return dT.startInt(t),dT.addBitWidth(t,e.bitWidth),dT.addIsSigned(t,e.isSigned),dT.endInt(t)}visitFloat(e,t){return dz.startFloatingPoint(t),dz.addPrecision(t,e.precision),dz.endFloatingPoint(t)}visitBinary(e,t){return dO.startBinary(t),dO.endBinary(t)}visitBool(e,t){return dD.startBool(t),dD.endBool(t)}visitUtf8(e,t){return dX.startUtf8(t),dX.endUtf8(t)}visitDecimal(e,t){return dP.startDecimal(t),dP.addScale(t,e.scale),dP.addPrecision(t,e.precision),dP.addBitWidth(t,e.bitWidth),dP.endDecimal(t)}visitDate(e,t){return dB.startDate(t),dB.addUnit(t,e.unit),dB.endDate(t)}visitTime(e,t){return dH.startTime(t),dH.addUnit(t,e.unit),dH.addBitWidth(t,e.bitWidth),dH.endTime(t)}visitTimestamp(e,t){let n=e.timezone&&t.createString(e.timezone)||void 0;return dW.startTimestamp(t),dW.addUnit(t,e.unit),void 0!==n&&dW.addTimezone(t,n),dW.endTimestamp(t)}visitInterval(e,t){return dF.startInterval(t),dF.addUnit(t,e.unit),dF.endInterval(t)}visitList(e,t){return dU.startList(t),dU.endList(t)}visitStruct(e,t){return dj.startStruct_(t),dj.endStruct_(t)}visitUnion(e,t){dY.startTypeIdsVector(t,e.typeIds.length);let n=dY.createTypeIdsVector(t,e.typeIds);return dY.startUnion(t),dY.addMode(t,e.mode),dY.addTypeIds(t,n),dY.endUnion(t)}visitDictionary(e,t){let n=this.visit(e.indices,t);return dA.startDictionaryEncoding(t),dA.addId(t,new dk(e.id,0)),dA.addIsOrdered(t,e.isOrdered),void 0!==n&&dA.addIndexType(t,n),dA.endDictionaryEncoding(t)}visitFixedSizeBinary(e,t){return dL.startFixedSizeBinary(t),dL.addByteWidth(t,e.byteWidth),dL.endFixedSizeBinary(t)}visitFixedSizeList(e,t){return dR.startFixedSizeList(t),dR.addListSize(t,e.listSize),dR.endFixedSizeList(t)}visitMap(e,t){return dV.startMap(t),dV.addKeysSorted(t,e.keysSorted),dV.endMap(t)}};function hw(e){return new hk(e.count,function e(t){return(t||[]).reduce((t,n)=>[...t,new hN(n.count,(n.VALIDITY||[]).reduce((e,t)=>e+ +(0===t),0)),...e(n.children)],[])}(e.columns),function e(t,n=[]){for(let r=-1,i=(t||[]).length;++r<i;){let i=t[r];i.VALIDITY&&n.push(new hM(n.length,i.VALIDITY.length)),i.TYPE&&n.push(new hM(n.length,i.TYPE.length)),i.OFFSET&&n.push(new hM(n.length,i.OFFSET.length)),i.DATA&&n.push(new hM(n.length,i.DATA.length)),n=e(i.children,n)}return n}(e.columns))}function h_(e,t){return(e.children||[]).filter(Boolean).map(e=>cd.fromJSON(e,t))}function hx(e){return new Map(Object.entries(e||{}))}function hS(e){return new ld(e.isSigned,e.bitWidth)}function hE(e,t){let n=e.type.name;switch(n){case"NONE":case"null":return new lc;case"binary":return new lp;case"utf8":return new ly;case"bool":return new lg;case"list":return new lx((t||[])[0]);case"struct":case"struct_":return new lS(t||[])}switch(n){case"int":{let t=e.type;return new ld(t.isSigned,t.bitWidth)}case"floatingpoint":return new lf(e_[e.type.precision]);case"decimal":{let t=e.type;return new lm(t.scale,t.precision,t.bitWidth)}case"date":return new lb(ex[e.type.unit]);case"time":{let t=e.type;return new lv(eS[t.unit],t.bitWidth)}case"timestamp":{let t=e.type;return new lw(eS[t.unit],t.timezone)}case"interval":return new l_(eE[e.type.unit]);case"union":{let n=e.type;return new lE(ew[n.mode],n.typeIds||[],t||[])}case"fixedsizebinary":return new lC(e.type.byteWidth);case"fixedsizelist":return new lk(e.type.listSize,(t||[])[0]);case"map":{let n=e.type;return new lI((t||[])[0],n.keysSorted)}}throw Error(`Unrecognized type: "${n}"`)}class hC{constructor(e,t,n,r){this._version=t,this._headerType=n,this.body=new Uint8Array(0),r&&(this._createHeader=()=>r),this._bodyLength="number"==typeof e?e:e.low}static fromJSON(e,t){var n,r;let i=new hC(0,ev.V4,t);return n=e,r=t,i._createHeader=()=>{switch(r){case eC.Schema:return cc.fromJSON(n);case eC.RecordBatch:return hk.fromJSON(n);case eC.DictionaryBatch:return hI.fromJSON(n)}throw Error(`Unrecognized Message type: { name: ${eC[r]}, type: ${r} }`)},i}static decode(e){var t,n;e=new dI(s9(e));let r=hb.getRootAsMessage(e),i=r.bodyLength(),o=r.version(),a=r.headerType(),s=new hC(i,o,a);return t=r,n=a,s._createHeader=()=>{switch(n){case eC.Schema:return cc.decode(t.header(new dK));case eC.RecordBatch:return hk.decode(t.header(new hg),t.version());case eC.DictionaryBatch:return hI.decode(t.header(new hm),t.version())}throw Error(`Unrecognized Message type: { name: ${eC[n]}, type: ${n} }`)},s}static encode(e){let t=new dM,n=-1;return e.isSchema()?n=cc.encode(t,e.header()):e.isRecordBatch()?n=hk.encode(t,e.header()):e.isDictionaryBatch()&&(n=hI.encode(t,e.header())),hb.startMessage(t),hb.addVersion(t,ev.V4),hb.addHeader(t,n),hb.addHeaderType(t,e.headerType),hb.addBodyLength(t,new dk(e.bodyLength,0)),hb.finishMessageBuffer(t,hb.endMessage(t)),t.asUint8Array()}static from(e,t=0){if(e instanceof cc)return new hC(0,ev.V4,eC.Schema,e);if(e instanceof hk)return new hC(t,ev.V4,eC.RecordBatch,e);if(e instanceof hI)return new hC(t,ev.V4,eC.DictionaryBatch,e);throw Error(`Unrecognized Message header: ${e}`)}get type(){return this.headerType}get version(){return this._version}get headerType(){return this._headerType}get bodyLength(){return this._bodyLength}header(){return this._createHeader()}isSchema(){return this.headerType===eC.Schema}isRecordBatch(){return this.headerType===eC.RecordBatch}isDictionaryBatch(){return this.headerType===eC.DictionaryBatch}}class hk{constructor(e,t,n){this._nodes=t,this._buffers=n,this._length="number"==typeof e?e:e.low}get nodes(){return this._nodes}get length(){return this._length}get buffers(){return this._buffers}}class hI{constructor(e,t,n=!1){this._data=e,this._isDelta=n,this._id="number"==typeof t?t:t.low}get id(){return this._id}get data(){return this._data}get isDelta(){return this._isDelta}get length(){return this.data.length}get nodes(){return this.data.nodes}get buffers(){return this.data.buffers}}class hM{constructor(e,t){this.offset="number"==typeof e?e:e.low,this.length="number"==typeof t?t:t.low}}class hN{constructor(e,t){this.length="number"==typeof e?e:e.low,this.nullCount="number"==typeof t?t:t.low}}function hT(e,t){let n=[];for(let r,i=-1,o=-1,a=e.childrenLength();++i<a;)(r=e.children(i))&&(n[++o]=cd.decode(r,t));return n}function hA(e){let t=new Map;if(e)for(let n,r,i=-1,o=Math.trunc(e.customMetadataLength());++i<o;)(n=e.customMetadata(i))&&null!=(r=n.key())&&t.set(r,n.value());return t}function hO(e){return new ld(e.isSigned(),e.bitWidth())}function hD(e,t){let n=e.typeType();switch(n){case eR.NONE:case eR.Null:return new lc;case eR.Binary:return new lp;case eR.Utf8:return new ly;case eR.Bool:return new lg;case eR.List:return new lx((t||[])[0]);case eR.Struct_:return new lS(t||[])}switch(n){case eR.Int:{let t=e.type(new dT);return new ld(t.isSigned(),t.bitWidth())}case eR.FloatingPoint:return new lf(e.type(new dz).precision());case eR.Decimal:{let t=e.type(new dP);return new lm(t.scale(),t.precision(),t.bitWidth())}case eR.Date:return new lb(e.type(new dB).unit());case eR.Time:{let t=e.type(new dH);return new lv(t.unit(),t.bitWidth())}case eR.Timestamp:{let t=e.type(new dW);return new lw(t.unit(),t.timezone())}case eR.Interval:return new l_(e.type(new dF).unit());case eR.Union:{let n=e.type(new dY);return new lE(n.mode(),n.typeIdsArray()||[],t||[])}case eR.FixedSizeBinary:return new lC(e.type(new dL).byteWidth());case eR.FixedSizeList:return new lk(e.type(new dR).listSize(),(t||[])[0]);case eR.Map:{let n=e.type(new dV);return new lI((t||[])[0],n.keysSorted())}}throw Error(`Unrecognized type: "${eR[n]}" (${n})`)}cd.encode=function(e,t){let n=-1,r=-1,i=-1,o=t.type,a=t.typeId;lu.isDictionary(o)?(a=o.dictionary.typeId,i=hv.visit(o,e),r=hv.visit(o.dictionary,e)):r=hv.visit(o,e);let s=(o.children||[]).map(t=>cd.encode(e,t)),l=dq.createChildrenVector(e,s),u=t.metadata&&t.metadata.size>0?dq.createCustomMetadataVector(e,[...t.metadata].map(([t,n])=>{let r=e.createString(`${t}`),i=e.createString(`${n}`);return dN.startKeyValue(e),dN.addKey(e,r),dN.addValue(e,i),dN.endKeyValue(e)})):-1;return t.name&&(n=e.createString(t.name)),dq.startField(e),dq.addType(e,r),dq.addTypeType(e,a),dq.addChildren(e,l),dq.addNullable(e,!!t.nullable),-1!==n&&dq.addName(e,n),-1!==i&&dq.addDictionary(e,i),-1!==u&&dq.addCustomMetadata(e,u),dq.endField(e)},cd.decode=function(e,t){let n,r,i,o,a,s;return t&&(s=e.dictionary())?(t.has(n=s.id().low)?(o=(o=s.indexType())?hO(o):new lh,a=new lN(t.get(n),o,n,s.isOrdered())):(o=(o=s.indexType())?hO(o):new lh,t.set(n,i=hD(e,hT(e,t))),a=new lN(i,o,n,s.isOrdered())),r=new cd(e.name(),a,e.nullable(),hA(e))):(i=hD(e,hT(e,t)),r=new cd(e.name(),i,e.nullable(),hA(e))),r||null},cd.fromJSON=function(e,t){let n,r,i,o,a,s;return t&&(o=e.dictionary)?(t.has(n=o.id)?(r=(r=o.indexType)?hS(r):new lh,s=new lN(t.get(n),r,n,o.isOrdered)):(r=(r=o.indexType)?hS(r):new lh,t.set(n,a=hE(e,h_(e,t))),s=new lN(a,r,n,o.isOrdered)),i=new cd(e.name,s,e.nullable,hx(e.customMetadata))):(a=hE(e,h_(e,t)),i=new cd(e.name,a,e.nullable,hx(e.customMetadata))),i||null},cc.encode=function(e,t){let n=t.fields.map(t=>cd.encode(e,t));dK.startFieldsVector(e,n.length);let r=dK.createFieldsVector(e,n),i=t.metadata&&t.metadata.size>0?dK.createCustomMetadataVector(e,[...t.metadata].map(([t,n])=>{let r=e.createString(`${t}`),i=e.createString(`${n}`);return dN.startKeyValue(e),dN.addKey(e,r),dN.addValue(e,i),dN.endKeyValue(e)})):-1;return dK.startSchema(e),dK.addFields(e,r),dK.addEndianness(e,hB?eT.Little:eT.Big),-1!==i&&dK.addCustomMetadata(e,i),dK.endSchema(e)},cc.decode=function(e,t=new Map){return new cc(function(e,t){let n=[];for(let r,i=-1,o=-1,a=e.fieldsLength();++i<a;)(r=e.fields(i))&&(n[++o]=cd.decode(r,t));return n}(e,t),hA(e),t)},cc.fromJSON=function(e,t=new Map){var n,r;return new cc((n=e,r=t,(n.fields||[]).filter(Boolean).map(e=>cd.fromJSON(e,r))),hx(e.customMetadata),t)},hk.encode=function(e,t){let n=t.nodes||[],r=t.buffers||[];for(let t of(hg.startNodesVector(e,n.length),n.slice().reverse()))hN.encode(e,t);let i=e.endVector();for(let t of(hg.startBuffersVector(e,r.length),r.slice().reverse()))hM.encode(e,t);let o=e.endVector();return hg.startRecordBatch(e),hg.addLength(e,new dk(t.length,0)),hg.addNodes(e,i),hg.addBuffers(e,o),hg.endRecordBatch(e)},hk.decode=function(e,t=ev.V4){if(null!==e.compression())throw Error("Record batch compression not implemented");return new hk(e.length(),function(e){let t=[];for(let n,r=-1,i=-1,o=e.nodesLength();++r<o;)(n=e.nodes(r))&&(t[++i]=hN.decode(n));return t}(e),function(e,t){let n=[];for(let r,i=-1,o=-1,a=e.buffersLength();++i<a;)(r=e.buffers(i))&&(t<ev.V4&&(r.bb_pos+=8*(i+1)),n[++o]=hM.decode(r));return n}(e,t))},hk.fromJSON=hw,hI.encode=function(e,t){let n=hk.encode(e,t.data);return hm.startDictionaryBatch(e),hm.addId(e,new dk(t.id,0)),hm.addIsDelta(e,t.isDelta),hm.addData(e,n),hm.endDictionaryBatch(e)},hI.decode=function(e,t=ev.V4){return new hI(hk.decode(e.data(),t),e.id(),e.isDelta())},hI.fromJSON=function(e){return new hI(hw(e.data),e.id,e.isDelta)},hN.encode=function(e,t){return hy.createFieldNode(e,new dk(t.length,0),new dk(t.nullCount,0))},hN.decode=function(e){return new hN(e.length(),e.nullCount())},hM.encode=function(e,t){return hp.createBuffer(e,new dk(t.offset,0),new dk(t.length,0))},hM.decode=function(e){return new hM(e.offset(),e.length())};let hB=(new DataView(s=new ArrayBuffer(2)).setInt16(0,256,!0),256===new Int16Array(s)[0]),hP=e=>`Expected ${eC[e]} Message in stream, but was null or length 0.`,hL=e=>`Header pointer of flatbuffer-encoded ${eC[e]} Message is null or length 0.`,hR=(e,t)=>`Expected to read ${e} metadata bytes, but only read ${t}.`,hz=(e,t)=>`Expected to read ${e} bytes for message body, but only read ${t}.`;class hF{constructor(e){this.source=e instanceof d7?e:new d7(e)}[Symbol.iterator](){return this}next(){let e;return(e=this.readMetadataLength()).done||-1===e.value&&(e=this.readMetadataLength()).done||(e=this.readMetadata(e.value)).done?d4:e}throw(e){return this.source.throw(e)}return(e){return this.source.return(e)}readMessage(e){let t;if((t=this.next()).done)return null;if(null!=e&&t.value.headerType!==e)throw Error(hP(e));return t.value}readMessageBody(e){if(e<=0)return new Uint8Array(0);let t=s9(this.source.read(e));if(t.byteLength<e)throw Error(hz(e,t.byteLength));return t.byteOffset%8==0&&t.byteOffset+t.byteLength<=t.buffer.byteLength?t:t.slice()}readSchema(e=!1){let t=eC.Schema,n=this.readMessage(t),r=null==n?void 0:n.header();if(e&&!r)throw Error(hL(t));return r}readMetadataLength(){let e=this.source.read(h$),t=e&&new dI(e),n=(null==t?void 0:t.readInt32(0))||0;return{done:0===n,value:n}}readMetadata(e){let t=this.source.read(e);if(!t)return d4;if(t.byteLength<e)throw Error(hR(e,t.byteLength));return{done:!1,value:hC.decode(t)}}}class hU{constructor(e,t){this.source=e instanceof he?e:sj(e)?new hi(e,t):new he(e)}[Symbol.asyncIterator](){return this}next(){return sG(this,void 0,void 0,function*(){let e;return(e=yield this.readMetadataLength()).done||-1===e.value&&(e=yield this.readMetadataLength()).done||(e=yield this.readMetadata(e.value)).done?d4:e})}throw(e){return sG(this,void 0,void 0,function*(){return yield this.source.throw(e)})}return(e){return sG(this,void 0,void 0,function*(){return yield this.source.return(e)})}readMessage(e){return sG(this,void 0,void 0,function*(){let t;if((t=yield this.next()).done)return null;if(null!=e&&t.value.headerType!==e)throw Error(hP(e));return t.value})}readMessageBody(e){return sG(this,void 0,void 0,function*(){if(e<=0)return new Uint8Array(0);let t=s9((yield this.source.read(e)));if(t.byteLength<e)throw Error(hz(e,t.byteLength));return t.byteOffset%8==0&&t.byteOffset+t.byteLength<=t.buffer.byteLength?t:t.slice()})}readSchema(e=!1){return sG(this,void 0,void 0,function*(){let t=eC.Schema,n=yield this.readMessage(t),r=null==n?void 0:n.header();if(e&&!r)throw Error(hL(t));return r})}readMetadataLength(){return sG(this,void 0,void 0,function*(){let e=yield this.source.read(h$),t=e&&new dI(e),n=(null==t?void 0:t.readInt32(0))||0;return{done:0===n,value:n}})}readMetadata(e){return sG(this,void 0,void 0,function*(){let t=yield this.source.read(e);if(!t)return d4;if(t.byteLength<e)throw Error(hR(e,t.byteLength));return{done:!1,value:hC.decode(t)}})}}class hV extends hF{constructor(e){super(new Uint8Array(0)),this._schema=!1,this._body=[],this._batchIndex=0,this._dictionaryIndex=0,this._json=e instanceof d6?e:new d6(e)}next(){let{_json:e}=this;if(!this._schema)return this._schema=!0,{done:!1,value:hC.fromJSON(e.schema,eC.Schema)};if(this._dictionaryIndex<e.dictionaries.length){let t=e.dictionaries[this._dictionaryIndex++];return this._body=t.data.columns,{done:!1,value:hC.fromJSON(t,eC.DictionaryBatch)}}if(this._batchIndex<e.batches.length){let t=e.batches[this._batchIndex++];return this._body=t.columns,{done:!1,value:hC.fromJSON(t,eC.RecordBatch)}}return this._body=[],d4}readMessageBody(e){return function e(t){return(t||[]).reduce((t,n)=>[...t,...n.VALIDITY&&[n.VALIDITY]||[],...n.TYPE&&[n.TYPE]||[],...n.OFFSET&&[n.OFFSET]||[],...n.DATA&&[n.DATA]||[],...e(n.children)],[])}(this._body)}readMessage(e){let t;if((t=this.next()).done)return null;if(null!=e&&t.value.headerType!==e)throw Error(hP(e));return t.value}readSchema(){let e=eC.Schema,t=this.readMessage(e),n=null==t?void 0:t.header();if(!t||!n)throw Error(hL(e));return n}}let h$=4,hj="ARROW1",hH=new Uint8Array(hj.length);for(let e=0;e<hj.length;e+=1)hH[e]=hj.codePointAt(e);function hW(e,t=0){for(let n=-1,r=hH.length;++n<r;)if(hH[n]!==e[t+n])return!1;return!0}let hY=hH.length,hX=hY+h$,hq=2*hY+h$;class hK extends d8{constructor(e){super(),this._impl=e}get closed(){return this._impl.closed}get schema(){return this._impl.schema}get autoDestroy(){return this._impl.autoDestroy}get dictionaries(){return this._impl.dictionaries}get numDictionaries(){return this._impl.numDictionaries}get numRecordBatches(){return this._impl.numRecordBatches}get footer(){return this._impl.isFile()?this._impl.footer:null}isSync(){return this._impl.isSync()}isAsync(){return this._impl.isAsync()}isFile(){return this._impl.isFile()}isStream(){return this._impl.isStream()}next(){return this._impl.next()}throw(e){return this._impl.throw(e)}return(e){return this._impl.return(e)}cancel(){return this._impl.cancel()}reset(e){return this._impl.reset(e),this._DOMStream=void 0,this._nodeStream=void 0,this}open(e){let t=this._impl.open(e);return sz(t)?t.then(()=>this):this}readRecordBatch(e){return this._impl.isFile()?this._impl.readRecordBatch(e):null}[Symbol.iterator](){return this._impl[Symbol.iterator]()}[Symbol.asyncIterator](){return this._impl[Symbol.asyncIterator]()}toDOMStream(){return d0.toDOMStream(this.isSync()?{[Symbol.iterator]:()=>this}:{[Symbol.asyncIterator]:()=>this})}toNodeStream(){return d0.toNodeStream(this.isSync()?{[Symbol.iterator]:()=>this}:{[Symbol.asyncIterator]:()=>this},{objectMode:!0})}static throughNode(e){throw Error('"throughNode" not available in this environment')}static throughDOM(e,t){throw Error('"throughDOM" not available in this environment')}static from(e){var t;let n;if(e instanceof hK)return e;if(sV(e))return new hG(new h6(e));if(sj(e))return function(e){return sG(this,void 0,void 0,function*(){let{size:t}=yield e.stat(),n=new hi(e,t);return t>=hq&&hW((yield n.readAt(0,hY+7&-8)))?new hJ(new h4(n)):new hZ(new h2(n))})}(e);if(sz(e))return sG(this,void 0,void 0,function*(){return yield hK.from((yield e))});if(sH(e)||sY(e)||sX(e)||sU(e))return function(e){return sG(this,void 0,void 0,function*(){let t=yield e.peek(hY+7&-8);return t&&t.byteLength>=4?hW(t)?new hQ(new h3((yield e.read()))):new hZ(new h2(e)):new hZ(new h2(function(){return sQ(this,arguments,function*(){})}()))})}(new he(e));return(n=(t=new d7(e)).peek(hY+7&-8))&&n.byteLength>=4?hW(n)?new hQ(new h3(t.read())):new hG(new h1(t)):new hG(new h1(function*(){}()))}static readAll(e){return e instanceof hK?e.isSync()?h5(e):h9(e):sV(e)||ArrayBuffer.isView(e)||sF(e)||s$(e)?h5(e):h9(e)}}class hG extends hK{constructor(e){super(e),this._impl=e}readAll(){return[...this]}[Symbol.iterator](){return this._impl[Symbol.iterator]()}[Symbol.asyncIterator](){return sQ(this,arguments,function*(){yield sZ((yield*sJ(s0(this[Symbol.iterator]()))))})}}class hZ extends hK{constructor(e){super(e),this._impl=e}readAll(){var e,t;return sG(this,void 0,void 0,function*(){let n=[];try{for(var r,i=s0(this);!(r=yield i.next()).done;){let e=r.value;n.push(e)}}catch(t){e={error:t}}finally{try{r&&!r.done&&(t=i.return)&&(yield t.call(i))}finally{if(e)throw e.error}}return n})}[Symbol.iterator](){throw Error("AsyncRecordBatchStreamReader is not Iterable")}[Symbol.asyncIterator](){return this._impl[Symbol.asyncIterator]()}}class hQ extends hG{constructor(e){super(e),this._impl=e}}class hJ extends hZ{constructor(e){super(e),this._impl=e}}class h0{constructor(e=new Map){this.closed=!1,this.autoDestroy=!0,this._dictionaryIndex=0,this._recordBatchIndex=0,this.dictionaries=e}get numDictionaries(){return this._dictionaryIndex}get numRecordBatches(){return this._recordBatchIndex}isSync(){return!1}isAsync(){return!1}isFile(){return!1}isStream(){return!1}reset(e){return this._dictionaryIndex=0,this._recordBatchIndex=0,this.schema=e,this.dictionaries=new Map,this}_loadRecordBatch(e,t){let n=this._loadVectors(e,t,this.schema.fields),r=cu({type:new lS(this.schema.fields),length:e.length,children:n});return new dn(this.schema,r)}_loadDictionaryBatch(e,t){let{id:n,isDelta:r}=e,{dictionaries:i,schema:o}=this,a=i.get(n);if(r||!a){let i=o.dictionaries.get(n),s=this._loadVectors(e.data,t,[i]);return(a&&r?a.concat(new co(s)):new co(s)).memoize()}return a.memoize()}_loadVectors(e,t,n){return new hd(t,e.nodes,e.buffers,this.dictionaries).visitMany(n)}}class h1 extends h0{constructor(e,t){super(t),this._reader=sV(e)?new hV(this._handle=e):new hF(this._handle=e)}isSync(){return!0}isStream(){return!0}[Symbol.iterator](){return this}cancel(){!this.closed&&(this.closed=!0)&&(this.reset()._reader.return(),this._reader=null,this.dictionaries=null)}open(e){return!this.closed&&(this.autoDestroy=h8(this,e),this.schema||(this.schema=this._reader.readSchema())||this.cancel()),this}throw(e){return!this.closed&&this.autoDestroy&&(this.closed=!0)?this.reset()._reader.throw(e):d4}return(e){return!this.closed&&this.autoDestroy&&(this.closed=!0)?this.reset()._reader.return(e):d4}next(){let e;if(this.closed)return d4;let{_reader:t}=this;for(;e=this._readNextMessageAndValidate();)if(e.isSchema())this.reset(e.header());else if(e.isRecordBatch()){this._recordBatchIndex++;let n=e.header(),r=t.readMessageBody(e.bodyLength);return{done:!1,value:this._loadRecordBatch(n,r)}}else if(e.isDictionaryBatch()){this._dictionaryIndex++;let n=e.header(),r=t.readMessageBody(e.bodyLength),i=this._loadDictionaryBatch(n,r);this.dictionaries.set(n.id,i)}return this.schema&&0===this._recordBatchIndex?(this._recordBatchIndex++,{done:!1,value:new di(this.schema)}):this.return()}_readNextMessageAndValidate(e){return this._reader.readMessage(e)}}class h2 extends h0{constructor(e,t){super(t),this._reader=new hU(this._handle=e)}isAsync(){return!0}isStream(){return!0}[Symbol.asyncIterator](){return this}cancel(){return sG(this,void 0,void 0,function*(){!this.closed&&(this.closed=!0)&&(yield this.reset()._reader.return(),this._reader=null,this.dictionaries=null)})}open(e){return sG(this,void 0,void 0,function*(){return!this.closed&&(this.autoDestroy=h8(this,e),this.schema||(this.schema=yield this._reader.readSchema())||(yield this.cancel())),this})}throw(e){return sG(this,void 0,void 0,function*(){return!this.closed&&this.autoDestroy&&(this.closed=!0)?yield this.reset()._reader.throw(e):d4})}return(e){return sG(this,void 0,void 0,function*(){return!this.closed&&this.autoDestroy&&(this.closed=!0)?yield this.reset()._reader.return(e):d4})}next(){return sG(this,void 0,void 0,function*(){let e;if(this.closed)return d4;let{_reader:t}=this;for(;e=yield this._readNextMessageAndValidate();)if(e.isSchema())yield this.reset(e.header());else if(e.isRecordBatch()){this._recordBatchIndex++;let n=e.header(),r=yield t.readMessageBody(e.bodyLength);return{done:!1,value:this._loadRecordBatch(n,r)}}else if(e.isDictionaryBatch()){this._dictionaryIndex++;let n=e.header(),r=yield t.readMessageBody(e.bodyLength),i=this._loadDictionaryBatch(n,r);this.dictionaries.set(n.id,i)}return this.schema&&0===this._recordBatchIndex?(this._recordBatchIndex++,{done:!1,value:new di(this.schema)}):yield this.return()})}_readNextMessageAndValidate(e){return sG(this,void 0,void 0,function*(){return yield this._reader.readMessage(e)})}}class h3 extends h1{constructor(e,t){super(e instanceof hr?e:new hr(e),t)}get footer(){return this._footer}get numDictionaries(){return this._footer?this._footer.numDictionaries:0}get numRecordBatches(){return this._footer?this._footer.numRecordBatches:0}isSync(){return!0}isFile(){return!0}open(e){if(!this.closed&&!this._footer)for(let e of(this.schema=(this._footer=this._readFooter()).schema,this._footer.dictionaryBatches()))e&&this._readDictionaryBatch(this._dictionaryIndex++);return super.open(e)}readRecordBatch(e){var t;if(this.closed)return null;this._footer||this.open();let n=null==(t=this._footer)?void 0:t.getRecordBatch(e);if(n&&this._handle.seek(n.offset)){let e=this._reader.readMessage(eC.RecordBatch);if(null==e?void 0:e.isRecordBatch()){let t=e.header(),n=this._reader.readMessageBody(e.bodyLength);return this._loadRecordBatch(t,n)}}return null}_readDictionaryBatch(e){var t;let n=null==(t=this._footer)?void 0:t.getDictionaryBatch(e);if(n&&this._handle.seek(n.offset)){let e=this._reader.readMessage(eC.DictionaryBatch);if(null==e?void 0:e.isDictionaryBatch()){let t=e.header(),n=this._reader.readMessageBody(e.bodyLength),r=this._loadDictionaryBatch(t,n);this.dictionaries.set(t.id,r)}}}_readFooter(){let{_handle:e}=this,t=e.size-hX,n=e.readInt32(t),r=e.readAt(t-n,n);return dZ.decode(r)}_readNextMessageAndValidate(e){var t;if(this._footer||this.open(),this._footer&&this._recordBatchIndex<this.numRecordBatches){let n=null==(t=this._footer)?void 0:t.getRecordBatch(this._recordBatchIndex);if(n&&this._handle.seek(n.offset))return this._reader.readMessage(e)}return null}}class h4 extends h2{constructor(e,...t){super(e instanceof hi?e:new hi(e,"number"!=typeof t[0]?t.shift():void 0),t[0]instanceof Map?t.shift():void 0)}get footer(){return this._footer}get numDictionaries(){return this._footer?this._footer.numDictionaries:0}get numRecordBatches(){return this._footer?this._footer.numRecordBatches:0}isFile(){return!0}isAsync(){return!0}open(e){let t=Object.create(null,{open:{get:()=>super.open}});return sG(this,void 0,void 0,function*(){if(!this.closed&&!this._footer)for(let e of(this.schema=(this._footer=yield this._readFooter()).schema,this._footer.dictionaryBatches()))e&&(yield this._readDictionaryBatch(this._dictionaryIndex++));return yield t.open.call(this,e)})}readRecordBatch(e){var t;return sG(this,void 0,void 0,function*(){if(this.closed)return null;this._footer||(yield this.open());let n=null==(t=this._footer)?void 0:t.getRecordBatch(e);if(n&&(yield this._handle.seek(n.offset))){let e=yield this._reader.readMessage(eC.RecordBatch);if(null==e?void 0:e.isRecordBatch()){let t=e.header(),n=yield this._reader.readMessageBody(e.bodyLength);return this._loadRecordBatch(t,n)}}return null})}_readDictionaryBatch(e){var t;return sG(this,void 0,void 0,function*(){let n=null==(t=this._footer)?void 0:t.getDictionaryBatch(e);if(n&&(yield this._handle.seek(n.offset))){let e=yield this._reader.readMessage(eC.DictionaryBatch);if(null==e?void 0:e.isDictionaryBatch()){let t=e.header(),n=yield this._reader.readMessageBody(e.bodyLength),r=this._loadDictionaryBatch(t,n);this.dictionaries.set(t.id,r)}}})}_readFooter(){return sG(this,void 0,void 0,function*(){let{_handle:e}=this;e._pending&&(yield e._pending);let t=e.size-hX,n=yield e.readInt32(t),r=yield e.readAt(t-n,n);return dZ.decode(r)})}_readNextMessageAndValidate(e){return sG(this,void 0,void 0,function*(){if(this._footer||(yield this.open()),this._footer&&this._recordBatchIndex<this.numRecordBatches){let t=this._footer.getRecordBatch(this._recordBatchIndex);if(t&&(yield this._handle.seek(t.offset)))return yield this._reader.readMessage(e)}return null})}}class h6 extends h1{constructor(e,t){super(e,t)}_loadVectors(e,t,n){return new hh(t,e.nodes,e.buffers,this.dictionaries).visitMany(n)}}function h8(e,t){return t&&"boolean"==typeof t.autoDestroy?t.autoDestroy:e.autoDestroy}function*h5(e){let t=hK.from(e);try{if(!t.open({autoDestroy:!1}).closed)do yield t;while(!t.reset().open().closed)}finally{t.cancel()}}function h9(e){return sQ(this,arguments,function*(){let t=yield sZ(hK.from(e));try{if(!(yield sZ(t.open({autoDestroy:!1}))).closed)do yield yield sZ(t);while(!(yield sZ(t.reset().open())).closed)}finally{yield sZ(t.cancel())}})}class h7 extends lA{constructor(){super(),this._byteLength=0,this._nodes=[],this._buffers=[],this._bufferRegions=[]}static assemble(...e){let t=e=>e.flatMap(e=>Array.isArray(e)?t(e):e instanceof dn?e.data.children:e.data),n=new h7;return n.visitMany(t(e)),n}visit(e){if(e instanceof co)return this.visitMany(e.data),this;let{type:t}=e;if(!lu.isDictionary(t)){let{length:n,nullCount:r}=e;if(n>0x7fffffff)throw RangeError("Cannot write arrays larger than 2^31 - 1 in length");lu.isNull(t)||fe.call(this,r<=0?new Uint8Array(0):uG(e.offset,n,e.nullBitmap)),this.nodes.push(new hN(n,r))}return super.visit(e)}visitNull(e){return this}visitDictionary(e){return this.visit(e.clone(e.type.indices))}get nodes(){return this._nodes}get buffers(){return this._buffers}get byteLength(){return this._byteLength}get bufferRegions(){return this._bufferRegions}}function fe(e){let t=e.byteLength+7&-8;return this.buffers.push(e),this.bufferRegions.push(new hM(this._byteLength,t)),this._byteLength+=t,this}function ft(e){return fe.call(this,e.values.subarray(0,e.length*e.stride))}function fn(e){let{length:t,values:n,valueOffsets:r}=e,i=r[0],o=Math.min(r[t]-i,n.byteLength-i);return fe.call(this,le(-r[0],t,r)),fe.call(this,n.subarray(i,i+o)),this}function fr(e){let{length:t,valueOffsets:n}=e;return n&&fe.call(this,le(n[0],t,n)),this.visit(e.children[0])}function fi(e){return this.visitMany(e.type.children.map((t,n)=>e.children[n]).filter(Boolean))[0]}h7.prototype.visitBool=function(e){let t;return e.nullCount>=e.length?fe.call(this,new Uint8Array(0)):(t=e.values)instanceof Uint8Array?fe.call(this,uG(e.offset,e.length,t)):fe.call(this,uZ(e.values))},h7.prototype.visitInt=ft,h7.prototype.visitFloat=ft,h7.prototype.visitUtf8=fn,h7.prototype.visitBinary=fn,h7.prototype.visitFixedSizeBinary=ft,h7.prototype.visitDate=ft,h7.prototype.visitTimestamp=ft,h7.prototype.visitTime=ft,h7.prototype.visitDecimal=ft,h7.prototype.visitList=fr,h7.prototype.visitStruct=fi,h7.prototype.visitUnion=function(e){let{type:t,length:n,typeIds:r,valueOffsets:i}=e;if(fe.call(this,r),t.mode===ew.Sparse)return fi.call(this,e);if(t.mode===ew.Dense)if(e.offset<=0)return fe.call(this,i),fi.call(this,e);else{let o=r.reduce((e,t)=>Math.max(e,t),r[0]),a=new Int32Array(o+1),s=new Int32Array(o+1).fill(-1),l=new Int32Array(n),u=le(-i[0],n,i);for(let e,t,i=-1;++i<n;)-1===(t=s[e=r[i]])&&(t=s[e]=u[e]),l[i]=u[i]-t,++a[e];fe.call(this,l);for(let r,i=-1,o=t.children.length;++i<o;)if(r=e.children[i]){let e=t.typeIds[i],o=Math.min(n,a[e]);this.visit(r.slice(s[e],o))}}return this},h7.prototype.visitInterval=ft,h7.prototype.visitFixedSizeList=fr,h7.prototype.visitMap=fr;class fo extends d8{constructor(e){super(),this._position=0,this._started=!1,this._sink=new d9,this._schema=null,this._dictionaryBlocks=[],this._recordBatchBlocks=[],this._dictionaryDeltaOffsets=new Map,sR(e)||(e={autoDestroy:!0,writeLegacyIpcFormat:!1}),this._autoDestroy="boolean"!=typeof e.autoDestroy||e.autoDestroy,this._writeLegacyIpcFormat="boolean"==typeof e.writeLegacyIpcFormat&&e.writeLegacyIpcFormat}static throughNode(e){throw Error('"throughNode" not available in this environment')}static throughDOM(e,t){throw Error('"throughDOM" not available in this environment')}toString(e=!1){return this._sink.toString(e)}toUint8Array(e=!1){return this._sink.toUint8Array(e)}writeAll(e){return sz(e)?e.then(e=>this.writeAll(e)):sU(e)?fu(this,e):fl(this,e)}get closed(){return this._sink.closed}[Symbol.asyncIterator](){return this._sink[Symbol.asyncIterator]()}toDOMStream(e){return this._sink.toDOMStream(e)}toNodeStream(e){return this._sink.toNodeStream(e)}close(){return this.reset()._sink.close()}abort(e){return this.reset()._sink.abort(e)}finish(){return this._autoDestroy?this.close():this.reset(this._sink,this._schema),this}reset(e=this._sink,t=null){let n,r;return e===this._sink||e instanceof d9?this._sink=e:(this._sink=new d9,e&&sR(n=e)&&"function"==typeof n.abort&&"function"==typeof n.getWriter&&!sW(n)?this.toDOMStream({type:"bytes"}).pipeTo(e):e&&sR(r=e)&&"function"==typeof r.end&&"function"==typeof r.write&&"boolean"==typeof r.writable&&!sW(r)&&this.toNodeStream({objectMode:!1}).pipe(e)),this._started&&this._schema&&this._writeFooter(this._schema),this._started=!1,this._dictionaryBlocks=[],this._recordBatchBlocks=[],this._dictionaryDeltaOffsets=new Map,t&&dm(t,this._schema)||(null==t?(this._position=0,this._schema=null):(this._started=!0,this._schema=t,this._writeSchema(t))),this}write(e){let t=null;if(this._sink){if(null==e)return this.finish()&&void 0;else if(e instanceof dw&&!(t=e.schema))return this.finish()&&void 0;else if(e instanceof dn&&!(t=e.schema))return this.finish()&&void 0}else throw Error("RecordBatchWriter is closed");if(t&&!dm(t,this._schema)){if(this._started&&this._autoDestroy)return this.close();this.reset(this._sink,t)}e instanceof dn?e instanceof di||this._writeRecordBatch(e):e instanceof dw?this.writeAll(e.batches):sF(e)&&this.writeAll(e)}_writeMessage(e,t=8){let n=t-1,r=hC.encode(e),i=r.byteLength,o=this._writeLegacyIpcFormat?4:8,a=i+o+n&~n,s=a-i-o;return e.headerType===eC.RecordBatch?this._recordBatchBlocks.push(new dJ(a,e.bodyLength,this._position)):e.headerType===eC.DictionaryBatch&&this._dictionaryBlocks.push(new dJ(a,e.bodyLength,this._position)),this._writeLegacyIpcFormat||this._write(Int32Array.of(-1)),this._write(Int32Array.of(a-o)),i>0&&this._write(r),this._writePadding(s)}_write(e){if(this._started){let t=s9(e);t&&t.byteLength>0&&(this._sink.write(t),this._position+=t.byteLength)}return this}_writeSchema(e){return this._writeMessage(hC.from(e))}_writeFooter(e){return this._writeLegacyIpcFormat?this._write(Int32Array.of(0)):this._write(Int32Array.of(-1,0))}_writeMagic(){return this._write(hH)}_writePadding(e){return e>0?this._write(new Uint8Array(e)):this}_writeRecordBatch(e){let{byteLength:t,nodes:n,bufferRegions:r,buffers:i}=h7.assemble(e),o=new hk(e.numRows,n,r),a=hC.from(o,t);return this._writeDictionaries(e)._writeMessage(a)._writeBodyBuffers(i)}_writeDictionaryBatch(e,t,n=!1){this._dictionaryDeltaOffsets.set(t,e.length+(this._dictionaryDeltaOffsets.get(t)||0));let{byteLength:r,nodes:i,bufferRegions:o,buffers:a}=h7.assemble(new co([e])),s=new hI(new hk(e.length,i,o),t,n),l=hC.from(s,r);return this._writeMessage(l)._writeBodyBuffers(a)}_writeBodyBuffers(e){let t,n,r;for(let i=-1,o=e.length;++i<o;)(t=e[i])&&(n=t.byteLength)>0&&(this._write(t),(r=(n+7&-8)-n)>0&&this._writePadding(r));return this}_writeDictionaries(e){for(let[t,n]of e.dictionaries){let e=this._dictionaryDeltaOffsets.get(t)||0;if(0===e||(n=null==n?void 0:n.slice(e)).length>0)for(let r of n.data)this._writeDictionaryBatch(r,t,e>0),e+=r.length}return this}}class fa extends fo{static writeAll(e,t){let n=new fa(t);return sz(e)?e.then(e=>n.writeAll(e)):sU(e)?fu(n,e):fl(n,e)}}class fs extends fo{static writeAll(e){let t=new fs;return sz(e)?e.then(e=>t.writeAll(e)):sU(e)?fu(t,e):fl(t,e)}constructor(){super(),this._autoDestroy=!0}_writeSchema(e){return this._writeMagic()._writePadding(2)}_writeFooter(e){let t=dZ.encode(new dZ(e,ev.V4,this._recordBatchBlocks,this._dictionaryBlocks));return super._writeFooter(e)._write(t)._write(Int32Array.of(t.byteLength))._writeMagic()}}function fl(e,t){let n=t;for(let r of(t instanceof dw&&(n=t.batches,e.reset(void 0,t.schema)),n))e.write(r);return e.finish()}function fu(e,t){var n,r,i,o;return sG(this,void 0,void 0,function*(){try{for(n=s0(t);!(r=yield n.next()).done;){let t=r.value;e.write(t)}}catch(e){i={error:e}}finally{try{r&&!r.done&&(o=n.return)&&(yield o.call(n))}finally{if(i)throw i.error}}return e.finish()})}function fc(e){let t=hK.from(e);return sz(t)?t.then(e=>fc(e)):t.isAsync()?t.readAll().then(e=>new dw(e)):new dw(t.readAll())}function fd(e,t="stream"){return("stream"===t?fa:fs).writeAll(e).toUint8Array(!0)}var fh=function(){function e(e,t,n,r){var i=this;this.getCell=function(e,t){var n=e<i.headerRows&&t<i.headerColumns,r=e>=i.headerRows&&t<i.headerColumns,o=e<i.headerRows&&t>=i.headerColumns;if(n){var a=["blank"];return t>0&&a.push("level"+e),{type:"blank",classNames:a.join(" "),content:""}}if(o){var s=t-i.headerColumns,a=["col_heading","level"+e,"col"+s];return{type:"columns",classNames:a.join(" "),content:i.getContent(i.columnsTable,s,e)}}if(r){var l=e-i.headerRows,a=["row_heading","level"+t,"row"+l];return{type:"index",id:"T_".concat(i.uuid,"level").concat(t,"_row").concat(l),classNames:a.join(" "),content:i.getContent(i.indexTable,l,t)}}var l=e-i.headerRows,s=t-i.headerColumns,a=["data","row"+l,"col"+s],u=i.styler?i.getContent(i.styler.displayValuesTable,l,s):i.getContent(i.dataTable,l,s);return{type:"data",id:"T_".concat(i.uuid,"row").concat(l,"_col").concat(s),classNames:a.join(" "),content:u}},this.getContent=function(e,t,n){var r=e.getChildAt(n);return null===r?"":i.getColumnTypeId(e,n)===ek.Timestamp?i.nanosToDate(r.get(t)):r.get(t)},this.dataTable=fc(e),this.indexTable=fc(t),this.columnsTable=fc(n),this.styler=r?{caption:r.caption,displayValuesTable:fc(r.displayValues),styles:r.styles,uuid:r.uuid}:void 0}return Object.defineProperty(e.prototype,"rows",{get:function(){return this.indexTable.numRows+this.columnsTable.numCols},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"columns",{get:function(){return this.indexTable.numCols+this.columnsTable.numRows},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"headerRows",{get:function(){return this.rows-this.dataRows},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"headerColumns",{get:function(){return this.columns-this.dataColumns},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"dataRows",{get:function(){return this.dataTable.numRows},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"dataColumns",{get:function(){return this.dataTable.numCols},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"uuid",{get:function(){return this.styler&&this.styler.uuid},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"caption",{get:function(){return this.styler&&this.styler.caption},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"styles",{get:function(){return this.styler&&this.styler.styles},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"table",{get:function(){return this.dataTable},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"index",{get:function(){return this.indexTable},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"columnTable",{get:function(){return this.columnsTable},enumerable:!1,configurable:!0}),e.prototype.serialize=function(){return{data:fd(this.dataTable),index:fd(this.indexTable),columns:fd(this.columnsTable)}},e.prototype.getColumnTypeId=function(e,t){return e.schema.fields[t].type.typeId},e.prototype.nanosToDate=function(e){return new Date(e/1e6)},e}(),ff=function(){return(ff=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};(es=ej||(ej={})).COMPONENT_READY="streamlit:componentReady",es.SET_COMPONENT_VALUE="streamlit:setComponentValue",es.SET_FRAME_HEIGHT="streamlit:setFrameHeight";var fp=function(){function e(){}return e.API_VERSION=1,e.RENDER_EVENT="streamlit:render",e.events=new EventTarget,e.registeredMessageListener=!1,e.setComponentReady=function(){e.registeredMessageListener||(window.addEventListener("message",e.onMessageEvent),e.registeredMessageListener=!0),e.sendBackMsg(ej.COMPONENT_READY,{apiVersion:e.API_VERSION})},e.setFrameHeight=function(t){void 0===t&&(t=document.body.scrollHeight),t!==e.lastFrameHeight&&(e.lastFrameHeight=t,e.sendBackMsg(ej.SET_FRAME_HEIGHT,{height:t}))},e.setComponentValue=function(t){var n;t instanceof fh?(n="dataframe",t=t.serialize()):function(e){var t=!1;try{t=e instanceof BigInt64Array||e instanceof BigUint64Array}catch(e){}return e instanceof Int8Array||e instanceof Uint8Array||e instanceof Uint8ClampedArray||e instanceof Int16Array||e instanceof Uint16Array||e instanceof Int32Array||e instanceof Uint32Array||e instanceof Float32Array||e instanceof Float64Array||t}(t)?(n="bytes",t=new Uint8Array(t.buffer)):t instanceof ArrayBuffer?(n="bytes",t=new Uint8Array(t)):n="json",e.sendBackMsg(ej.SET_COMPONENT_VALUE,{value:t,dataType:n})},e.onMessageEvent=function(t){t.data.type===e.RENDER_EVENT&&e.onRenderMessage(t.data)},e.onRenderMessage=function(t){var n=t.args;null==n&&(console.error("Got null args in onRenderMessage. This should never happen"),n={});var r=t.dfs&&t.dfs.length>0?e.argsDataframeToObject(t.dfs):{};n=ff(ff({},n),r);var i=!!t.disabled,o=t.theme;o&&fy(o);var a={disabled:i,args:n,theme:o},s=new CustomEvent(e.RENDER_EVENT,{detail:a});e.events.dispatchEvent(s)},e.argsDataframeToObject=function(t){return Object.fromEntries(t.map(function(t){var n=t.key,r=t.value;return[n,e.toArrowTable(r)]}))},e.toArrowTable=function(e){var t;return new fh((t=e.data).data,t.index,t.columns,t.styler)},e.sendBackMsg=function(e,t){window.parent.postMessage(ff({isStreamlitMessage:!0,type:e},t),"*")},e}(),fy=function(e){var t=document.createElement("style");document.head.appendChild(t),t.innerHTML="\n    :root {\n      --primary-color: ".concat(e.primaryColor,";\n      --background-color: ").concat(e.backgroundColor,";\n      --secondary-background-color: ").concat(e.secondaryBackgroundColor,";\n      --text-color: ").concat(e.textColor,";\n      --font: ").concat(e.font,";\n    }\n\n    body {\n      background-color: var(--background-color);\n      color: var(--text-color);\n    }\n  ")},fg=(el=function(e,t){return(el=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}el(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),fm=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return fg(t,e),t.prototype.componentDidMount=function(){fp.setFrameHeight()},t.prototype.componentDidUpdate=function(){fp.setFrameHeight()},t}(u(sT).PureComponent);let fb="bowtie-top-pulse-style";function fv(e){if(!e.data||!e.data.meta)return;let t=e.data.meta,n=e.data.baseLabel||e.data.label||"";if(!1===t.showMeta){e.data.label=n;return}let r=t.barrierMedium||"human-hardware",i=t.responsibleParty||"Unassigned",o={human:"Human",hardware:"Hardware","human-hardware":"Human/Hardware"}[r]||String(r),a=`RP ${i}`;e.data.label=`${n}
\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500
${o}
${a}`}let fw=({data:e,selected:t,style:n})=>{let r=e?.label||" Top Event",i=!!e?.meta?.breached;return(0,eK.jsxs)("div",{className:i?"rf-top-pulse":void 0,style:{...n,padding:10,borderRadius:12,border:n?.border||"2px solid #555",background:n?.background||"#ffffff",color:n?.color||"#111827",minWidth:140,textAlign:"center",position:"relative",boxShadow:t?"0 0 0 2px rgba(59,130,246,0.8)":n?.boxShadow},children:[(0,eK.jsx)(ol,{type:"target",position:em.Top,id:"hazard_in",style:{width:8,height:8}}),(0,eK.jsx)(ol,{type:"target",position:em.Left,id:"left_in",style:{width:8,height:8}}),(0,eK.jsx)(ol,{type:"source",position:em.Right,id:"right_out",style:{width:8,height:8}}),(0,eK.jsx)("div",{children:r})]})},f_=({data:e,selected:t,style:n})=>{let r=e?.label||" Hazard";return(0,eK.jsxs)("div",{style:{...n,padding:8,borderRadius:10,border:n?.border||"2px solid #000",background:n?.background||"repeating-linear-gradient(45deg, #facc15, #facc15 8px, #000 8px, #000 16px)",color:n?.color||"#000",minWidth:120,textAlign:"center",position:"relative",boxShadow:t?"0 0 0 2px rgba(59,130,246,0.8)":n?.boxShadow,fontWeight:700},children:[(0,eK.jsx)(ol,{type:"source",position:em.Bottom,id:"hazard_out",style:{width:8,height:8}}),(0,eK.jsx)("div",{children:r})]})},fx=(eu=class extends fm{constructor(e){super(e),this.state={...this.state,showGrid:!0,bgVariant:"dots",bgColor:"#0b1220",gridColor:"#334155",gridGap:20,gridSize:1,nodes:[],edges:[],rawEdges:[],rfInstance:null,contextMenu:{visible:!1,x:0,y:0,position:{x:0,y:0},kind:"threat",label:"",barrierType:"preventive",barrierMedium:"human-hardware",responsibleParty:"Unassigned"},editPanel:{visible:!1,nodeId:null,kind:"",label:"",barrierType:"preventive",barrierMedium:"human-hardware",responsibleParty:"Unassigned",failed:!1},collapsedThreats:[],collapsedConsequences:[],nodeMenu:{visible:!1,x:0,y:0,nodeId:null,canCollapse:!1,isCollapsed:!1,isBarrier:!1,barrierFailed:!1,barrierShowMeta:!0,isConsequence:!1,consequenceCollapsed:!1,isHazard:!1},edgeMenu:{visible:!1,x:0,y:0,edgeId:null,canDelete:!0,isSynthetic:!1,canInsert:!1,insertPosition:null,sourceId:null,targetId:null},pendingInsertFromEdge:null},this.handleToggleGrid=this.handleToggleGrid.bind(this),this.handleBgColorChange=this.handleBgColorChange.bind(this),this.handleGridColorChange=this.handleGridColorChange.bind(this),this.handleVariantChange=this.handleVariantChange.bind(this),this.handleGridGapChange=this.handleGridGapChange.bind(this),this.handleGridSizeChange=this.handleGridSizeChange.bind(this),this.syncFromProps=this.syncFromProps.bind(this),this.pushToStreamlit=this.pushToStreamlit.bind(this),this.onNodesChange=this.onNodesChange.bind(this),this.onEdgesChange=this.onEdgesChange.bind(this),this.onConnect=this.onConnect.bind(this),this.onInit=this.onInit.bind(this),this.onPaneContextMenu=this.onPaneContextMenu.bind(this),this.onPaneClick=this.onPaneClick.bind(this),this.handleMenuFieldChange=this.handleMenuFieldChange.bind(this),this.handleAddNodeFromMenu=this.handleAddNodeFromMenu.bind(this),this.handleCancelMenu=this.handleCancelMenu.bind(this),this.onNodeDoubleClick=this.onNodeDoubleClick.bind(this),this.handleEditFieldChange=this.handleEditFieldChange.bind(this),this.handleEditCancel=this.handleEditCancel.bind(this),this.handleEditSave=this.handleEditSave.bind(this),this.recalcNodes=this.recalcNodes.bind(this),this.onNodeContextMenu=this.onNodeContextMenu.bind(this),this.handleNodeMenuAction=this.handleNodeMenuAction.bind(this),this.handleNodeMenuClose=this.handleNodeMenuClose.bind(this),this.onEdgeContextMenu=this.onEdgeContextMenu.bind(this),this.handleEdgeMenuClose=this.handleEdgeMenuClose.bind(this),this.handleEdgeDelete=this.handleEdgeDelete.bind(this),this.handleEdgeInsertNode=this.handleEdgeInsertNode.bind(this),this.toggleBranchHighlight=this.toggleBranchHighlight.bind(this),this.fileInputRef=u(eG).createRef(),this.handleExport=this.handleExport.bind(this),this.handleImportClick=this.handleImportClick.bind(this),this.handleImportFileChange=this.handleImportFileChange.bind(this),this.cleanForSave=this.cleanForSave.bind(this),this.handleSavePng=this.handleSavePng.bind(this),this.canvasRef=u(eG).createRef()}componentDidMount(){!function(){if("undefined"==typeof document||document.getElementById(fb))return;let e=document.createElement("style");e.id=fb,e.innerHTML=`
    @keyframes bowtie-pulse-red {
      0% {
        box-shadow: 0 0 0 0 rgba(248, 113, 113, 0.9);
      }
      70% {
        box-shadow: 0 0 0 16px rgba(248, 113, 113, 0);
      }
      100% {
        box-shadow: 0 0 0 0 rgba(248, 113, 113, 0);
      }
    }

    .rf-top-pulse {
      animation: bowtie-pulse-red 1.6s infinite;
    }
  `,document.head.appendChild(e)}(),this.syncFromProps()}recalcNodes(e,t,n,r){let i=null!=n?n:this.state.collapsedThreats,o=null!=r?r:this.state.collapsedConsequences,a=function(e,t){let n=(e||[]).map(e=>({...e,hidden:!1,data:{...e.data||{},meta:{...(e.data||{}).meta||{}}},style:{...e.style||{}}})),r=(t||[]).map(e=>({...e,data:{...e.data||{}},style:{...e.style||{}}})),i={};n.forEach(e=>{let t;e.data||(e.data={}),e.data.meta||(e.data.meta={}),!(t=e.data.meta).kind&&"string"==typeof e.id&&(e.id.startsWith("hazard_")?t.kind="hazard":e.id.startsWith("threat_")?t.kind="threat":e.id.startsWith("conseq_")?t.kind="consequence":e.id.startsWith("barrier_")?t.kind="barrier":e.id.startsWith("center_")&&(t.kind="center")),"barrier"===t.kind&&(t.barrierType||(t.barrierType="preventive"),null==t.failed&&(t.failed=!1),t.barrierMedium||(t.barrierMedium="human-hardware"),t.responsibleParty||(t.responsibleParty="Unassigned"),null==t.showMeta&&(t.showMeta=!0),null==t.highlighted&&(t.highlighted=!1)),"hazard"!==t.kind||t.label||(t.label=" Hazard"),e.data.baseLabel||(e.data.baseLabel=e.data.label||""),null==t.breached&&(t.breached=!1),e.data.meta.breached=!1,i[e.id]=e}),n.forEach(e=>{"string"==typeof e.id&&(e.id.startsWith("barrier_")&&(e.targetPosition="left",e.sourcePosition="right"),e.id.startsWith("threat_")&&(e.sourcePosition="right",e.targetPosition="left"),e.id.startsWith("conseq_")&&(e.targetPosition="left",e.sourcePosition="right"),e.id.startsWith("hazard_")&&(e.sourcePosition="bottom",e.type="hazard"))});let o=n.filter(e=>"string"==typeof e.id&&e.id.startsWith("center_")),a=o.length>0?o[o.length-1].id:null,s={};r.forEach(e=>{s[e.source]||(s[e.source]=[]),s[e.source].push(e)}),r.forEach(e=>{if(e.style){let t={...e.style};delete t.stroke,delete t.strokeWidth,e.style=t}e.animated=!1});let l=new Set,u=new Set,c=new Set,d=!1;function h(e){let t=!1,n=!1;!function e(r,o,u,c){if(r===a){let e=[];for(let t=0;t<u.length;t++){let n=u[t];"string"==typeof n&&n.startsWith("barrier_")&&e.push({id:n,idx:t})}if(0===e.length){o.forEach(e=>l.add(e)),d=!0,t=!0;return}let r=-1;for(let{id:t,idx:n}of e){let e=i[t];if(!(e&&e.data&&e.data.meta||{}).failed){r=n;break}}if(-1===r)o.forEach(e=>l.add(e)),d=!0,t=!0;else{let e=Math.min(r,o.length);for(let t=0;t<e;t++)l.add(o[t]);n=!0}return}for(let t of s[r]||[]){let n=t.target;if(!n||c.has(n))continue;let r=new Set(c);r.add(n),e(n,[...o,t.id],[...u,n],r)}}(e,[],[e],new Set([e])),(t||n)&&u.add(e)}if(n.forEach(e=>{"string"==typeof e.id&&e.id.startsWith("threat_")&&h(e.id)}),n.forEach(e=>{"string"==typeof e.id&&e.id.startsWith("threat_")&&h(e.id)}),r.forEach(e=>{l.has(e.id)&&(e.style={...e.style||{},stroke:"#f97373",strokeWidth:3},e.animated=!0)}),d&&a&&i[a]&&!function e(t,n){for(let r of s[t]||[]){let t=r.target;if(!t||n.has(t))continue;let o=i[t];if(!o)continue;let a=o.data&&o.data.meta||{},s=new Set(n);s.add(t);let u=a.kind||"",d=a.barrierType||"preventive";l.add(r.id),"barrier"===u&&"mitigative"===d?a.failed&&e(t,s):"consequence"===u?c.add(t):e(t,s)}}(a,new Set([a])),r.forEach(e=>{l.has(e.id)&&(e.style={...e.style||{},stroke:"#f97373",strokeWidth:3},e.animated=!0)}),u.forEach(e=>{let t=i[e];if(!t||!t.data)return;let n=t.data.meta||{};n.breached=!0,t.data.meta=n}),d&&i[a]){let e=i[a].data&&i[a].data.meta||{};e.breached=!0,i[a].data.meta=e}d&&a&&r.forEach(e=>{if(e.target===a){let t=i[e.source];if(t&&t.data&&t.data.meta&&"hazard"===t.data.meta.kind){let e=t.data.meta;e.breached=!0,t.data.meta=e}}}),c.forEach(e=>{let t=i[e];if(!t||!t.data)return;let n=t.data.meta||{};n.breached=!0,t.data.meta=n}),n.forEach(e=>{let t=e.data.meta||{},n=t.kind||"",r=e.style||{};if("hazard"===n){let n=e.data.baseLabel||e.data.label||"";t.breached?e.style={...r,background:"repeating-linear-gradient(45deg, #fecaca, #fecaca 8px, #7f1d1d 8px, #7f1d1d 16px)",border:"2px solid #b91c1c",color:"#7f1d1d",fontWeight:700,textShadow:"0 0 2px rgba(255,255,255,1),             0 0 4px rgba(255,255,255,1),             0 0 8px rgba(255,255,255,1),             0 0 12px rgba(255,255,255,0.9)"}:e.style={...r,background:"repeating-linear-gradient(45deg, #facc15, #facc15 8px, #000 8px, #000 16px)",border:"2px solid #000",color:"#000",fontWeight:700,textShadow:"0 0 2px rgba(255,255,255,1),             0 0 4px rgba(255,255,255,1),             0 0 8px rgba(255,255,255,1),             0 0 12px rgba(255,255,255,0.9)"},e.data={...e.data||{},label:n}}else if("barrier"===n){let n=t.barrierType||"preventive",i={...r,whiteSpace:"pre-wrap",lineHeight:1.25,fontSize:11};t.failed?e.style={...i,border:"2px solid #f97373",background:"#111827",color:"#f9fafb"}:"preventive"===n?e.style={...i,border:"1px solid #22c55e",background:"#022c22",color:"#e5e7eb"}:e.style={...i,border:"1px dashed #38bdf8",background:"#020617",color:"#e5e7eb"}}else if("center"===n)if(t.breached)e.style={...r,background:"#fecaca",border:"2px solid #b91c1c",color:"#111827",animation:"bowtie-pulse-red 1.6s infinite"};else{let t={...r};delete t.animation,e.style={...t,background:"#dcfce7",border:"2px solid #16a34a",color:"#064e3b"}}else"threat"===n?t.breached?e.style={...r,background:"#fee2e2",border:"1px solid #f97373",color:"#111827"}:e.style={...r,background:"#ffedd5",border:"1px solid #fb923c",color:"#7c2d12"}:"consequence"===n&&(t.breached?e.style={...r,background:"#fecaca",border:"1px solid #b91c1c",color:"#111827"}:e.style={...r,background:"#e0f2fe",border:"1px solid #38bdf8",color:"#0f172a"})});let f=n.some(e=>e.data&&e.data.meta&&e.data.meta.highlighted),p=r.some(e=>e.data&&e.data.highlighted),y=f||p;return n.forEach(e=>{let t=e.data&&e.data.meta||{},n={...e.style||{}};delete n.outline,delete n.outlineOffset,delete n.filter,y?t.highlighted?(n.opacity=1,n.outline="2px solid rgba(59, 130, 246, 0.95)",n.outlineOffset=2):(n.opacity=.25,n.filter="grayscale(80%)"):n.opacity=1,e.style=n}),r.forEach(e=>{let t=e.data&&e.data.highlighted,n={...e.style||{}};y?t?(n.opacity=1,n.strokeWidth=(n.strokeWidth||2)+1):n.opacity=.25:n.opacity=1,e.style=n}),{nodes:n,edges:r}}(e,t),s=i&&0!==i.length?function(e,t,n){let r=(e||[]).map(e=>({...e})),i=(t||[]).map(e=>({...e}));if(!n||0===n.length)return{nodes:r,edges:i};let o={};r.forEach(e=>{o[e.id]=e});let a=r.filter(e=>"string"==typeof e.id&&e.id.startsWith("center_")),s=a.length?a[a.length-1].id:null;if(!s)return{nodes:r,edges:i};let l={},u={};function c(e,t){let n=new Set,r=Array.isArray(e)?[...e]:[e];for(r.forEach(e=>n.add(e));r.length;)for(let e of t[r.shift()]||[])n.has(e)||(n.add(e),r.push(e));return n}r.forEach(e=>{l[e.id]=[],u[e.id]=[]}),i.forEach(e=>{l[e.source]&&l[e.source].push(e.target),u[e.target]&&u[e.target].push(e.source)});let d=new Set(r.filter(e=>e.hidden).map(e=>e.id)),h=[];for(let e of(n||[]).filter(e=>!!o[e])){let t=c(e,l),n=c(s,u),r=new Set([...t].filter(e=>n.has(e)));if(r.has(s)){for(let t of r)t!==e&&t!==s&&d.add(t);h.push([e,s])}}for(let[e,t]of(r.forEach(e=>{d.has(e.id)&&(e.hidden=!0)}),i=i.filter(e=>!d.has(e.source)&&!d.has(e.target)),h))if(!i.some(n=>n.source===e&&n.target===t&&n.data&&n.data.syntheticCollapse)){let n=!!o[e]?.data?.meta?.breached,r={id:`collapse_${e}_${t}`,source:e,target:t,targetHandle:"left_in",type:"default",data:{syntheticCollapse:!0}};n&&(r.style={stroke:"#f97373",strokeWidth:3},r.animated=!0),i.push(r)}return{nodes:r,edges:i}}(a.nodes,a.edges,i):{nodes:a.nodes,edges:a.edges},l=function(e,t,n){let r=(e||[]).map(e=>({...e})),i=(t||[]).map(e=>({...e}));if(!n||0===n.length)return{nodes:r,edges:i};let o={};r.forEach(e=>{o[e.id]=e});let a={};r.forEach(e=>{a[e.id]=[]}),i.forEach(e=>{a[e.source]&&a[e.source].push(e)});let s=r.filter(e=>"string"==typeof e.id&&e.id.startsWith("center_")),l=s.length?s[s.length-1].id:null,u=new Set((n||[]).filter(e=>!!o[e])),c=new Set(r.filter(e=>e.hidden).map(e=>e.id));return u.forEach(e=>{if(!l)return;let t=new Set,n=[l],r=new Set,s=!1;for(;n.length>0;){let i=n.pop();t.has(i)||(t.add(i),(a[i]||[]).forEach(t=>{let i=t.target;"string"==typeof i&&(i.startsWith("barrier_")?(r.add(i),n.push(i)):i===e?s=!0:n.push(i))}))}if(r.forEach(e=>c.add(e)),s&&!i.some(t=>t.source===l&&t.target===e&&t.data&&t.data.syntheticCollapse)){let t=o[e],n=!!(t?.data?.meta||{}).breached,r={id:`collapse_${l}_${e}`,source:l,target:e,sourceHandle:"right_out",type:"default",data:{syntheticCollapse:!0}};n&&(r.style={stroke:"#f97373",strokeWidth:3},r.animated=!0),i.push(r)}}),r.forEach(e=>{c.has(e.id)&&(e.hidden=!0)}),{nodes:r,edges:i=i.filter(e=>!c.has(e.source)&&!c.has(e.target))}}(s.nodes,s.edges,o),u=(l.edges||[]).map(e=>{let t={...e.style||{}};return t.stroke||(t.stroke="#94a3b8"),t.strokeWidth||(t.strokeWidth=2),{...e,style:t}});return{nodes:l.nodes,edges:u}}syncFromProps(){let{nodes:e,edges:t,height:n}=this.props.args,r=[],i=[];try{r=e?JSON.parse(e):[],i=t?JSON.parse(t):[]}catch(e){console.error("Failed to parse nodes/edges from Python:",e)}let o=this.recalcNodes(r,i);this.setState(e=>({...e,nodes:o.nodes,edges:o.edges,rawEdges:i}),()=>{this.pushToStreamlit(),n&&fp.setFrameHeight(n)})}pushToStreamlit(){let{nodes:e,rawEdges:t}=this.state;fp.setComponentValue({nodes:e,edges:t})}onNodesChange(e){this.setState(t=>{let n=o2(e,t.nodes),r=this.recalcNodes(n,t.rawEdges);return{...t,nodes:r.nodes,edges:r.edges}},this.pushToStreamlit)}onEdgesChange(e){this.setState(t=>{let n=o3(e,t.rawEdges),r=this.recalcNodes(t.nodes,n);return{...t,nodes:r.nodes,edges:r.edges,rawEdges:n}},this.pushToStreamlit)}onConnect(e){this.setState(t=>{let n=iJ({...e,type:"default"},t.rawEdges),r=this.recalcNodes(t.nodes,n);return{...t,nodes:r.nodes,edges:r.edges,rawEdges:n}},this.pushToStreamlit)}onInit(e){this.setState({rfInstance:e},()=>{let{height:e}=this.props.args;e&&fp.setFrameHeight(e)})}cleanForSave(e,t){let n=(e||[]).map(e=>({id:e.id,position:e.position,type:e.type,data:{baseLabel:e.data?.baseLabel??e.data?.label??"",meta:e.data?.meta??{},label:e.data?.baseLabel??e.data?.label??""}})),r=(t||[]).map(e=>({id:e.id,source:e.source,target:e.target,sourceHandle:e.sourceHandle,targetHandle:e.targetHandle,type:e.type||"default",data:e.data&&Object.keys(e.data).length?e.data:void 0}));return{$schema:"https://todus-advisors.github/bowtie/v1",version:1,saved_at:new Date().toISOString(),nodes:n,edges:r}}onPaneContextMenu(e){e.preventDefault();let{rfInstance:t}=this.state;if(!t)return;let n=e.currentTarget.getBoundingClientRect(),r=t.project({x:e.clientX-n.left,y:e.clientY-n.top}),i=e.clientX-n.left,o=e.clientY-n.top;this.setState(e=>({...e,contextMenu:{...e.contextMenu,visible:!0,x:i,y:o,position:r,label:"",kind:"threat",barrierType:"preventive",barrierMedium:"human-hardware",responsibleParty:"Unassigned"},nodeMenu:{...e.nodeMenu,visible:!1},edgeMenu:{...e.edgeMenu,visible:!1}}))}onPaneClick(){let e=!1;this.setState(t=>{let n={...t};return t.contextMenu.visible&&(n.contextMenu={...t.contextMenu,visible:!1},e=!0),t.nodeMenu.visible&&(n.nodeMenu={...t.nodeMenu,visible:!1},e=!0),t.edgeMenu.visible&&(n.edgeMenu={...t.edgeMenu,visible:!1},e=!0),n}),e&&this.pushToStreamlit()}handleMenuFieldChange(e,t){this.setState(n=>({...n,contextMenu:{...n.contextMenu,[e]:t}}))}handleCancelMenu(){this.setState(e=>({...e,contextMenu:{...e.contextMenu,visible:!1},pendingInsertFromEdge:null}))}handleAddNodeFromMenu(){let{position:e,kind:t,label:n,barrierType:r,barrierMedium:i,responsibleParty:o}=this.state.contextMenu,a=n.trim()||"New node",s="node",l=a,u={};"threat"===t?(s="threat",l=`\u{26A0} Threat: ${a}`,u={kind:"threat"}):"consequence"===t?(s="conseq",l=`\u{2757} Consequence: ${a}`,u={kind:"consequence"}):"barrier"===t?(s="barrier",l=`\u{1F6E1} Barrier: ${a}`,u={kind:"barrier",barrierType:r,barrierMedium:i,responsibleParty:o||"Unassigned",failed:!1,showMeta:!0}):"center"===t?(s="center",l=`\u{1F3AF} ${a}`,u={kind:"center"}):"hazard"===t&&(s="hazard",l=`\u{26A0} Hazard: ${a}`,u={kind:"hazard"});let c=`${s}_${Date.now()}`,d={id:c,position:e,data:{label:l,baseLabel:l,meta:u},type:"center"===t?"topEvent":"hazard"===t?"hazard":"default"};"hazard"===t&&(d.style={background:"repeating-linear-gradient(45deg, #facc15, #facc15 8px, #000 8px, #000 16px)",border:"2px solid #000",color:"#000",padding:8,borderRadius:10}),"barrier"===t&&fv(d),this.setState(e=>{let n=[...e.nodes,d],r=e.rawEdges;if("hazard"===t){let t=e.nodes.find(e=>String(e.id).startsWith("center_"));t&&(r=[...r,{id:`edge_${c}_${t.id}`,source:c,target:t.id,targetHandle:"hazard_in",type:"default",style:{stroke:"#000",strokeWidth:2}}])}if(e.pendingInsertFromEdge&&"barrier"===t){let{edgeId:t,sourceId:n,targetId:i}=e.pendingInsertFromEdge,o=r.find(e=>e.id===t);r=r.filter(e=>e.id!==t);let a=o||{type:"default"},s={...a,id:`${t}_a_${Date.now()}`,source:n,target:c},l={...a,id:`${t}_b_${Date.now()}`,source:c,target:i};s.data&&s.data.syntheticCollapse&&(s.data={...s.data},delete s.data.syntheticCollapse),l.data&&l.data.syntheticCollapse&&(l.data={...l.data},delete l.data.syntheticCollapse),r=[...r,s,l]}let i=this.recalcNodes(n,r,void 0,void 0);return{...e,nodes:i.nodes,edges:i.edges,rawEdges:r,contextMenu:{...e.contextMenu,visible:!1},pendingInsertFromEdge:null}},this.pushToStreamlit)}renderContextMenu(){let{contextMenu:e}=this.state;if(!e.visible)return null;let t={position:"absolute",left:e.x,top:e.y,background:"#1f2933",color:"white",padding:"8px 10px",borderRadius:"8px",boxShadow:"0 8px 16px rgba(0,0,0,0.35)",zIndex:10,minWidth:"250px",fontSize:"0.85rem",border:"1px solid rgba(255,255,255,0.08)"},n={width:"100%",marginTop:"4px",marginBottom:"6px",padding:"3px 6px",fontSize:"0.85rem"};return(0,eK.jsxs)("div",{style:t,onClick:e=>e.stopPropagation(),children:[(0,eK.jsx)("div",{style:{fontWeight:600,marginBottom:"4px"},children:"Add node"}),(0,eK.jsxs)("label",{style:{display:"block",marginTop:"4px"},children:["Type",(0,eK.jsxs)("select",{style:n,value:e.kind,onChange:e=>this.handleMenuFieldChange("kind",e.target.value),children:[(0,eK.jsx)("option",{value:"threat",children:"Threat"}),(0,eK.jsx)("option",{value:"barrier",children:"Barrier"}),(0,eK.jsx)("option",{value:"hazard",children:"Hazard"}),(0,eK.jsx)("option",{value:"consequence",children:"Consequence"}),(0,eK.jsx)("option",{value:"center",children:"Top Event"})]})]}),(0,eK.jsxs)("label",{style:{display:"block",marginTop:"4px"},children:["Label",(0,eK.jsx)("input",{style:n,type:"text",value:e.label,placeholder:"e.g., Overpressure, PSV, Injury...",onChange:e=>this.handleMenuFieldChange("label",e.target.value)})]}),"barrier"===e.kind&&(0,eK.jsxs)(eK.Fragment,{children:[(0,eK.jsxs)("label",{style:{display:"block",marginTop:"4px"},children:["Barrier type",(0,eK.jsxs)("select",{style:n,value:e.barrierType,onChange:e=>this.handleMenuFieldChange("barrierType",e.target.value),children:[(0,eK.jsx)("option",{value:"preventive",children:"Preventive"}),(0,eK.jsx)("option",{value:"mitigative",children:"Mitigative"})]})]}),(0,eK.jsxs)("label",{style:{display:"block",marginTop:"4px"},children:["Medium",(0,eK.jsxs)("select",{style:n,value:e.barrierMedium,onChange:e=>this.handleMenuFieldChange("barrierMedium",e.target.value),children:[(0,eK.jsx)("option",{value:"human",children:"Human"}),(0,eK.jsx)("option",{value:"hardware",children:"Hardware"}),(0,eK.jsx)("option",{value:"human-hardware",children:"HumanHardware"})]})]}),(0,eK.jsxs)("label",{style:{display:"block",marginTop:"4px"},children:["Responsible Party",(0,eK.jsx)("input",{style:n,type:"text",value:e.responsibleParty||"",placeholder:"e.g., Maintenance Engineer",onChange:e=>this.handleMenuFieldChange("responsibleParty",e.target.value)})]})]}),(0,eK.jsxs)("div",{style:{display:"flex",justifyContent:"flex-end",gap:"6px",marginTop:"6px"},children:[(0,eK.jsx)("button",{style:{padding:"3px 8px",fontSize:"0.8rem",background:"#374151",border:"none",borderRadius:"4px",color:"white",cursor:"pointer"},onClick:this.handleCancelMenu,children:"Cancel"}),(0,eK.jsx)("button",{style:{padding:"3px 8px",fontSize:"0.8rem",background:"#10b981",border:"none",borderRadius:"4px",color:"white",cursor:"pointer"},onClick:this.handleAddNodeFromMenu,children:"Add node"})]})]})}onNodeDoubleClick(e,t){e.stopPropagation(),console.log("Double-clicked node:",t.id,t.data?.meta?.kind);let n=t.data&&t.data.meta||{},r=n.kind;!r&&"string"==typeof t.id&&(t.id.startsWith("hazard_")?r="hazard":t.id.startsWith("threat_")?r="threat":t.id.startsWith("conseq_")?r="consequence":t.id.startsWith("barrier_")?r="barrier":t.id.startsWith("center_")&&(r="center"));let i=(t.data.baseLabel||t.data.label||"").replace(/^ Hazard:\s*/i,"").replace(/^ Threat:\s*/i,"").replace(/^ Consequence:\s*/i,"").replace(/^ Barrier:\s*/i,"").replace(/^\s*/,""),o=n.barrierType||"preventive",a=n.barrierMedium||"human-hardware",s=n.responsibleParty||"Unassigned",l=!!n.failed;this.setState(e=>({...e,editPanel:{visible:!0,nodeId:t.id,kind:r||"node",label:i,barrierType:o,barrierMedium:a,responsibleParty:s,failed:l}}))}handleEditFieldChange(e,t){this.setState(n=>({...n,editPanel:{...n.editPanel,[e]:t}}))}handleEditCancel(){this.setState(e=>({...e,editPanel:{...e.editPanel,visible:!1}}))}handleEditSave(){this.setState(e=>{let{nodeId:t,kind:n,label:r,barrierType:i,barrierMedium:o,responsibleParty:a,failed:s}=e.editPanel,l=r.trim()||"Node",u=e.nodes.map(e=>{if(e.id!==t)return e;let r={...e.data&&e.data.meta||{}},u=l;"hazard"===n?(u=`\u{26A0} Hazard: ${l}`,r.kind="hazard"):"threat"===n?(u=`\u{26A0} Threat: ${l}`,r.kind="threat"):"consequence"===n?(u=`\u{2757} Consequence: ${l}`,r.kind="consequence"):"barrier"===n?(u=`\u{1F6E1} Barrier: ${l}`,r.kind="barrier",r.barrierType=i,r.barrierMedium=o||"human-hardware",r.responsibleParty=a&&a.trim().length?a.trim():"Unassigned",r.failed=!!s):"center"===n&&(u=`\u{1F3AF} ${l}`,r.kind="center");let c={...e.data||{},baseLabel:u,label:u,meta:r},d={...e,data:c};return"barrier"===n&&fv(d),d}),c=this.recalcNodes(u,e.rawEdges,void 0,void 0);return{...e,nodes:c.nodes,edges:c.edges,editPanel:{...e.editPanel,visible:!1}}},this.pushToStreamlit)}renderEditPanel(){let{editPanel:e}=this.state;if(!e.visible)return null;let t={width:"100%",marginTop:"4px",marginBottom:"6px",padding:"3px 6px",fontSize:"0.85rem"};return(0,eK.jsxs)("div",{style:{position:"absolute",top:12,right:12,background:"#111827",color:"white",padding:"10px 12px",borderRadius:"10px",boxShadow:"0 10px 25px rgba(0,0,0,0.45)",zIndex:20,width:"260px",fontSize:"0.85rem",border:"1px solid rgba(255,255,255,0.12)"},onClick:e=>e.stopPropagation(),children:[(0,eK.jsx)("div",{style:{fontWeight:600,marginBottom:"4px"},children:"Edit node"}),(0,eK.jsxs)("label",{style:{display:"block",marginTop:"4px"},children:["Label",(0,eK.jsx)("input",{style:t,type:"text",value:e.label,onChange:e=>this.handleEditFieldChange("label",e.target.value)})]}),"barrier"===e.kind&&(0,eK.jsxs)(eK.Fragment,{children:[(0,eK.jsxs)("label",{style:{display:"block",marginTop:"4px"},children:["Barrier type",(0,eK.jsxs)("select",{style:t,value:e.barrierType,onChange:e=>this.handleEditFieldChange("barrierType",e.target.value),children:[(0,eK.jsx)("option",{value:"preventive",children:"Preventive"}),(0,eK.jsx)("option",{value:"mitigative",children:"Mitigative"})]})]}),(0,eK.jsxs)("label",{style:{display:"block",marginTop:"4px"},children:["Medium",(0,eK.jsxs)("select",{style:t,value:e.barrierMedium,onChange:e=>this.handleEditFieldChange("barrierMedium",e.target.value),children:[(0,eK.jsx)("option",{value:"human",children:"Human"}),(0,eK.jsx)("option",{value:"hardware",children:"Hardware"}),(0,eK.jsx)("option",{value:"human-hardware",children:"HumanHardware"})]})]}),(0,eK.jsxs)("label",{style:{display:"block",marginTop:"4px"},children:["Responsible Party",(0,eK.jsx)("input",{style:t,type:"text",value:e.responsibleParty||"",onChange:e=>this.handleEditFieldChange("responsibleParty",e.target.value)})]}),(0,eK.jsxs)("label",{style:{display:"block",marginTop:"4px"},children:["Status",(0,eK.jsxs)("select",{style:t,value:e.failed?"failed":"active",onChange:e=>this.handleEditFieldChange("failed","failed"===e.target.value),children:[(0,eK.jsx)("option",{value:"active",children:"Active (working)"}),(0,eK.jsx)("option",{value:"failed",children:"Failed"})]})]})]}),(0,eK.jsxs)("div",{style:{display:"flex",justifyContent:"flex-end",gap:"6px",marginTop:"8px"},children:[(0,eK.jsx)("button",{style:{padding:"3px 8px",fontSize:"0.8rem",background:"#374151",border:"none",borderRadius:"4px",color:"white",cursor:"pointer"},onClick:this.handleEditCancel,children:"Cancel"}),(0,eK.jsx)("button",{style:{padding:"3px 8px",fontSize:"0.8rem",background:"#3b82f6",border:"none",borderRadius:"4px",color:"white",cursor:"pointer"},onClick:this.handleEditSave,children:"Save"})]})]})}onNodeContextMenu(e,t){e.preventDefault(),e.stopPropagation();let{rawEdges:n,collapsedThreats:r,collapsedConsequences:i,nodes:o}=this.state,a=document.getElementById("root"),s=a?a.getBoundingClientRect():{left:0,top:0},l=e.clientX-s.left,u=e.clientY-s.top,c="string"==typeof t.id&&t.id.startsWith("threat_"),d="string"==typeof t.id&&t.id.startsWith("barrier_"),h="string"==typeof t.id&&t.id.startsWith("conseq_"),f="string"==typeof t.id&&t.id.startsWith("hazard_"),p=o.filter(e=>"string"==typeof e.id&&e.id.startsWith("center_")),y=p.length>0?p[p.length-1].id:null,g=!1;if(c&&y){let e=new Set,r=[t.id],i=!1,o=!1;for(;r.length>0;){let t=r.pop();e.has(t)||(e.add(t),n.forEach(e=>{if(e.source===t){let t=e.target;"string"==typeof t&&(t.startsWith("barrier_")&&(i=!0),t===y&&(o=!0),r.push(t))}}))}g=i&&o}let m=r.includes(t.id),b=i.includes(t.id),v=!!d&&!!t.data&&!!t.data.meta&&!!t.data.meta.failed,w=!d||!t.data||!t.data.meta||!1!==t.data.meta.showMeta;this.setState(e=>({...e,nodeMenu:{...e.nodeMenu,visible:!0,x:l,y:u,nodeId:t.id,canCollapse:g,isCollapsed:m,isBarrier:d,barrierFailed:v,barrierShowMeta:w,isConsequence:h,consequenceCollapsed:b,isHazard:f},contextMenu:{...e.contextMenu,visible:!1},edgeMenu:{...e.edgeMenu,visible:!1}}))}handleNodeMenuClose(){this.setState(e=>({...e,nodeMenu:{...e.nodeMenu,visible:!1}}))}handleNodeMenuAction(e){if("editNode"===e){let e=this.state.nodeMenu.nodeId;if(!e)return;let t=this.state.nodes.find(t=>t.id===e);if(!t)return;let n=t.data&&t.data.meta||{},r=n.kind;!r&&"string"==typeof t.id&&(t.id.startsWith("hazard_")?r="hazard":t.id.startsWith("threat_")?r="threat":t.id.startsWith("conseq_")?r="consequence":t.id.startsWith("barrier_")?r="barrier":t.id.startsWith("center_")&&(r="center"));let i=(t.data.baseLabel||t.data.label||"").replace(/^ Hazard:\s*/i,"").replace(/^ Threat:\s*/i,"").replace(/^ Consequence:\s*/i,"").replace(/^ Barrier:\s*/i,"").replace(/^\s*/,""),o=n.barrierType||"preventive",a=n.barrierMedium||"human-hardware",s=n.responsibleParty||"Unassigned",l=!!n.failed;this.setState(e=>({...e,editPanel:{visible:!0,nodeId:t.id,kind:r||"node",label:i,barrierType:o,barrierMedium:a,responsibleParty:s,failed:l},nodeMenu:{...e.nodeMenu,visible:!1}}));return}if("toggleCollapse"===e)this.setState(e=>{let t=e.nodeMenu.nodeId;if(!t)return e;let n=e.nodes.map(e=>{let t={...e.data&&e.data.meta||{}};return t.highlighted&&(t.highlighted=!1),{...e,data:{...e.data||{},meta:t}}}),r=e.rawEdges.map(e=>{let t={...e.data||{}};return t.highlighted&&delete t.highlighted,{...e,data:t}}),i=e.collapsedThreats||[],o=i.indexOf(t);i=o>=0?[...i.slice(0,o),...i.slice(o+1)]:[...i,t];let a=this.recalcNodes(n,r,i,void 0);return{...e,nodes:a.nodes,edges:a.edges,rawEdges:r,collapsedThreats:i,nodeMenu:{...e.nodeMenu,visible:!1}}},this.pushToStreamlit);else if("toggleConsequenceCollapse"===e)this.setState(e=>{let t=e.nodeMenu.nodeId;if(!t)return e;let n=e.nodes.map(e=>{let t={...e.data&&e.data.meta||{}};return t.highlighted&&(t.highlighted=!1),{...e,data:{...e.data||{},meta:t}}}),r=e.rawEdges.map(e=>{let t={...e.data||{}};return t.highlighted&&delete t.highlighted,{...e,data:t}}),i=e.collapsedConsequences||[],o=i.indexOf(t);i=o>=0?[...i.slice(0,o),...i.slice(o+1)]:[...i,t];let a=this.recalcNodes(n,r,void 0,i);return{...e,nodes:a.nodes,edges:a.edges,rawEdges:r,collapsedConsequences:i,nodeMenu:{...e.nodeMenu,visible:!1}}},this.pushToStreamlit);else if("deleteNode"===e)this.setState(e=>{let t=e.nodeMenu.nodeId;if(!t)return e;let n=e.nodes.filter(e=>e.id!==t),r=e.rawEdges.filter(e=>e.source!==t&&e.target!==t),i=(e.collapsedThreats||[]).filter(e=>e!==t),o=(e.collapsedConsequences||[]).filter(e=>e!==t),a=this.recalcNodes(n,r,i,o);return{...e,nodes:a.nodes,edges:a.edges,rawEdges:r,collapsedThreats:i,collapsedConsequences:o,nodeMenu:{...e.nodeMenu,visible:!1}}},this.pushToStreamlit);else if("toggleBarrierFailed"===e)this.setState(e=>{let t=e.nodeMenu.nodeId;if(!t)return e;let n=e.nodes.map(e=>{if(e.id!==t)return e;let n={...e.data&&e.data.meta||{}};n.kind=n.kind||"barrier",n.failed=!n.failed;let r={...e.data||{},meta:n};return{...e,data:r}}),r=this.recalcNodes(n,e.rawEdges,void 0,void 0);return{...e,nodes:r.nodes,edges:r.edges,nodeMenu:{...e.nodeMenu,visible:!1}}},this.pushToStreamlit);else if("toggleBarrierMeta"===e)this.setState(e=>{let t=e.nodeMenu.nodeId;if(!t)return e;let n=e.nodes.map(e=>{if(e.id!==t)return e;let n={...e.data&&e.data.meta||{}};n.kind=n.kind||"barrier",n.showMeta=!1===n.showMeta;let r={...e,data:{...e.data||{},meta:n}};return fv(r),r}),r=this.recalcNodes(n,e.rawEdges,void 0,void 0);return{...e,nodes:r.nodes,edges:r.edges,nodeMenu:{...e.nodeMenu,visible:!1}}},this.pushToStreamlit);else if("highlightBranch"===e){let e=this.state.nodeMenu.nodeId;e&&this.toggleBranchHighlight(e),this.handleNodeMenuClose()}}renderNodeMenu(){let{nodeMenu:e}=this.state;if(!e.visible)return null;let t={position:"absolute",left:e.x,top:e.y,background:"#111827",color:"white",padding:"8px 10px",borderRadius:"8px",boxShadow:"0 8px 16px rgba(0,0,0,0.35)",zIndex:15,minWidth:"220px",fontSize:"0.85rem",border:"1px solid rgba(255,255,255,0.08)"};return(0,eK.jsxs)("div",{style:t,onClick:e=>e.stopPropagation(),children:[(0,eK.jsx)("div",{style:{fontWeight:600,marginBottom:"4px"},children:"Node actions"}),(0,eK.jsx)("button",{style:{width:"100%",padding:"4px 6px",fontSize:"0.8rem",background:"#3b82f6",border:"none",borderRadius:"4px",color:"white",cursor:"pointer",marginBottom:"6px"},onClick:()=>this.handleNodeMenuAction("editNode"),children:"Edit"}),!e.isHazard&&(0,eK.jsxs)(eK.Fragment,{children:[e.canCollapse?(0,eK.jsx)("button",{style:{width:"100%",padding:"4px 6px",fontSize:"0.8rem",background:"#2563eb",border:"none",borderRadius:"4px",color:"white",cursor:"pointer",marginBottom:"6px"},onClick:()=>this.handleNodeMenuAction("toggleCollapse"),children:e.isCollapsed?"Expand branch":"Collapse branch"}):(0,eK.jsx)("div",{style:{fontSize:"0.8rem",opacity:.7,marginBottom:"6px"},children:"No collapsible path from this node to Top Event."}),e.isConsequence&&(0,eK.jsx)("button",{style:{width:"100%",padding:"4px 6px",fontSize:"0.8rem",background:"#0ea5e9",border:"none",borderRadius:"4px",color:"white",cursor:"pointer",marginBottom:"6px"},onClick:()=>this.handleNodeMenuAction("toggleConsequenceCollapse"),children:e.consequenceCollapsed?"Expand consequence branch":"Collapse consequence branch"}),e.isBarrier&&(0,eK.jsxs)(eK.Fragment,{children:[(0,eK.jsx)("button",{style:{width:"100%",padding:"4px 6px",fontSize:"0.8rem",background:e.barrierFailed?"#16a34a":"#b91c1c",border:"none",borderRadius:"4px",color:"white",cursor:"pointer",marginBottom:"6px"},onClick:()=>this.handleNodeMenuAction("toggleBarrierFailed"),children:e.barrierFailed?"Mark barrier as active":"Mark barrier as failed"}),(0,eK.jsx)("button",{style:{width:"100%",padding:"4px 6px",fontSize:"0.8rem",background:"#4b5563",border:"none",borderRadius:"4px",color:"white",cursor:"pointer",marginBottom:"6px"},onClick:()=>this.handleNodeMenuAction("toggleBarrierMeta"),children:e.barrierShowMeta?"Hide barrier metadata":"Show barrier metadata"})]}),(0,eK.jsx)("button",{style:{width:"100%",padding:"4px 6px",fontSize:"0.8rem",background:"#f97316",border:"none",borderRadius:"4px",color:"white",cursor:"pointer",marginBottom:"6px"},onClick:()=>this.handleNodeMenuAction("highlightBranch"),children:"Highlight / Unhighlight branch"}),(0,eK.jsx)("button",{style:{width:"100%",padding:"4px 6px",fontSize:"0.8rem",background:"#b91c1c",border:"none",borderRadius:"4px",color:"white",cursor:"pointer",marginBottom:"4px"},onClick:()=>this.handleNodeMenuAction("deleteNode"),children:"Delete node"})]}),(0,eK.jsx)("button",{style:{width:"100%",padding:"3px 6px",fontSize:"0.78rem",background:"#374151",border:"none",borderRadius:"4px",color:"white",cursor:"pointer",marginTop:"2px"},onClick:this.handleNodeMenuClose,children:"Close"})]})}onEdgeContextMenu(e,t){e.preventDefault(),e.stopPropagation();let n=document.getElementById("root"),r=n?n.getBoundingClientRect():{left:0,top:0},i=e.clientX-r.left,o=e.clientY-r.top,a=!!(t.data&&t.data.syntheticCollapse),{nodes:s}=this.state,l=s.find(e=>e.id===t.source),u=s.find(e=>e.id===t.target),c=null;l&&u&&(c={x:(l.position.x+u.position.x)/2,y:(l.position.y+u.position.y)/2}),this.setState(e=>({...e,edgeMenu:{...e.edgeMenu,visible:!0,x:i,y:o,edgeId:t.id,canDelete:!a,isSynthetic:a,canInsert:!!c&&!a,insertPosition:c,sourceId:t.source,targetId:t.target},nodeMenu:{...e.nodeMenu,visible:!1},contextMenu:{...e.contextMenu,visible:!1}}))}handleEdgeMenuClose(){this.setState(e=>({...e,edgeMenu:{...e.edgeMenu,visible:!1}}))}handleEdgeDelete(){this.setState(e=>{let{edgeId:t,canDelete:n}=e.edgeMenu;if(!t||!n)return e;let r=e.rawEdges.filter(e=>e.id!==t),i=this.recalcNodes(e.nodes,r,void 0,void 0);return{...e,rawEdges:r,nodes:i.nodes,edges:i.edges,edgeMenu:{...e.edgeMenu,visible:!1}}},this.pushToStreamlit)}handleEdgeInsertNode(){this.setState(e=>{let{canInsert:t,insertPosition:n,edgeId:r,sourceId:i,targetId:o,x:a,y:s}=e.edgeMenu;return t&&n&&r&&i&&o?{...e,pendingInsertFromEdge:{edgeId:r,sourceId:i,targetId:o},edgeMenu:{...e.edgeMenu,visible:!1},contextMenu:{...e.contextMenu,visible:!0,x:a,y:s,position:n,kind:"barrier",label:"",barrierType:"preventive"}}:e})}toggleBranchHighlight(e){this.setState(t=>{let{nodes:n,rawEdges:r}=t,{nodeIds:i,edgeIds:o}=function(e,t,n){let r={};t.forEach(e=>{r[e.id]=e});let i=t.filter(e=>"string"==typeof e.id&&e.id.startsWith("center_")),o=i.length>0?i[i.length-1].id:null,a=new Set,s=new Set;if(!e||!r[e])return{nodeIds:a,edgeIds:s};function l(e,t,r=!0){let i=[e],o=new Set([e]),a={};for(;i.length;){let s=i.shift();if(s===t)return function(e,t,n){let r=[],i=n;for(;null!=i&&(r.push(i),i!==t);)i=e[i];return r.reverse()}(a,e,t);for(let e of n){let t=null;r&&e.source===s?t=e.target:r||e.target!==s||(t=e.source),!t||o.has(t)||(o.add(t),a[t]=s,i.push(t))}}return null}let u=null;if(o&&((u=l(e,o,!0))||(u=l(e,o,!1))),u&&u.length>0)return u.forEach(e=>a.add(e)),n.forEach(e=>{for(let t=0;t<u.length-1;t++){let n=u[t],r=u[t+1];if(e.source===n&&e.target===r||e.source===r&&e.target===n){s.add(e.id);break}}}),{nodeIds:a,edgeIds:s};let c=[e];for(a.add(e);c.length;){let e=c.shift();for(let t of n)if(t.source===e||t.target===e){s.add(t.id);let n=t.source===e?t.target:t.source;a.has(n)||(a.add(n),c.push(n))}}return{nodeIds:a,edgeIds:s}}(e,n,r),a=!1;n.forEach(e=>{i.has(e.id)&&e.data&&e.data.meta?.highlighted&&(a=!0)});let s=!a,l=n.map(e=>{if(!i.has(e.id))return e;let t={...e.data&&e.data.meta||{}};return t.highlighted=s,{...e,data:{...e.data||{},meta:t}}}),u=r.map(e=>{if(!o.has(e.id))return e;let t={...e.data||{}};return t.highlighted=s,{...e,data:t}}),c=this.recalcNodes(l,u,void 0,void 0);return{...t,nodes:c.nodes,edges:c.edges,rawEdges:u}},this.pushToStreamlit)}renderEdgeMenu(){let{edgeMenu:e}=this.state;if(!e.visible)return null;let t={position:"absolute",left:e.x,top:e.y,background:"#111827",color:"white",padding:"8px 10px",borderRadius:"8px",boxShadow:"0 8px 16px rgba(0,0,0,0.35)",zIndex:16,minWidth:"220px",fontSize:"0.85rem",border:"1px solid rgba(255,255,255,0.08)"};return(0,eK.jsxs)("div",{style:t,onClick:e=>e.stopPropagation(),children:[(0,eK.jsx)("div",{style:{fontWeight:600,marginBottom:"4px"},children:"Connection actions"}),(0,eK.jsx)("button",{style:{width:"100%",padding:"4px 6px",fontSize:"0.8rem",background:"#f97316",border:"none",borderRadius:"4px",color:"white",cursor:"pointer",marginBottom:"6px"},onClick:()=>this.toggleBranchHighlight(this.state.edgeMenu.sourceId),children:"Highlight / Unhighlight branch"}),e.canInsert&&(0,eK.jsx)("button",{style:{width:"100%",padding:"4px 6px",fontSize:"0.8rem",background:"#10b981",border:"none",borderRadius:"4px",color:"white",cursor:"pointer",marginBottom:"6px"},onClick:this.handleEdgeInsertNode,children:"Insert barrier node here"}),e.canDelete?(0,eK.jsx)("button",{style:{width:"100%",padding:"4px 6px",fontSize:"0.8rem",background:"#b91c1c",border:"none",borderRadius:"4px",color:"white",cursor:"pointer",marginBottom:"4px"},onClick:this.handleEdgeDelete,children:"Delete connection"}):(0,eK.jsx)("div",{style:{fontSize:"0.8rem",opacity:.7,marginBottom:"4px"},children:"This is a collapse shortcut. Expand the threat node to remove it."}),(0,eK.jsx)("button",{style:{width:"100%",padding:"3px 6px",fontSize:"0.78rem",background:"#374151",border:"none",borderRadius:"4px",color:"white",cursor:"pointer",marginTop:"2px"},onClick:this.handleEdgeMenuClose,children:"Close"})]})}render(){let{nodes:e,edges:t}=this.state,n=this.props.args.height||1e3;return(0,eK.jsxs)("div",{ref:this.canvasRef,style:{width:"100%",height:`${n}px`,position:"relative",background:this.state.bgColor},children:[(0,eK.jsxs)("div",{"data-bowtie-overlay":"1",style:{position:"absolute",top:8,left:8,zIndex:30,display:"flex",gap:8,background:"rgba(2,6,23,0.9)",border:"1px solid rgba(148,163,184,0.4)",borderRadius:8,padding:"6px 8px",boxShadow:"0 6px 18px rgba(0,0,0,0.6)"},children:[(0,eK.jsx)("button",{onClick:this.handleExport,style:{padding:"4px 8px",fontSize:"0.82rem",background:"#10b981",color:"white",border:"none",borderRadius:6,cursor:"pointer"},children:"Export JSON"}),(0,eK.jsx)("button",{onClick:this.handleImportClick,style:{padding:"4px 8px",fontSize:"0.82rem",background:"#3b82f6",color:"white",border:"none",borderRadius:6,cursor:"pointer"},children:"Import JSON"}),(0,eK.jsx)("button",{onClick:this.handleSavePng,style:{padding:"4px 8px",fontSize:"0.82rem",background:"#f59e0b",color:"white",border:"none",borderRadius:6,cursor:"pointer"},children:"Save PNG"}),(0,eK.jsx)("input",{ref:this.fileInputRef,type:"file",accept:"application/json,.json",style:{display:"none"},onChange:this.handleImportFileChange})]}),(0,eK.jsxs)("div",{"data-bowtie-overlay":"1",style:{position:"absolute",top:52,left:8,zIndex:30,display:"flex",alignItems:"center",gap:8,background:"rgba(2,6,23,0.9)",border:"1px solid rgba(148,163,184,0.4)",borderRadius:8,padding:"6px 8px",boxShadow:"0 6px 18px rgba(0,0,0,0.6)"},children:[(0,eK.jsx)("button",{onClick:this.handleToggleGrid,style:{padding:"4px 8px",fontSize:"0.8rem",background:"#475569",color:"white",border:"none",borderRadius:6,cursor:"pointer"},title:"Show / hide grid",children:this.state.showGrid?"Hide dots":"Show dots"}),(0,eK.jsxs)("label",{style:{display:"flex",alignItems:"center",gap:6,fontSize:12,color:"#cbd5e1"},children:["Fill",(0,eK.jsx)("input",{type:"color",value:this.state.bgColor,onChange:this.handleBgColorChange,style:{width:24,height:24,border:"none",background:"transparent",padding:0},title:"Canvas background color"})]}),(0,eK.jsxs)("label",{style:{display:"flex",alignItems:"center",gap:6,fontSize:12,color:"#cbd5e1"},children:["Grid",(0,eK.jsx)("input",{type:"color",value:this.state.gridColor,onChange:this.handleGridColorChange,style:{width:24,height:24,border:"none",background:"transparent",padding:0},title:"Dots/lines color"})]}),(0,eK.jsxs)("select",{value:this.state.bgVariant,onChange:this.handleVariantChange,style:{fontSize:12,padding:"4px 6px",borderRadius:6,background:"#0b1220",color:"#e5e7eb",border:"1px solid rgba(148,163,184,0.4)"},title:"Grid type",children:[(0,eK.jsx)("option",{value:"dots",children:"Dots"}),(0,eK.jsx)("option",{value:"lines",children:"Lines"}),(0,eK.jsx)("option",{value:"cross",children:"Cross"})]}),(0,eK.jsx)("input",{type:"number",min:"4",max:"80",step:"2",value:this.state.gridGap,onChange:this.handleGridGapChange,style:{width:58,fontSize:12,padding:"4px 6px",borderRadius:6,background:"#0b1220",color:"#e5e7eb",border:"1px solid rgba(148,163,184,0.4)"},title:"Grid spacing"}),(0,eK.jsx)("input",{type:"number",min:"1",max:"6",step:"1",value:this.state.gridSize,onChange:this.handleGridSizeChange,style:{width:48,fontSize:12,padding:"4px 6px",borderRadius:6,background:"#0b1220",color:"#e5e7eb",border:"1px solid rgba(148,163,184,0.4)"},title:"Dot size / line width"})]}),(0,eK.jsxs)(a0,{nodes:e,edges:t,nodeTypes:{topEvent:fw,hazard:f_},onNodesChange:this.onNodesChange,onEdgesChange:this.onEdgesChange,onConnect:this.onConnect,onInit:this.onInit,fitView:!0,fitViewOptions:{padding:.2},panOnScroll:!0,zoomOnScroll:!0,zoomOnPinch:!0,onPaneContextMenu:this.onPaneContextMenu,onPaneClick:this.onPaneClick,onNodeDoubleClick:this.onNodeDoubleClick,onNodeContextMenu:this.onNodeContextMenu,onEdgeContextMenu:this.onEdgeContextMenu,children:[this.state.showGrid&&(0,eK.jsx)(a9,{variant:this.state.bgVariant,gap:this.state.gridGap,size:this.state.gridSize,color:this.state.gridColor}),(0,eK.jsx)(sg,{pannable:!0,zoomable:!0,style:{background:"#020617",borderRadius:8,boxShadow:"0 6px 18px rgba(0,0,0,0.6)"}}),(0,eK.jsx)(ss,{position:"top-right",showZoom:!0,showFitView:!0,showInteractive:!1,style:{backgroundColor:"#020617",borderRadius:8,boxShadow:"0 6px 18px rgba(0,0,0,0.6)",border:"1px solid rgba(148,163,184,0.5)"}})]}),this.renderContextMenu(),this.renderEditPanel(),this.renderNodeMenu(),this.renderEdgeMenu()]})}handleExport(){let e=new Blob([JSON.stringify(this.cleanForSave(this.state.nodes,this.state.rawEdges),null,2)],{type:"application/json"}),t=URL.createObjectURL(e),n=new Date,r=e=>String(e).padStart(2,"0"),i=`bowtie_diagram_${n.getFullYear()}${r(n.getMonth()+1)}${r(n.getDate())}_${r(n.getHours())}${r(n.getMinutes())}${r(n.getSeconds())}.json`,o=document.createElement("a");o.href=t,o.download=i,document.body.appendChild(o),o.click(),o.remove(),URL.revokeObjectURL(t)}handleImportClick(){this.fileInputRef?.current&&(this.fileInputRef.current.value="",this.fileInputRef.current.click())}handleImportFileChange(e){let t=e.target.files?.[0];if(!t)return;let n=new FileReader;n.onload=()=>{try{let e=JSON.parse(n.result);if(!Array.isArray(e?.nodes)||!Array.isArray(e?.edges))return void console.error("Invalid file format.");let t=e.nodes.map(e=>({id:e.id,position:e.position||{x:0,y:0},type:e.type,data:{label:e.data?.baseLabel??e.data?.label??"",baseLabel:e.data?.baseLabel??e.data?.label??"",meta:{...e.data?.meta||{}}}})),r=e.edges.map(e=>({id:e.id,source:e.source,target:e.target,sourceHandle:e.sourceHandle,targetHandle:e.targetHandle,type:e.type||"default",data:e.data})),i=this.recalcNodes(t,r,[],[]);this.setState(e=>({...e,nodes:i.nodes,edges:i.edges,rawEdges:r,collapsedThreats:[],collapsedConsequences:[]}),this.pushToStreamlit)}catch(e){console.error("Failed to parse JSON:",e)}},n.readAsText(t)}handleToggleGrid(){this.setState(e=>({showGrid:!e.showGrid}))}handleBgColorChange(e){this.setState({bgColor:e.target.value})}handleGridColorChange(e){this.setState({gridColor:e.target.value})}handleVariantChange(e){this.setState({bgVariant:e.target.value})}handleGridGapChange(e){let t=Math.max(4,Math.min(80,Number(e.target.value)||0));this.setState({gridGap:t})}handleGridSizeChange(e){let t=Math.max(1,Math.min(6,Number(e.target.value)||0));this.setState({gridSize:t})}async handleSavePng(){if(this.canvasRef.current)try{let e=await tZ(this.canvasRef.current,{backgroundColor:this.state.bgColor,pixelRatio:2,cacheBust:!0,filter:e=>!(e instanceof Element)||!e.closest('[data-bowtie-overlay="1"]')}),t=new Date,n=e=>String(e).padStart(2,"0"),r=`bowtie_snapshot_${t.getFullYear()}${n(t.getMonth()+1)}${n(t.getDate())}_${n(t.getHours())}${n(t.getMinutes())}${n(t.getSeconds())}.png`,i=document.createElement("a");i.href=e,i.download=r,document.body.appendChild(i),i.click(),i.remove()}catch(e){console.error("PNG export failed:",e)}}},ec=function(e){function t(t){var n=e.call(this,t)||this;return n.componentDidMount=function(){fp.events.addEventListener(fp.RENDER_EVENT,n.onRenderEvent),fp.setComponentReady()},n.componentDidUpdate=function(){null!=n.state.componentError&&fp.setFrameHeight()},n.componentWillUnmount=function(){fp.events.removeEventListener(fp.RENDER_EVENT,n.onRenderEvent)},n.onRenderEvent=function(e){n.setState({renderData:e.detail})},n.state={renderData:void 0,componentError:void 0},n}return fg(t,e),t.prototype.render=function(){return null!=this.state.componentError?u(sT).createElement("div",null,u(sT).createElement("h1",null,"Component Error"),u(sT).createElement("span",null,this.state.componentError.message)):null==this.state.renderData?null:u(sT).createElement(eu,{width:window.innerWidth,disabled:this.state.renderData.disabled,args:this.state.renderData.args,theme:this.state.renderData.theme})},t.getDerivedStateFromError=function(e){return{componentError:e}},t}(u(sT).PureComponent),u(sm)(ec,eu)),fS=document.getElementById("root");u(eZ).createRoot(fS).render((0,eK.jsx)(fx,{}));
//# sourceMappingURL=frontend.b8fb8a48.js.map
